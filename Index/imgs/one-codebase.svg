<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg version="1.2" viewBox="0 0 28000 15750" preserveAspectRatio="xMidYMid" fill-rule="evenodd" stroke-width="28.222" stroke-linejoin="round" xmlns="http://www.w3.org/2000/svg" xmlns:ooo="http://xml.openoffice.org/svg/export" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:presentation="http://sun.com/xmlns/staroffice/presentation" xmlns:smil="http://www.w3.org/2001/SMIL20/" xmlns:anim="urn:oasis:names:tc:opendocument:xmlns:animation:1.0" xml:space="preserve">
 <defs class="ClipPathGroup">
  <clipPath id="presentation_clip_path" clipPathUnits="userSpaceOnUse">
   <rect x="0" y="0" width="28000" height="15750"/>
  </clipPath>
  <clipPath id="presentation_clip_path_shrink" clipPathUnits="userSpaceOnUse">
   <rect x="28" y="15" width="27944" height="15719"/>
  </clipPath>
 </defs>
 <defs>
  <g id="ooo:meta_slides" ooo:number-of-slides="1" ooo:start-slide-number="0">
   <g id="ooo:meta_dummy_slide" ooo:slide="dummy-slide" ooo:master="dummy-master-page" ooo:background-visibility="hidden" ooo:master-objects-visibility="hidden" ooo:has-transition="false"/>
   <g id="ooo:meta_slide_0" ooo:slide="id1" ooo:master="id2" ooo:has-transition="true"/>
  </g>
 </defs>
 <defs id="presentation-animations"/>
 <defs>
  <font id="EmbeddedFont_1" horiz-adv-x="2048">
   <font-face font-family="Arial embedded" units-per-em="2048" font-weight="normal" font-style="normal" ascent="1852" descent="423"/>
   <missing-glyph horiz-adv-x="2048" d="M 0,0 L 2047,0 2047,2047 0,2047 0,0 Z"/>
   <glyph unicode="y" horiz-adv-x="954" d="M 127,-409 L 107,-240 C 146,-251 181,-256 210,-256 250,-256 282,-249 306,-236 330,-223 350,-204 365,-180 376,-162 395,-117 420,-46 423,-36 429,-21 436,-2 L 33,1062 227,1062 448,447 C 477,369 502,287 525,201 546,284 570,364 599,443 L 826,1062 1006,1062 602,-18 C 559,-135 525,-215 501,-259 469,-318 432,-362 391,-389 350,-417 300,-431 243,-431 208,-431 170,-424 127,-409 Z"/>
   <glyph unicode="n" horiz-adv-x="874" d="M 135,0 L 135,1062 297,1062 297,911 C 375,1028 488,1086 635,1086 699,1086 758,1075 812,1052 865,1029 905,998 932,961 959,924 977,879 988,828 995,795 998,736 998,653 L 998,0 818,0 818,646 C 818,719 811,774 797,811 783,847 758,876 723,898 687,919 645,930 597,930 520,930 454,906 399,857 343,808 315,716 315,580 L 315,0 135,0 Z"/>
   <glyph unicode="l" horiz-adv-x="213" d="M 131,0 L 131,1466 311,1466 311,0 131,0 Z"/>
   <glyph unicode="P" horiz-adv-x="1139" d="M 158,0 L 158,1466 711,1466 C 808,1466 883,1461 934,1452 1006,1440 1066,1417 1115,1384 1164,1350 1203,1303 1233,1242 1262,1181 1277,1115 1277,1042 1277,917 1237,812 1158,726 1079,639 935,596 728,596 L 352,596 352,0 158,0 Z M 352,769 L 731,769 C 856,769 945,792 998,839 1051,886 1077,951 1077,1036 1077,1097 1062,1150 1031,1194 1000,1237 959,1266 908,1280 875,1289 815,1293 727,1293 L 352,1293 352,769 Z"/>
   <glyph unicode="O" horiz-adv-x="1430" d="M 99,714 C 99,957 164,1148 295,1286 426,1423 594,1492 801,1492 936,1492 1058,1460 1167,1395 1276,1330 1359,1240 1416,1125 1473,1009 1501,878 1501,731 1501,582 1471,449 1411,332 1351,215 1266,126 1156,66 1046,5 927,-25 800,-25 662,-25 539,8 430,75 321,142 239,233 183,348 127,463 99,585 99,714 Z M 299,711 C 299,534 347,395 442,294 537,192 656,141 799,141 945,141 1065,192 1160,295 1254,398 1301,543 1301,732 1301,851 1281,956 1241,1045 1200,1134 1141,1203 1064,1252 986,1301 899,1325 802,1325 665,1325 547,1278 448,1184 349,1089 299,932 299,711 Z"/>
  </font>
 </defs>
 <defs>
  <font id="EmbeddedFont_2" horiz-adv-x="2048">
   <font-face font-family="Liberation Sans embedded" units-per-em="2048" font-weight="normal" font-style="normal" ascent="1852" descent="423"/>
   <missing-glyph horiz-adv-x="2048" d="M 0,0 L 2047,0 2047,2047 0,2047 0,0 Z"/>
   <glyph unicode="Ã¼" horiz-adv-x="874" d="M 320,1082 L 320,396 C 320,325 327,269 341,230 355,191 377,162 408,145 439,128 484,119 543,119 630,119 698,149 748,208 798,267 823,350 823,455 L 823,1082 1003,1082 1003,231 C 1003,105 1005,28 1009,0 L 839,0 C 838,3 838,12 837,27 836,42 836,59 835,78 834,97 832,132 831,185 L 828,185 C 787,110 739,58 685,27 630,-4 563,-20 482,-20 363,-20 277,10 222,69 167,128 139,225 139,361 L 139,1082 320,1082 Z M 676,1219 L 676,1403 839,1403 839,1219 676,1219 Z M 282,1219 L 282,1403 447,1403 447,1219 282,1219 Z"/>
   <glyph unicode="y" horiz-adv-x="980" d="M 191,-425 C 142,-425 100,-421 67,-414 L 67,-279 C 92,-283 120,-285 151,-285 263,-285 352,-203 417,-38 L 434,5 5,1082 197,1082 425,484 C 428,475 432,464 437,451 442,438 457,394 482,320 507,246 521,205 523,196 L 593,393 830,1082 1020,1082 604,0 C 559,-115 518,-201 479,-257 440,-314 398,-356 351,-383 304,-411 250,-425 191,-425 Z"/>
   <glyph unicode="x" horiz-adv-x="980" d="M 801,0 L 510,444 217,0 23,0 408,556 41,1082 240,1082 510,661 778,1082 979,1082 612,558 1002,0 801,0 Z"/>
   <glyph unicode="w" horiz-adv-x="1509" d="M 1174,0 L 965,0 776,765 740,934 C 734,904 725,861 712,805 699,748 631,480 508,0 L 300,0 -3,1082 175,1082 358,347 C 363,331 377,265 401,149 L 418,223 644,1082 837,1082 1026,339 1072,149 1103,288 1308,1082 1484,1082 1174,0 Z"/>
   <glyph unicode="v" horiz-adv-x="1033" d="M 613,0 L 400,0 7,1082 199,1082 437,378 C 446,351 469,272 506,141 L 541,258 580,376 826,1082 1017,1082 613,0 Z"/>
   <glyph unicode="u" horiz-adv-x="874" d="M 314,1082 L 314,396 C 314,325 321,269 335,230 349,191 371,162 402,145 433,128 478,119 537,119 624,119 692,149 742,208 792,267 817,350 817,455 L 817,1082 997,1082 997,231 C 997,105 999,28 1003,0 L 833,0 C 832,3 832,12 831,27 830,42 830,59 829,78 828,97 826,132 825,185 L 822,185 C 781,110 733,58 679,27 624,-4 557,-20 476,-20 357,-20 271,10 216,69 161,128 133,225 133,361 L 133,1082 314,1082 Z"/>
   <glyph unicode="t" horiz-adv-x="531" d="M 554,8 C 495,-8 434,-16 372,-16 228,-16 156,66 156,229 L 156,951 31,951 31,1082 163,1082 216,1324 336,1324 336,1082 536,1082 536,951 336,951 336,268 C 336,216 345,180 362,159 379,138 408,127 450,127 474,127 509,132 554,141 L 554,8 Z"/>
   <glyph unicode="s" horiz-adv-x="927" d="M 950,299 C 950,197 912,118 835,63 758,8 650,-20 511,-20 376,-20 273,2 200,47 127,91 79,160 57,254 L 216,285 C 231,227 263,185 311,158 359,131 426,117 511,117 602,117 669,131 712,159 754,187 775,229 775,285 775,328 760,362 731,389 702,416 654,438 589,455 L 460,489 C 357,516 283,542 240,568 196,593 162,624 137,661 112,698 100,743 100,796 100,895 135,970 206,1022 276,1073 378,1099 513,1099 632,1099 727,1078 798,1036 868,994 912,927 931,834 L 769,814 C 759,862 732,899 689,925 645,950 586,963 513,963 432,963 372,951 333,926 294,901 275,864 275,814 275,783 283,758 299,738 315,718 339,701 370,687 401,673 467,654 568,629 663,605 732,583 774,563 816,542 849,520 874,495 898,470 917,442 930,410 943,377 950,340 950,299 Z"/>
   <glyph unicode="r" horiz-adv-x="530" d="M 142,0 L 142,830 C 142,906 140,990 136,1082 L 306,1082 C 311,959 314,886 314,861 L 318,861 C 347,954 380,1017 417,1051 454,1085 507,1102 575,1102 599,1102 623,1099 648,1092 L 648,927 C 624,934 592,937 552,937 477,937 420,905 381,841 342,776 322,684 322,564 L 322,0 142,0 Z"/>
   <glyph unicode="p" horiz-adv-x="927" d="M 1053,546 C 1053,169 920,-20 655,-20 488,-20 376,43 319,168 L 314,168 C 317,163 318,106 318,-2 L 318,-425 138,-425 138,861 C 138,972 136,1046 132,1082 L 306,1082 C 307,1079 308,1070 309,1054 310,1037 312,1012 314,978 315,944 316,921 316,908 L 320,908 C 352,975 394,1024 447,1055 500,1086 569,1101 655,1101 788,1101 888,1056 954,967 1020,878 1053,737 1053,546 Z M 864,542 C 864,693 844,800 803,865 762,930 698,962 609,962 538,962 482,947 442,917 401,887 371,840 350,777 329,713 318,630 318,528 318,386 341,281 386,214 431,147 505,113 607,113 696,113 762,146 803,212 844,277 864,387 864,542 Z"/>
   <glyph unicode="o" horiz-adv-x="980" d="M 1053,542 C 1053,353 1011,212 928,119 845,26 724,-20 565,-20 407,-20 288,28 207,125 126,221 86,360 86,542 86,915 248,1102 571,1102 736,1102 858,1057 936,966 1014,875 1053,733 1053,542 Z M 864,542 C 864,691 842,800 798,868 753,935 679,969 574,969 469,969 393,935 346,866 299,797 275,689 275,542 275,399 298,292 345,221 391,149 464,113 563,113 671,113 748,148 795,217 841,286 864,395 864,542 Z"/>
   <glyph unicode="n" horiz-adv-x="874" d="M 825,0 L 825,686 C 825,757 818,813 804,852 790,891 768,920 737,937 706,954 661,963 602,963 515,963 447,933 397,874 347,815 322,732 322,627 L 322,0 142,0 142,851 C 142,977 140,1054 136,1082 L 306,1082 C 307,1079 307,1070 308,1055 309,1040 310,1024 311,1005 312,986 313,950 314,897 L 317,897 C 358,972 406,1025 461,1056 515,1087 582,1102 663,1102 782,1102 869,1073 924,1014 979,955 1006,857 1006,721 L 1006,0 825,0 Z"/>
   <glyph unicode="m" horiz-adv-x="1457" d="M 768,0 L 768,686 C 768,791 754,863 725,903 696,943 645,963 570,963 493,963 433,934 388,875 343,816 321,734 321,627 L 321,0 142,0 142,851 C 142,977 140,1054 136,1082 L 306,1082 C 307,1079 307,1070 308,1055 309,1040 310,1024 311,1005 312,986 313,950 314,897 L 317,897 C 356,974 400,1027 450,1057 500,1087 561,1102 633,1102 715,1102 780,1086 828,1053 875,1020 908,968 927,897 L 930,897 C 967,970 1013,1022 1066,1054 1119,1086 1183,1102 1258,1102 1367,1102 1447,1072 1497,1013 1546,954 1571,856 1571,721 L 1571,0 1393,0 1393,686 C 1393,791 1379,863 1350,903 1321,943 1270,963 1195,963 1116,963 1055,934 1012,876 968,817 946,734 946,627 L 946,0 768,0 Z"/>
   <glyph unicode="l" horiz-adv-x="187" d="M 138,0 L 138,1484 318,1484 318,0 138,0 Z"/>
   <glyph unicode="k" horiz-adv-x="927" d="M 816,0 L 450,494 318,385 318,0 138,0 138,1484 318,1484 318,557 793,1082 1004,1082 565,617 1027,0 816,0 Z"/>
   <glyph unicode="i" horiz-adv-x="187" d="M 137,1312 L 137,1484 317,1484 317,1312 137,1312 Z M 137,0 L 137,1082 317,1082 317,0 137,0 Z"/>
   <glyph unicode="h" horiz-adv-x="874" d="M 317,897 C 356,968 402,1020 457,1053 511,1086 580,1102 663,1102 780,1102 867,1073 923,1015 978,956 1006,858 1006,721 L 1006,0 825,0 825,686 C 825,762 818,819 804,856 790,893 767,920 735,937 703,954 659,963 602,963 517,963 450,934 399,875 348,816 322,737 322,638 L 322,0 142,0 142,1484 322,1484 322,1098 C 322,1057 321,1015 319,972 316,929 315,904 314,897 L 317,897 Z"/>
   <glyph unicode="g" horiz-adv-x="927" d="M 548,-425 C 430,-425 336,-402 266,-355 196,-309 151,-243 131,-158 L 312,-132 C 324,-182 351,-220 392,-247 433,-274 486,-288 553,-288 732,-288 822,-183 822,27 L 822,201 820,201 C 786,132 739,80 680,45 621,10 551,-8 472,-8 339,-8 242,36 180,124 117,212 86,350 86,539 86,730 120,872 187,963 254,1054 355,1099 492,1099 569,1099 635,1082 692,1047 748,1012 791,962 822,897 L 824,897 C 824,917 825,952 828,1001 831,1050 833,1077 836,1082 L 1007,1082 C 1003,1046 1001,971 1001,858 L 1001,31 C 1001,-273 850,-425 548,-425 Z M 822,541 C 822,629 810,705 786,769 762,832 728,881 685,915 641,948 591,965 536,965 444,965 377,932 335,865 293,798 272,690 272,541 272,393 292,287 331,222 370,157 438,125 533,125 590,125 640,142 684,175 728,208 762,256 786,319 810,381 822,455 822,541 Z"/>
   <glyph unicode="f" horiz-adv-x="584" d="M 361,951 L 361,0 181,0 181,951 29,951 29,1082 181,1082 181,1204 C 181,1303 203,1374 246,1417 289,1460 356,1482 445,1482 495,1482 537,1478 572,1470 L 572,1333 C 542,1338 515,1341 492,1341 446,1341 413,1329 392,1306 371,1283 361,1240 361,1179 L 361,1082 572,1082 572,951 361,951 Z"/>
   <glyph unicode="e" horiz-adv-x="980" d="M 276,503 C 276,379 302,283 353,216 404,149 479,115 578,115 656,115 719,131 766,162 813,193 844,233 861,281 L 1019,236 C 954,65 807,-20 578,-20 418,-20 296,28 213,123 129,218 87,360 87,548 87,727 129,864 213,959 296,1054 416,1102 571,1102 889,1102 1048,910 1048,527 L 1048,503 276,503 Z M 862,641 C 852,755 823,838 775,891 727,943 658,969 568,969 481,969 412,940 361,882 310,823 282,743 278,641 L 862,641 Z"/>
   <glyph unicode="d" horiz-adv-x="927" d="M 821,174 C 788,105 744,55 689,25 634,-5 565,-20 484,-20 347,-20 247,26 183,118 118,210 86,349 86,536 86,913 219,1102 484,1102 566,1102 634,1087 689,1057 744,1027 788,979 821,914 L 823,914 821,1035 821,1484 1001,1484 1001,223 C 1001,110 1003,36 1007,0 L 835,0 C 833,11 831,35 829,74 826,113 825,146 825,174 L 821,174 Z M 275,542 C 275,391 295,282 335,217 375,152 440,119 530,119 632,119 706,154 752,225 798,296 821,405 821,554 821,697 798,802 752,869 706,936 633,969 532,969 441,969 376,936 336,869 295,802 275,693 275,542 Z"/>
   <glyph unicode="c" horiz-adv-x="901" d="M 275,546 C 275,402 298,295 343,226 388,157 457,122 548,122 612,122 666,139 709,174 752,209 778,262 788,334 L 970,322 C 956,218 912,135 837,73 762,11 668,-20 553,-20 402,-20 286,28 207,124 127,219 87,359 87,542 87,724 127,863 207,959 287,1054 402,1102 551,1102 662,1102 754,1073 827,1016 900,959 945,880 964,779 L 779,765 C 770,825 746,873 708,908 670,943 616,961 546,961 451,961 382,929 339,866 296,803 275,696 275,546 Z"/>
   <glyph unicode="b" horiz-adv-x="927" d="M 1053,546 C 1053,169 920,-20 655,-20 573,-20 505,-5 451,25 396,54 352,102 318,168 L 316,168 C 316,147 315,116 312,74 309,31 307,7 306,0 L 132,0 C 136,36 138,110 138,223 L 138,1484 318,1484 318,1061 C 318,1018 317,967 314,908 L 318,908 C 351,977 396,1027 451,1057 506,1087 574,1102 655,1102 792,1102 892,1056 957,964 1021,872 1053,733 1053,546 Z M 864,540 C 864,691 844,800 804,865 764,930 699,963 609,963 508,963 434,928 388,859 341,790 318,680 318,529 318,387 341,282 386,215 431,147 505,113 607,113 698,113 763,147 804,214 844,281 864,389 864,540 Z"/>
   <glyph unicode="a" horiz-adv-x="1060" d="M 414,-20 C 305,-20 224,9 169,66 114,123 87,202 87,302 87,414 124,500 198,560 271,620 390,652 554,656 L 797,660 797,719 C 797,807 778,870 741,908 704,946 645,965 565,965 484,965 426,951 389,924 352,897 330,853 323,793 L 135,810 C 166,1005 310,1102 569,1102 705,1102 807,1071 876,1009 945,946 979,856 979,738 L 979,272 C 979,219 986,179 1000,152 1014,125 1041,111 1080,111 1097,111 1117,113 1139,118 L 1139,6 C 1094,-5 1047,-10 1000,-10 933,-10 885,8 855,43 824,78 807,132 803,207 L 797,207 C 751,124 698,66 637,32 576,-3 501,-20 414,-20 Z M 455,115 C 521,115 580,130 631,160 682,190 723,231 753,284 782,336 797,390 797,445 L 797,534 600,530 C 515,529 451,520 408,504 364,488 330,463 307,430 284,397 272,353 272,299 272,240 288,195 320,163 351,131 396,115 455,115 Z"/>
   <glyph unicode="Z" horiz-adv-x="1139" d="M 1187,0 L 65,0 65,143 923,1253 138,1253 138,1409 1140,1409 1140,1270 282,156 1187,156 1187,0 Z"/>
   <glyph unicode="Y" horiz-adv-x="1245" d="M 777,584 L 777,0 587,0 587,584 45,1409 255,1409 684,738 1111,1409 1321,1409 777,584 Z"/>
   <glyph unicode="V" horiz-adv-x="1350" d="M 782,0 L 584,0 9,1409 210,1409 600,417 684,168 768,417 1156,1409 1357,1409 782,0 Z"/>
   <glyph unicode="T" horiz-adv-x="1192" d="M 720,1253 L 720,0 530,0 530,1253 46,1253 46,1409 1204,1409 1204,1253 720,1253 Z"/>
   <glyph unicode="S" horiz-adv-x="1192" d="M 1272,389 C 1272,259 1221,158 1120,87 1018,16 875,-20 690,-20 347,-20 148,99 93,338 L 278,375 C 299,290 345,228 414,189 483,149 578,129 697,129 820,129 916,150 983,193 1050,235 1083,297 1083,379 1083,425 1073,462 1052,491 1031,520 1001,543 963,562 925,581 880,596 827,609 774,622 716,635 652,650 541,675 456,699 399,724 341,749 295,776 262,807 229,837 203,872 186,913 168,954 159,1000 159,1053 159,1174 205,1267 298,1332 390,1397 522,1430 694,1430 854,1430 976,1406 1061,1357 1146,1308 1205,1224 1239,1106 L 1051,1073 C 1030,1148 991,1202 933,1236 875,1269 795,1286 692,1286 579,1286 493,1267 434,1230 375,1193 345,1137 345,1063 345,1020 357,984 380,956 403,927 436,903 479,884 522,864 609,840 738,811 781,801 825,791 868,781 911,770 952,758 991,744 1030,729 1067,712 1102,693 1136,674 1166,650 1191,622 1216,594 1236,561 1251,523 1265,485 1272,440 1272,389 Z"/>
   <glyph unicode="P" horiz-adv-x="1086" d="M 1258,985 C 1258,852 1215,746 1128,667 1041,588 922,549 773,549 L 359,549 359,0 168,0 168,1409 761,1409 C 919,1409 1041,1372 1128,1298 1215,1224 1258,1120 1258,985 Z M 1066,983 C 1066,1165 957,1256 738,1256 L 359,1256 359,700 746,700 C 959,700 1066,794 1066,983 Z"/>
   <glyph unicode="O" horiz-adv-x="1430" d="M 1495,711 C 1495,564 1467,435 1411,324 1354,213 1273,128 1168,69 1063,10 938,-20 795,-20 650,-20 526,9 421,68 316,127 235,212 180,323 125,434 97,563 97,711 97,936 159,1113 282,1240 405,1367 577,1430 797,1430 940,1430 1065,1402 1170,1345 1275,1288 1356,1205 1412,1096 1467,987 1495,859 1495,711 Z M 1300,711 C 1300,886 1256,1024 1169,1124 1081,1224 957,1274 797,1274 636,1274 511,1225 423,1126 335,1027 291,889 291,711 291,534 336,394 425,291 514,187 637,135 795,135 958,135 1083,185 1170,286 1257,386 1300,528 1300,711 Z"/>
   <glyph unicode="K" horiz-adv-x="1191" d="M 1106,0 L 543,680 359,540 359,0 168,0 168,1409 359,1409 359,703 1038,1409 1263,1409 663,797 1343,0 1106,0 Z"/>
   <glyph unicode="I" horiz-adv-x="213" d="M 189,0 L 189,1409 380,1409 380,0 189,0 Z"/>
   <glyph unicode="G" horiz-adv-x="1377" d="M 103,711 C 103,940 164,1117 287,1242 410,1367 582,1430 804,1430 960,1430 1087,1404 1184,1351 1281,1298 1356,1214 1409,1098 L 1227,1044 C 1187,1124 1132,1182 1062,1219 991,1256 904,1274 799,1274 636,1274 512,1225 426,1127 340,1028 297,890 297,711 297,533 343,393 434,290 525,187 652,135 813,135 905,135 991,149 1071,177 1150,205 1215,243 1264,291 L 1264,545 843,545 843,705 1440,705 1440,219 C 1365,143 1274,84 1166,43 1057,1 940,-20 813,-20 666,-20 539,9 432,68 325,127 244,211 188,322 131,432 103,562 103,711 Z"/>
   <glyph unicode="F" horiz-adv-x="1006" d="M 359,1253 L 359,729 1145,729 1145,571 359,571 359,0 168,0 168,1409 1169,1409 1169,1253 359,1253 Z"/>
   <glyph unicode="D" horiz-adv-x="1244" d="M 1381,719 C 1381,574 1353,447 1296,338 1239,229 1159,145 1055,87 951,29 831,0 695,0 L 168,0 168,1409 634,1409 C 873,1409 1057,1349 1187,1230 1316,1110 1381,940 1381,719 Z M 1189,719 C 1189,894 1141,1027 1046,1119 950,1210 811,1256 630,1256 L 359,1256 359,153 673,153 C 776,153 867,176 946,221 1024,266 1084,332 1126,417 1168,502 1189,603 1189,719 Z"/>
   <glyph unicode="C" horiz-adv-x="1297" d="M 792,1274 C 636,1274 515,1224 428,1124 341,1023 298,886 298,711 298,538 343,400 434,295 524,190 646,137 800,137 997,137 1146,235 1245,430 L 1401,352 C 1343,231 1262,138 1157,75 1052,12 930,-20 791,-20 649,-20 526,10 423,69 319,128 240,212 186,322 131,431 104,561 104,711 104,936 165,1112 286,1239 407,1366 575,1430 790,1430 940,1430 1065,1401 1166,1342 1267,1283 1341,1196 1388,1081 L 1207,1021 C 1174,1103 1122,1166 1050,1209 977,1252 891,1274 792,1274 Z"/>
   <glyph unicode="A" horiz-adv-x="1350" d="M 1167,0 L 1006,412 364,412 202,0 4,0 579,1409 796,1409 1362,0 1167,0 Z M 685,1265 L 676,1237 C 659,1182 635,1111 602,1024 L 422,561 949,561 768,1026 C 749,1072 731,1124 712,1182 L 685,1265 Z"/>
   <glyph unicode=" " horiz-adv-x="556"/>
  </font>
 </defs>
 <defs>
  <font id="EmbeddedFont_3" horiz-adv-x="2048">
   <font-face font-family="Liberation Serif embedded" units-per-em="2048" font-weight="normal" font-style="normal" ascent="1826" descent="450"/>
   <missing-glyph horiz-adv-x="2048" d="M 0,0 L 2047,0 2047,2047 0,2047 0,0 Z"/>
   <glyph unicode="Ã" horiz-adv-x="980" d="M 877,997 C 847,994 816,990 785,986 753,981 724,973 699,961 674,949 653,932 637,910 620,888 612,858 612,819 612,770 625,728 652,691 678,654 721,614 782,571 839,530 882,485 910,435 938,385 952,325 952,256 952,165 927,96 876,50 825,3 750,-20 651,-20 610,-20 566,-16 521,-7 475,2 441,13 418,27 L 418,219 463,219 496,125 C 511,106 532,91 559,78 585,65 615,59 649,59 749,59 799,114 799,225 799,279 786,326 759,366 732,406 689,446 631,485 576,523 534,566 506,614 477,661 463,718 463,784 463,856 484,914 526,959 568,1004 630,1033 713,1047 713,1158 699,1239 670,1288 641,1337 591,1362 520,1362 391,1362 326,1278 326,1110 L 326,0 20,0 20,45 160,70 160,1061 C 160,1186 190,1281 251,1346 311,1410 401,1442 520,1442 645,1442 735,1407 792,1336 849,1265 877,1152 877,997 Z"/>
   <glyph unicode="z" horiz-adv-x="795" d="M 55,0 L 55,45 571,860 350,860 C 313,860 277,857 242,851 207,844 183,836 170,825 L 139,690 92,690 92,940 786,940 786,891 270,80 545,80 C 583,80 623,85 665,94 707,103 737,114 754,127 L 805,324 852,324 827,0 55,0 Z"/>
   <glyph unicode="u" horiz-adv-x="980" d="M 313,268 C 313,153 366,96 473,96 556,96 633,106 705,127 L 705,870 563,895 563,940 870,940 870,70 989,45 989,0 715,0 707,76 C 660,50 605,28 543,9 481,-10 429,-20 387,-20 227,-20 147,72 147,256 L 147,870 27,895 27,940 313,940 313,268 Z"/>
   <glyph unicode="t" horiz-adv-x="557" d="M 334,-20 C 270,-20 222,-1 191,37 159,75 143,128 143,197 L 143,856 20,856 20,901 145,940 246,1153 309,1153 309,940 524,940 524,856 309,856 309,215 C 309,172 319,139 339,117 358,95 384,84 416,84 455,84 502,89 557,100 L 557,35 C 534,19 500,6 456,-4 412,-15 371,-20 334,-20 Z"/>
   <glyph unicode="r" horiz-adv-x="663" d="M 664,965 L 664,711 621,711 563,821 C 530,821 490,817 445,808 399,799 359,787 326,772 L 326,70 487,45 487,0 41,0 41,45 160,70 160,870 41,895 41,940 315,940 324,823 C 364,856 418,888 487,919 555,950 609,965 649,965 L 664,965 Z"/>
   <glyph unicode="o" horiz-adv-x="875" d="M 946,475 C 946,145 799,-20 506,-20 365,-20 258,22 186,107 114,192 78,314 78,475 78,634 114,755 186,839 258,923 367,965 514,965 657,965 764,924 837,842 910,759 946,637 946,475 Z M 766,475 C 766,619 745,723 703,788 661,853 595,885 506,885 419,885 356,854 317,792 278,730 258,624 258,475 258,324 278,217 318,154 357,91 420,59 506,59 594,59 659,92 702,157 745,222 766,328 766,475 Z"/>
   <glyph unicode="n" horiz-adv-x="980" d="M 324,864 C 375,893 430,918 488,937 546,956 594,965 633,965 714,965 776,941 817,894 858,847 879,778 879,688 L 879,70 993,45 993,0 588,0 588,45 713,70 713,670 C 713,725 700,769 673,801 646,832 604,848 547,848 487,848 413,838 326,819 L 326,70 453,45 453,0 47,0 47,45 160,70 160,870 47,895 47,940 315,940 324,864 Z"/>
   <glyph unicode="m" horiz-adv-x="1483" d="M 326,864 C 376,893 429,917 485,936 541,955 590,965 633,965 679,965 722,956 761,939 800,922 829,894 848,856 899,885 960,910 1029,932 1098,954 1155,965 1200,965 1360,965 1440,873 1440,688 L 1440,70 1561,45 1561,0 1134,0 1134,45 1274,70 1274,670 C 1274,785 1221,842 1114,842 1097,842 1077,841 1054,838 1031,835 1008,832 985,829 962,826 940,822 919,818 898,813 880,810 866,807 877,771 883,731 883,688 L 883,70 1024,45 1024,0 578,0 578,45 717,70 717,670 C 717,725 703,768 675,798 646,827 604,842 547,842 488,842 415,832 328,813 L 328,70 469,45 469,0 43,0 43,45 162,70 162,870 43,895 43,940 318,940 326,864 Z"/>
   <glyph unicode="l" horiz-adv-x="504" d="M 367,70 L 528,45 528,0 41,0 41,45 201,70 201,1352 41,1376 41,1421 367,1421 367,70 Z"/>
   <glyph unicode="i" horiz-adv-x="504" d="M 379,1247 C 379,1218 368,1192 347,1171 326,1150 300,1139 270,1139 241,1139 215,1150 194,1171 173,1192 162,1218 162,1247 162,1277 173,1303 194,1324 215,1345 241,1356 270,1356 300,1356 326,1345 347,1324 368,1303 379,1277 379,1247 Z M 369,70 L 530,45 530,0 43,0 43,45 203,70 203,870 70,895 70,940 369,940 369,70 Z"/>
   <glyph unicode="h" horiz-adv-x="1006" d="M 326,1014 C 326,945 324,895 319,864 367,891 422,915 483,935 544,955 595,965 637,965 718,965 780,941 821,894 862,847 883,778 883,688 L 883,70 997,45 997,0 592,0 592,45 717,70 717,676 C 717,791 662,848 551,848 488,848 413,838 326,819 L 326,70 453,45 453,0 41,0 41,45 160,70 160,1352 20,1376 20,1421 326,1421 326,1014 Z"/>
   <glyph unicode="e" horiz-adv-x="769" d="M 260,473 L 260,455 C 260,363 270,292 291,241 311,190 342,151 385,124 427,97 482,84 551,84 587,84 630,87 679,93 728,99 769,106 801,113 L 801,57 C 769,36 726,18 671,3 616,-12 559,-20 502,-20 356,-20 249,19 182,98 114,177 80,303 80,477 80,641 114,763 183,844 252,925 350,965 477,965 718,965 838,828 838,555 L 838,473 260,473 Z M 477,885 C 408,885 355,857 318,801 281,745 262,662 262,553 L 664,553 C 664,672 649,758 618,809 587,860 540,885 477,885 Z"/>
   <glyph unicode="a" horiz-adv-x="821" d="M 465,961 C 568,961 643,940 692,898 740,856 764,792 764,705 L 764,70 881,45 881,0 623,0 604,94 C 528,18 431,-20 313,-20 152,-20 72,73 72,260 72,323 84,375 109,416 133,457 172,488 225,510 278,531 356,543 457,545 L 598,549 598,696 C 598,761 586,808 563,839 539,870 502,885 453,885 386,885 325,869 270,838 L 236,721 180,721 180,926 C 288,949 383,961 465,961 Z M 598,479 L 467,475 C 378,472 317,454 286,423 254,392 238,339 238,266 238,149 286,90 381,90 426,90 466,95 499,106 532,116 565,129 598,145 L 598,479 Z"/>
   <glyph unicode="U" horiz-adv-x="1430" d="M 1159,1262 L 979,1288 979,1341 1436,1341 1436,1288 1264,1262 1264,461 C 1264,300 1220,180 1132,100 1043,20 915,-20 747,-20 569,-20 436,20 348,101 259,181 215,295 215,442 L 215,1262 43,1288 43,1341 579,1341 579,1288 407,1262 407,457 C 407,214 525,92 762,92 890,92 988,122 1057,183 1125,244 1159,334 1159,453 L 1159,1262 Z"/>
   <glyph unicode="F" horiz-adv-x="1006" d="M 424,602 L 424,80 647,53 647,0 72,0 72,53 231,80 231,1262 59,1288 59,1341 1065,1341 1065,1020 999,1020 967,1237 C 892,1246 784,1251 643,1251 L 424,1251 424,692 819,692 850,852 911,852 911,440 850,440 819,602 424,602 Z"/>
   <glyph unicode="D" horiz-adv-x="1350" d="M 1188,680 C 1188,867 1138,1009 1037,1106 936,1203 791,1251 604,1251 L 424,1251 424,94 C 504,89 599,86 709,86 873,86 994,134 1072,231 1149,328 1188,477 1188,680 Z M 668,1341 C 915,1341 1099,1286 1218,1176 1337,1065 1397,899 1397,678 1397,454 1340,284 1225,169 1110,54 938,-4 709,-4 L 231,0 59,0 59,53 231,80 231,1262 59,1288 59,1341 668,1341 Z"/>
   <glyph unicode="&gt;" horiz-adv-x="980" d="M 104,186 L 104,289 913,680 104,1071 104,1174 1057,705 1057,655 104,186 Z"/>
   <glyph unicode="&lt;" horiz-adv-x="980" d="M 102,655 L 102,705 1055,1174 1055,1071 246,680 1055,289 1055,186 102,655 Z"/>
   <glyph unicode="/" horiz-adv-x="557" d="M 100,-20 L 0,-20 471,1350 569,1350 100,-20 Z"/>
  </font>
 </defs>
 <defs>
  <font id="EmbeddedFont_4" horiz-adv-x="2048">
   <font-face font-family="OpenSymbol embedded" units-per-em="2048" font-weight="normal" font-style="normal" ascent="1402" descent="450"/>
   <missing-glyph horiz-adv-x="2048" d="M 0,0 L 2047,0 2047,2047 0,2047 0,0 Z"/>
   <glyph unicode="â" horiz-adv-x="1853" d="M 2015,739 L 1276,0 717,0 1260,543 174,543 174,936 1260,936 717,1481 1274,1481 2015,739 Z"/>
  </font>
 </defs>
 <defs>
  <font id="EmbeddedFont_5" horiz-adv-x="2048">
   <font-face font-family="StarSymbol embedded" units-per-em="2048" font-weight="normal" font-style="normal" ascent="1402" descent="450"/>
   <missing-glyph horiz-adv-x="2048" d="M 0,0 L 2047,0 2047,2047 0,2047 0,0 Z"/>
   <glyph unicode="â" horiz-adv-x="1191" d="M 813,0 C 632,0 489,54 383,161 276,268 223,411 223,592 223,773 276,916 383,1023 489,1130 632,1184 813,1184 992,1184 1136,1130 1245,1023 1353,916 1407,772 1407,592 1407,412 1353,268 1245,161 1136,54 992,0 813,0 Z"/>
   <glyph unicode="â" horiz-adv-x="1165" d="M -4,459 L 1135,459 1135,606 -4,606 -4,459 Z"/>
  </font>
 </defs>
 <defs class="TextShapeIndex">
  <g ooo:slide="id1" ooo:id-list="id6 id7 id8 id9 id10 id11 id12 id13"/>
 </defs>
 <defs class="EmbeddedBulletChars">
  <g id="bullet-char-template-57356" transform="scale(0.00048828125,-0.00048828125)">
   <path d="M 580,1141 L 1163,571 580,0 -4,571 580,1141 Z"/>
  </g>
  <g id="bullet-char-template-57354" transform="scale(0.00048828125,-0.00048828125)">
   <path d="M 8,1128 L 1137,1128 1137,0 8,0 8,1128 Z"/>
  </g>
  <g id="bullet-char-template-10146" transform="scale(0.00048828125,-0.00048828125)">
   <path d="M 174,0 L 602,739 174,1481 1456,739 174,0 Z M 1358,739 L 309,1346 659,739 1358,739 Z"/>
  </g>
  <g id="bullet-char-template-10132" transform="scale(0.00048828125,-0.00048828125)">
   <path d="M 2015,739 L 1276,0 717,0 1260,543 174,543 174,936 1260,936 717,1481 1274,1481 2015,739 Z"/>
  </g>
  <g id="bullet-char-template-10007" transform="scale(0.00048828125,-0.00048828125)">
   <path d="M 0,-2 C -7,14 -16,27 -25,37 L 356,567 C 262,823 215,952 215,954 215,979 228,992 255,992 264,992 276,990 289,987 310,991 331,999 354,1012 L 381,999 492,748 772,1049 836,1024 860,1049 C 881,1039 901,1025 922,1006 886,937 835,863 770,784 769,783 710,716 594,584 L 774,223 C 774,196 753,168 711,139 L 727,119 C 717,90 699,76 672,76 641,76 570,178 457,381 L 164,-76 C 142,-110 111,-127 72,-127 30,-127 9,-110 8,-76 1,-67 -2,-52 -2,-32 -2,-23 -1,-13 0,-2 Z"/>
  </g>
  <g id="bullet-char-template-10004" transform="scale(0.00048828125,-0.00048828125)">
   <path d="M 285,-33 C 182,-33 111,30 74,156 52,228 41,333 41,471 41,549 55,616 82,672 116,743 169,778 240,778 293,778 328,747 346,684 L 369,508 C 377,444 397,411 428,410 L 1163,1116 C 1174,1127 1196,1133 1229,1133 1271,1133 1292,1118 1292,1087 L 1292,965 C 1292,929 1282,901 1262,881 L 442,47 C 390,-6 338,-33 285,-33 Z"/>
  </g>
  <g id="bullet-char-template-9679" transform="scale(0.00048828125,-0.00048828125)">
   <path d="M 813,0 C 632,0 489,54 383,161 276,268 223,411 223,592 223,773 276,916 383,1023 489,1130 632,1184 813,1184 992,1184 1136,1130 1245,1023 1353,916 1407,772 1407,592 1407,412 1353,268 1245,161 1136,54 992,0 813,0 Z"/>
  </g>
  <g id="bullet-char-template-8226" transform="scale(0.00048828125,-0.00048828125)">
   <path d="M 346,457 C 273,457 209,483 155,535 101,586 74,649 74,723 74,796 101,859 155,911 209,963 273,989 346,989 419,989 480,963 531,910 582,859 608,796 608,723 608,648 583,586 532,535 482,483 420,457 346,457 Z"/>
  </g>
  <g id="bullet-char-template-8211" transform="scale(0.00048828125,-0.00048828125)">
   <path d="M -4,459 L 1135,459 1135,606 -4,606 -4,459 Z"/>
  </g>
  <g id="bullet-char-template-61548" transform="scale(0.00048828125,-0.00048828125)">
   <path d="M 173,740 C 173,903 231,1043 346,1159 462,1274 601,1332 765,1332 928,1332 1067,1274 1183,1159 1299,1043 1357,903 1357,740 1357,577 1299,437 1183,322 1067,206 928,148 765,148 601,148 462,206 346,322 231,437 173,577 173,740 Z"/>
  </g>
 </defs>
 <defs>
  <g id="dummy-master-page" ooo:name="dummy-master-page" class="Master_Slide">
   <g id="bg-dummy-master-page" class="Background" visibility="hidden"/>
   <g id="bo-dummy-master-page" class="BackgroundObjects" visibility="hidden"/>
  </g>
  <g id="id2" ooo:name="Standard" class="Master_Slide">
   <g id="bg-id2" class="Background"/>
   <g id="bo-id2" class="BackgroundObjects">
    <g visibility="hidden" ooo:text-adjust="left" class="Date/Time">
     <g id="id3">
      <rect class="BoundingBox" stroke="none" fill="none" x="1400" y="14348" width="6524" height="1086"/>
      <text class="TextShape"><tspan class="TextParagraph" font-family="Liberation Serif, serif" font-size="494px" font-weight="400"><tspan class="TextPosition" x="1400" y="14788"><tspan class="PlaceholderText" fill="rgb(0,0,0)" stroke="none">&lt;Datum/Uhrzeit&gt;</tspan></tspan></tspan></text>
     </g>
    </g>
    <g visibility="hidden" ooo:text-adjust="center" class="Footer">
     <g id="id4">
      <rect class="BoundingBox" stroke="none" fill="none" x="9576" y="14348" width="8876" height="1086"/>
      <text class="TextShape"><tspan class="TextParagraph" font-family="Liberation Serif, serif" font-size="494px" font-weight="400"><tspan class="TextPosition" x="12877" y="14788"><tspan class="PlaceholderText" fill="rgb(0,0,0)" stroke="none">&lt;FuÃzeile&gt;</tspan></tspan></tspan></text>
     </g>
    </g>
    <g visibility="hidden" ooo:text-adjust="right" class="Slide_Number">
     <g id="id5">
      <rect class="BoundingBox" stroke="none" fill="none" x="20076" y="14348" width="6524" height="1086"/>
      <text class="TextShape"><tspan class="TextParagraph" font-family="Liberation Serif, serif" font-size="494px" font-weight="400"><tspan class="TextPosition" x="23112" y="14788"><tspan class="PlaceholderText" fill="rgb(0,0,0)" stroke="none">&lt;Foliennummer&gt;</tspan></tspan></tspan></text>
     </g>
    </g>
   </g>
  </g>
 </defs>
 <g class="DummySlide">
  <g>
   <g id="dummy-slide" class="Slide" clip-path="url(#presentation_clip_path)">
    <g ooo:name="dummy-page" class="Page"/>
   </g>
  </g>
 </g>
 <g class="SlideGroup">
  <g visibility="hidden">
   <g id="container-id1">
    <g id="id1" class="Slide" clip-path="url(#presentation_clip_path)">
     <g ooo:name="page13" class="Page">
      <g id="bg-id1" class="Background">
       <path fill="rgb(119,188,101)" stroke="none" d="M 14000,15749 L 0,15749 0,0 27999,0 27999,15749 14000,15749 Z"/>
      </g>
      <g class="com.sun.star.drawing.TextShape">
       <g id="id6">
        <rect class="BoundingBox" stroke="none" fill="none" x="-200" y="621" width="27801" height="1674"/>
        <text class="TextShape"><tspan class="TextParagraph" font-family="Liberation Sans, sans-serif" font-size="1270px" font-weight="400"><tspan class="TextPosition" x="9427" y="1897"><tspan fill="rgb(0,0,0)" stroke="none">One Codebase</tspan></tspan></tspan></text>
       </g>
      </g>
      <g class="Graphic">
       <g id="id7">
        <rect class="BoundingBox" stroke="none" fill="none" x="9000" y="8800" width="3801" height="3801"/>
        <defs>
         <clipPath id="clip_path_1" clipPathUnits="userSpaceOnUse">
          <path d="M 9000,8800 L 12800,8800 12800,12600 9000,12600 9000,8800 Z"/>
         </clipPath>
        </defs>
        <g clip-path="url(#clip_path_1)"/>
        <defs>
         <clipPath id="clip_path_2" clipPathUnits="userSpaceOnUse">
          <path d="M 12567,11816 L 12567,11816 C 12567,11945 12493,12072 12352,12184 12212,12296 12010,12389 11767,12453 11524,12518 11248,12552 10967,12552 10687,12552 10411,12518 10168,12453 9924,12389 9723,12296 9582,12184 9442,12072 9368,11945 9368,11816 L 9368,11816 C 9368,11687 9442,11560 9582,11448 9723,11337 9924,11244 10168,11179 10411,11115 10687,11081 10967,11081 11248,11081 11524,11115 11767,11179 12010,11244 12212,11337 12352,11448 12493,11560 12567,11687 12567,11816 L 12567,11816 12567,11816 Z"/>
         </clipPath>
        </defs>
        <g clip-path="url(#clip_path_2)">
         <image x="8705" y="10775" width="4526" height="2083" preserveAspectRatio="none" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKwAAABQCAYAAACEYZ66AAAUXUlEQVR4nO1dPZDcRBd8d77z/dhUkZkMMhNCZDIgMkSGzERABERABERABESGCIiAyDgCR0AEZDgjA2c4I6T4sO/2/vajhfrU6p3R7t3tSlrfdpVqVxpJqx21et5782a0MhwOY4Hj4ffff48///zzSMesr6/HE088MaMruv+x0vUF9AFKvF9++SW2t7djMBgU3wGUYZ9Z4qGHHopHH320+I7PCxcuFN9BbpB8QfT/cGoI+8cffxQLSHjnzp2CgL/++mv89ddfXV9aATwUfGh++umnxn2feuqpguAXL14sSIzvjz322Owvsge47wiLmw4igpi3b98u1scRYN6Q+z8gLch76dKlQqWxTtW+XzD3hAUxsdy6dav4hIqeVuBBBb7//vvDbQ8++GChwiAxlJkmxrxirggLtVRy3m/KOQvA5AGBsbz//vvFNigvSYzPeVLh3hMWtua3334bN27cOFSQBU4G1COWzz77rFh/5JFH4rnnnosrV64UKtxn9JKwUM6bN28WRD3NTXxbQB1//PHHxQITAuS9fPly8dk386EXhEUYCeT84Ycfis++eO6nEaj7L7/8slgAJS8cuq7RKWHR3H/yySfx9ddfL0jaU0BAsLz22mtx9erVePHFF+OZZ57p7Ho6ISwICqIyML/AfAD3DQts3tdffz1eeumlwoRoE60RFnbS559/XjQ1R+3OXKBfwL18880345133ilU95VXXmmtF27mhIU3inAKmpUF7i/A96C9i1DZu+++W9i6s8TMCMun8BQRdblcUkCG0X6L19I6IEzPP/98obQffPDBzMJjUycsmns0FfQy5xRL/y5nyoVYLrcD06q3Pfm+b98PymWuAL/k6aefLgh77dq1qec4TI2wIOpHH31UBKPRVMwJlJj4DlLm6oTlEc1q6seDfKkczmFUD8RBw+/ulfsexBwRGbH0xx9/vDARQFw4atPAVAgLNUXzPwehKZKTxHTSUUVXoiKzKuskmJSwOezLMfvlNbg5gTIQmSTei56CYbG33367sHFP2hFxIsJCVV9++eVaskXPQGJy8TIl75kYBZWXZaqyLDsuSDKqJ5AjaJT7KEn9t0nc3eihAn/44YeF6n7xxRcnyl04NmF7rKog1GqMkvBMVKpKohJLVrYUaQIr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"/>
        </g>
        <g clip-path="url(#clip_path_1)"/>
        <defs>
         <clipPath id="clip_path_3" clipPathUnits="userSpaceOnUse">
          <path d="M 12480,10659 C 12480,11507 11793,12195 10945,12195 10097,12195 9410,11507 9410,10659 9410,9811 10097,9124 10945,9124 11793,9124 12480,9812 12480,10659 L 12480,10659 Z"/>
         </clipPath>
        </defs>
        <g clip-path="url(#clip_path_3)">
         <path fill="rgb(54,72,108)" stroke="none" d="M 13406,10044 C 13406,10564 13269,11075 13009,11525 12749,11975 12375,12349 11925,12608 11475,12868 10964,13005 10445,13005 9925,13005 9414,12868 8964,12608 8514,12349 8140,11975 7880,11525 7620,11075 7484,10564 7484,10044 7484,9524 7620,9014 7880,8564 8140,8114 8514,7740 8964,7480 9414,7220 9925,7083 10445,7083 10964,7083 11475,7220 11925,7480 12375,7740 12749,8114 13009,8564 13269,9014 13406,9524 13406,10044 L 13406,10044 Z"/>
         <path fill="rgb(54,72,108)" stroke="none" d="M 12819,10044 C 12819,10461 12709,10870 12501,11231 12292,11592 11993,11892 11632,12101 11271,12309 10861,12419 10445,12419 10028,12419 9618,12309 9257,12101 8896,11892 8597,11592 8388,11231 8180,10870 8070,10461 8070,10044 8070,9627 8180,9218 8388,8857 8597,8496 8896,8196 9257,7988 9618,7779 10028,7670 10445,7670 10861,7670 11271,7779 11632,7988 11993,8196 12292,8496 12501,8857 12709,9218 12819,9627 12819,10044 L 12819,10044 Z"/>
         <path fill="rgb(55,75,112)" stroke="none" d="M 12779,10044 C 12779,10454 12672,10857 12467,11212 12262,11567 11967,11861 11612,12066 11257,12271 10854,12379 10445,12379 10035,12379 9632,12271 9277,12066 8922,11861 8627,11567 8422,11212 8218,10857 8110,10454 8110,10044 8110,9634 8218,9232 8422,8877 8627,8522 8922,8227 9277,8022 9632,7817 10035,7709 10445,7709 10854,7709 11257,7817 11612,8022 11967,8227 12262,8522 12467,8877 12672,9232 12779,9634 12779,10044 L 12779,10044 Z"/>
         <path fill="rgb(55,78,117)" stroke="none" d="M 12740,10044 C 12740,10447 12634,10843 12432,11192 12231,11541 11941,11831 11592,12032 11243,12233 10847,12339 10445,12339 10042,12339 9646,12233 9297,12032 8948,11831 8658,11541 8457,11192 8255,10843 8149,10447 8149,10044 8149,9641 8255,9245 8457,8897 8658,8548 8948,8258 9297,8056 9646,7855 10042,7749 10445,7749 10847,7749 11243,7855 11592,8056 11941,8258 12231,8548 12432,8897 12634,9245 12740,9641 12740,10044 L 12740,10044 Z"/>
         <path fill="rgb(56,81,121)" stroke="none" d="M 12700,10044 C 12700,10440 12596,10829 12398,11172 12200,11515 11915,11800 11572,11998 11230,12196 10841,12300 10445,12300 10049,12300 9660,12196 9317,11998 8974,11800 8689,11515 8491,11172 8293,10829 8189,10440 8189,10044 8189,9648 8293,9259 8491,8916 8689,8573 8974,8289 9317,8091 9660,7893 10049,7788 10445,7788 10841,7788 11230,7893 11572,8091 11915,8289 12200,8573 12398,8916 12596,9259 12700,9648 12700,10044 L 12700,10044 Z"/>
         <path fill="rgb(57,84,126)" stroke="none" d="M 12661,10044 C 12661,10433 12558,10815 12364,11152 12169,11489 11890,11769 11553,11963 11216,12158 10834,12260 10445,12260 10056,12260 9673,12158 9336,11963 9000,11769 8720,11489 8525,11152 8331,10815 8228,10433 8228,10044 8228,9655 8331,9273 8525,8936 8720,8599 9000,8319 9336,8125 9673,7930 10056,7828 10445,7828 10834,7828 11216,7930 11553,8125 11890,8319 12169,8599 12364,8936 12558,9273 12661,9655 12661,10044 L 12661,10044 Z"/>
         <path fill="rgb(57,87,130)" stroke="none" d="M 12621,10044 C 12621,10426 12521,10802 12330,11132 12138,11463 11864,11738 11533,11929 11202,12120 10827,12221 10445,12221 10062,12221 9687,12120 9356,11929 9025,11738 8751,11463 8560,11132 8369,10802 8268,10426 8268,10044 8268,9662 8369,9287 8560,8956 8751,8625 9025,8350 9356,8159 9687,7968 10062,7868 10445,7868 10827,7868 11202,7968 11533,8159 11864,8350 12138,8625 12330,8956 12521,9287 12621,9662 12621,10044 L 12621,10044 Z"/>
         <path fill="rgb(58,90,134)" stroke="none" d="M 12582,10044 C 12582,10419 12483,10788 12295,11113 12108,11438 11838,11707 11513,11895 11188,12082 10820,12181 10445,12181 10069,12181 9701,12082 9376,11895 9051,11707 8781,11438 8594,11113 8406,10788 8308,10419 8308,10044 8308,9669 8406,9301 8594,8976 8781,8651 9051,8381 9376,8193 9701,8006 10069,7907 10445,7907 10820,7907 11188,8006 11513,8193 11838,8381 12108,8651 12295,8976 12483,9301 12582,9669 12582,10044 L 12582,10044 Z"/>
         <path fill="rgb(59,93,139)" stroke="none" d="M 12542,10044 C 12542,10412 12445,10774 12261,11093 12077,11412 11812,11677 11493,11861 11174,12045 10813,12142 10445,12142 10076,12142 9715,12045 9396,11861 9077,11677 8812,11412 8628,11093 8444,10774 8347,10412 8347,10044 8347,9676 8444,9314 8628,8995 8812,8677 9077,8412 9396,8228 9715,8044 10076,7947 10445,7947 10813,7947 11174,8044 11493,8228 11812,8412 12077,8677 12261,8995 12445,9314 12542,9676 12542,10044 L 12542,10044 Z"/>
         <path fill="rgb(59,95,143)" stroke="none" d="M 12502,10044 C 12502,10405 12407,10760 12227,11073 12046,11386 11786,11646 11473,11826 11161,12007 10806,12102 10445,12102 10083,12102 9728,12007 9416,11826 9103,11646 8843,11386 8662,11073 8482,10760 8387,10405 8387,10044 8387,9683 8482,9328 8662,9015 8843,8702 9103,8443 9416,8262 9728,8081 10083,7986 10445,7986 10806,7986 11161,8081 11473,8262 11786,8443 12046,8702 12227,9015 12407,9328 12502,9683 12502,10044 L 12502,10044 Z"/>
         <path fill="rgb(60,98,148)" stroke="none" d="M 12463,10044 C 12463,10398 12370,10747 12192,11053 12015,11360 11761,11615 11454,11792 11147,11969 10799,12062 10445,12062 10090,12062 9742,11969 9435,11792 9129,11615 8874,11360 8697,11053 8520,10747 8426,10398 8426,10044 8426,9690 8520,9342 8697,9035 8874,8728 9129,8473 9435,8296 9742,8119 10090,8026 10445,8026 10799,8026 11147,8119 11454,8296 11761,8473 12015,8728 12192,9035 12370,9342 12463,9690 12463,10044 L 12463,10044 Z"/>
         <path fill="rgb(61,101,152)" stroke="none" d="M 12423,10044 C 12423,10392 12332,10733 12158,11034 11984,11334 11735,11584 11434,11758 11133,11931 10792,12023 10445,12023 10097,12023 9756,11931 9455,11758 9154,11584 8905,11334 8731,11034 8557,10733 8466,10392 8466,10044 8466,9697 8557,9356 8731,9055 8905,8754 9154,8504 9455,8331 9756,8157 10097,8065 10445,8065 10792,8065 11133,8157 11434,8331 11735,8504 11984,8754 12158,9055 12332,9356 12423,9697 12423,10044 L 12423,10044 Z"/>
         <path fill="rgb(61,104,156)" stroke="none" d="M 12384,10044 C 12384,10385 12294,10719 12124,11014 11954,11309 11709,11553 11414,11724 11119,11894 10785,11983 10445,11983 10104,11983 9770,11894 9475,11724 9180,11553 8935,11309 8765,11014 8595,10719 8505,10385 8505,10044 8505,9704 8595,9369 8765,9075 8935,8780 9180,8535 9475,8365 9770,8195 10104,8105 10445,8105 10785,8105 11119,8195 11414,8365 11709,8535 11954,8780 12124,9075 12294,9369 12384,9704 12384,10044 L 12384,10044 Z"/>
         <path fill="rgb(62,107,161)" stroke="none" d="M 12344,10044 C 12344,10378 12256,10705 12090,10994 11923,11283 11683,11523 11394,11689 11106,11856 10778,11944 10445,11944 10111,11944 9784,11856 9495,11689 9206,11523 8966,11283 8799,10994 8633,10705 8545,10378 8545,10044 8545,9711 8633,9383 8799,9094 8966,8806 9206,8566 9495,8399 9784,8232 10111,8145 10445,8145 10778,8145 11106,8232 11394,8399 11683,8566 11923,8806 12090,9094 12256,9383 12344,9711 12344,10044 L 12344,10044 Z"/>
         <path fill="rgb(63,110,165)" stroke="none" d="M 12305,10044 C 12305,10371 12219,10691 12055,10974 11892,11257 11657,11492 11375,11655 11092,11818 10771,11904 10445,11904 10118,11904 9797,11818 9515,11655 9232,11492 8997,11257 8834,10974 8671,10691 8585,10371 8585,10044 8585,9718 8671,9397 8834,9114 8997,8831 9232,8597 9515,8433 9797,8270 10118,8184 10445,8184 10771,8184 11092,8270 11375,8433 11657,8597 11892,8831 12055,9114 12219,9397 12305,9718 12305,10044 L 12305,10044 Z"/>
         <path fill="rgb(63,113,170)" stroke="none" d="M 12265,10044 C 12265,10364 12181,10678 12021,10954 11861,11231 11631,11461 11355,11621 11078,11780 10764,11865 10445,11865 10125,11865 9811,11780 9534,11621 9258,11461 9028,11231 8868,10954 8708,10678 8624,10364 8624,10044 8624,9725 8708,9411 8868,9134 9028,8857 9258,8627 9534,8468 9811,8308 10125,8224 10445,8224 10764,8224 11078,8308 11355,8468 11631,8627 11861,8857 12021,9134 12181,9411 12265,9725 12265,10044 L 12265,10044 Z"/>
         <path fill="rgb(64,116,174)" stroke="none" d="M 12225,10044 C 12225,10357 12143,10664 11987,10935 11831,11205 11606,11430 11335,11586 11064,11743 10757,11825 10445,11825 10132,11825 9825,11743 9554,11586 9283,11430 9059,11205 8902,10935 8746,10664 8664,10357 8664,10044 8664,9732 8746,9424 8902,9154 9059,8883 9283,8658 9554,8502 9825,8346 10132,8263 10445,8263 10757,8263 11064,8346 11335,8502 11606,8658 11831,8883 11987,9154 12143,9424 12225,9732 12225,10044 L 12225,10044 Z"/>
         <path fill="rgb(68,119,176)" stroke="none" d="M 12186,10044 C 12186,10350 12106,10650 11953,10915 11800,11180 11580,11400 11315,11552 11051,11705 10750,11786 10445,11786 10139,11786 9839,11705 9574,11552 9309,11400 9089,11180 8936,10915 8783,10650 8703,10350 8703,10044 8703,9738 8783,9438 8936,9173 9089,8909 9309,8689 9574,8536 9839,8383 10139,8303 10445,8303 10750,8303 11051,8383 11315,8536 11580,8689 11800,8909 11953,9173 12106,9438 12186,9738 12186,10044 L 12186,10044 Z"/>
         <path fill="rgb(72,123,179)" stroke="none" d="M 12147,10044 C 12147,10343 12068,10637 11919,10895 11769,11154 11555,11369 11296,11518 11037,11668 10743,11747 10445,11747 10146,11747 9852,11668 9593,11518 9335,11369 9120,11154 8970,10895 8821,10637 8742,10343 8742,10044 8742,9745 8821,9452 8970,9193 9120,8934 9335,8719 9593,8570 9852,8420 10146,8342 10445,8342 10743,8342 11037,8420 11296,8570 11555,8719 11769,8934 11919,9193 12068,9452 12147,9745 12147,10044 L 12147,10044 Z"/>
         <path fill="rgb(76,126,181)" stroke="none" d="M 12108,10044 C 12108,10336 12031,10623 11885,10876 11739,11129 11529,11339 11276,11485 11023,11630 10736,11707 10445,11707 10153,11707 9866,11630 9613,11485 9360,11339 9150,11129 9004,10876 8858,10623 8781,10336 8781,10044 8781,9752 8858,9465 9004,9213 9150,8960 9360,8750 9613,8604 9866,8458 10153,8381 10445,8381 10736,8381 11023,8458 11276,8604 11529,8750 11739,8960 11885,9213 12031,9465 12108,9752 12108,10044 L 12108,10044 Z"/>
         <path fill="rgb(80,129,183)" stroke="none" d="M 12068,10044 C 12068,10329 11993,10609 11851,10856 11708,11103 11503,11308 11257,11451 11010,11593 10730,11668 10445,11668 10159,11668 9879,11593 9633,11451 9386,11308 9181,11103 9038,10856 8896,10609 8821,10329 8821,10044 8821,9759 8896,9479 9038,9232 9181,8985 9386,8780 9633,8638 9879,8495 10159,8420 10445,8420 10730,8420 11010,8495 11257,8638 11503,8780 11708,8985 11851,9232 11993,9479 12068,9759 12068,10044 L 12068,10044 Z"/>
         <path fill="rgb(84,132,185)" stroke="none" d="M 12029,10044 C 12029,10322 11956,10596 11817,10837 11678,11077 11478,11277 11237,11417 10996,11556 10723,11629 10445,11629 10166,11629 9893,11556 9652,11417 9411,11277 9211,11077 9072,10837 8933,10596 8860,10322 8860,10044 8860,9766 8933,9493 9072,9252 9211,9011 9411,8811 9652,8672 9893,8533 10166,8460 10445,8460 10723,8460 10996,8533 11237,8672 11478,8811 11678,9011 11817,9252 11956,9493 12029,9766 12029,10044 L 12029,10044 Z"/>
         <path fill="rgb(89,136,188)" stroke="none" d="M 11990,10044 C 11990,10315 11919,10582 11783,10817 11647,11052 11452,11247 11217,11383 10982,11518 10716,11590 10445,11590 10173,11590 9907,11518 9672,11383 9437,11247 9242,11052 9106,10817 8971,10582 8899,10315 8899,10044 8899,9773 8971,9506 9106,9271 9242,9037 9437,8841 9672,8706 9907,8570 10173,8499 10445,8499 10716,8499 10982,8570 11217,8706 11452,8841 11647,9037 11783,9271 11919,9506 11990,9773 11990,10044 L 11990,10044 Z"/>
         <path fill="rgb(93,139,190)" stroke="none" d="M 11951,10044 C 11951,10309 11881,10568 11749,10797 11617,11026 11427,11216 11198,11349 10969,11481 10709,11550 10445,11550 10180,11550 9920,11481 9691,11349 9462,11216 9272,11026 9140,10797 9008,10568 8938,10309 8938,10044 8938,9780 9008,9520 9140,9291 9272,9062 9462,8872 9691,8740 9920,8608 10180,8538 10445,8538 10709,8538 10969,8608 11198,8740 11427,8872 11617,9062 11749,9291 11881,9520 11951,9780 11951,10044 L 11951,10044 Z"/>
         <path fill="rgb(97,142,192)" stroke="none" d="M 11912,10044 C 11912,10302 11844,10555 11715,10778 11586,11001 11401,11186 11178,11315 10955,11443 10702,11511 10445,11511 10187,11511 9934,11443 9711,11315 9488,11186 9303,11001 9174,10778 9045,10555 8978,10302 8978,10044 8978,9787 9045,9534 9174,9311 9303,9088 9488,8903 9711,8774 9934,8645 10187,8577 10445,8577 10702,8577 10955,8645 11178,8774 11401,8903 11586,9088 11715,9311 11844,9534 11912,9787 11912,10044 L 11912,10044 Z"/>
         <path fill="rgb(101,145,194)" stroke="none" d="M 11872,10044 C 11872,10295 11806,10541 11681,10758 11556,10975 11375,11155 11158,11281 10941,11406 10695,11472 10445,11472 10194,11472 9948,11406 9731,11281 9514,11155 9333,10975 9208,10758 9083,10541 9017,10295 9017,10044 9017,9794 9083,9547 9208,9330 9333,9113 9514,8933 9731,8808 9948,8682 10194,8616 10445,8616 10695,8616 10941,8682 11158,8808 11375,8933 11556,9113 11681,9330 11806,9547 11872,9794 11872,10044 L 11872,10044 Z"/>
         <path fill="rgb(105,149,197)" stroke="none" d="M 11833,10044 C 11833,10288 11769,10527 11647,10738 11525,10950 11350,11125 11139,11247 10928,11369 10688,11433 10445,11433 10201,11433 9961,11369 9750,11247 9539,11125 9364,10950 9242,10738 9120,10527 9056,10288 9056,10044 9056,9800 9120,9561 9242,9350 9364,9139 9539,8964 9750,8842 9961,8720 10201,8656 10445,8656 10688,8656 10928,8720 11139,8842 11350,8964 11525,9139 11647,9350 11769,9561 11833,9800 11833,10044 L 11833,10044 Z"/>
         <path fill="rgb(109,152,199)" stroke="none" d="M 11794,10044 C 11794,10281 11731,10514 11613,10719 11495,10924 11324,11094 11119,11213 10914,11331 10681,11393 10445,11393 10208,11393 9975,11331 9770,11213 9565,11094 9394,10924 9276,10719 9158,10514 9095,10281 9095,10044 9095,9807 9158,9575 9276,9370 9394,9164 9565,8994 9770,8876 9975,8757 10208,8695 10445,8695 10681,8695 10914,8757 11119,8876 11324,8994 11495,9164 11613,9370 11731,9575 11794,9807 11794,10044 L 11794,10044 Z"/>
         <path fill="rgb(113,155,201)" stroke="none" d="M 11755,10044 C 11755,10274 11694,10500 11579,10699 11464,10898 11299,11064 11100,11179 10900,11294 10675,11354 10445,11354 10215,11354 9989,11294 9790,11179 9590,11064 9425,10898 9310,10699 9195,10500 9135,10274 9135,10044 9135,9814 9195,9588 9310,9389 9425,9190 9590,9025 9790,8910 9989,8795 10215,8734 10445,8734 10675,8734 10900,8795 11100,8910 11299,9025 11464,9190 11579,9389 11694,9588 11755,9814 11755,10044 L 11755,10044 Z"/>
         <path fill="rgb(117,158,203)" stroke="none" d="M 11715,10044 C 11715,10267 11657,10486 11545,10680 11434,10873 11273,11033 11080,11145 10887,11256 10668,11315 10445,11315 10221,11315 10002,11256 9809,11145 9616,11033 9456,10873 9344,10680 9232,10486 9174,10267 9174,10044 9174,9821 9232,9602 9344,9409 9456,9216 9616,9055 9809,8944 10002,8832 10221,8773 10445,8773 10668,8773 10887,8832 11080,8944 11273,9055 11434,9216 11545,9409 11657,9602 11715,9821 11715,10044 L 11715,10044 Z"/>
         <path fill="rgb(121,162,206)" stroke="none" d="M 11676,10044 C 11676,10260 11619,10473 11511,10660 11403,10847 11248,11003 11060,11111 10873,11219 10661,11276 10445,11276 10228,11276 10016,11219 9829,11111 9642,11003 9486,10847 9378,10660 9270,10473 9213,10260 9213,10044 9213,9828 9270,9616 9378,9428 9486,9241 9642,9086 9829,8978 10016,8870 10228,8813 10445,8813 10661,8813 10873,8870 11060,8978 11248,9086 11403,9241 11511,9428 11619,9616 11676,9828 11676,10044 L 11676,10044 Z"/>
         <path fill="rgb(125,165,208)" stroke="none" d="M 11637,10044 C 11637,10253 11582,10459 11477,10640 11372,10822 11222,10972 11041,11077 10859,11181 10654,11237 10445,11237 10235,11237 10030,11181 9848,11077 9667,10972 9517,10822 9412,10640 9307,10459 9252,10253 9252,10044 9252,9835 9307,9629 9412,9448 9517,9267 9667,9116 9848,9012 10030,8907 10235,8852 10445,8852 10654,8852 10859,8907 11041,9012 11222,9116 11372,9267 11477,9448 11582,9629 11637,9835 11637,10044 L 11637,10044 Z"/>
         <path fill="rgb(129,168,210)" stroke="none" d="M 11598,10044 C 11598,10247 11544,10445 11443,10621 11342,10796 11196,10942 11021,11043 10846,11144 10647,11197 10445,11197 10242,11197 10043,11144 9868,11043 9693,10942 9547,10796 9446,10621 9345,10445 9291,10247 9291,10044 9291,9842 9345,9643 9446,9468 9547,9292 9693,9147 9868,9046 10043,8944 10242,8891 10445,8891 10647,8891 10846,8944 11021,9046 11196,9147 11342,9292 11443,9468 11544,9643 11598,9842 11598,10044 L 11598,10044 Z"/>
         <path fill="rgb(133,171,212)" stroke="none" d="M 11558,10044 C 11558,10240 11507,10432 11409,10601 11311,10770 11171,10911 11001,11009 10832,11107 10640,11158 10445,11158 10249,11158 10057,11107 9888,11009 9718,10911 9578,10770 9480,10601 9382,10432 9331,10240 9331,10044 9331,9849 9382,9657 9480,9487 9578,9318 9718,9177 9888,9080 10057,8982 10249,8930 10445,8930 10640,8930 10832,8982 11001,9080 11171,9177 11311,9318 11409,9487 11507,9657 11558,9849 11558,10044 L 11558,10044 Z"/>
         <path fill="rgb(138,175,215)" stroke="none" d="M 11519,10044 C 11519,10233 11470,10418 11375,10582 11281,10745 11145,10881 10982,10975 10819,11069 10633,11119 10445,11119 10256,11119 10071,11069 9907,10975 9744,10881 9608,10745 9514,10582 9420,10418 9370,10233 9370,10044 9370,9856 9420,9670 9514,9507 9608,9343 9744,9208 9907,9114 10071,9019 10256,8970 10445,8970 10633,8970 10819,9019 10982,9114 11145,9208 11281,9343 11375,9507 11470,9670 11519,9856 11519,10044 L 11519,10044 Z"/>
         <path fill="rgb(142,178,217)" stroke="none" d="M 11480,10044 C 11480,10226 11432,10404 11341,10562 11250,10719 11120,10850 10962,10941 10805,11032 10626,11080 10445,11080 10263,11080 10084,11032 9927,10941 9769,10850 9639,10719 9548,10562 9457,10404 9409,10226 9409,10044 9409,9862 9457,9684 9548,9526 9639,9369 9769,9238 9927,9147 10084,9057 10263,9009 10445,9009 10626,9009 10805,9057 10962,9147 11120,9238 11250,9369 11341,9526 11432,9684 11480,9862 11480,10044 L 11480,10044 Z"/>
         <path fill="rgb(146,181,219)" stroke="none" d="M 11441,10044 C 11441,10219 11395,10391 11307,10542 11220,10694 11094,10819 10943,10907 10791,10994 10619,11040 10445,11040 10270,11040 10098,10994 9946,10907 9795,10819 9669,10694 9582,10542 9494,10391 9448,10219 9448,10044 9448,9869 9494,9698 9582,9546 9669,9395 9795,9269 9946,9181 10098,9094 10270,9048 10445,9048 10619,9048 10791,9094 10943,9181 11094,9269 11220,9395 11307,9546 11395,9698 11441,9869 11441,10044 L 11441,10044 Z"/>
         <path fill="rgb(150,184,221)" stroke="none" d="M 11401,10044 C 11401,10212 11357,10377 11273,10523 11189,10668 11068,10789 10923,10873 10778,10957 10613,11001 10445,11001 10277,11001 10112,10957 9966,10873 9821,10789 9700,10668 9616,10523 9532,10377 9488,10212 9488,10044 9488,9876 9532,9711 9616,9566 9700,9420 9821,9299 9966,9215 10112,9131 10277,9087 10445,9087 10613,9087 10778,9131 10923,9215 11068,9299 11189,9420 11273,9566 11357,9711 11401,9876 11401,10044 L 11401,10044 Z"/>
         <path fill="rgb(154,188,224)" stroke="none" d="M 11362,10044 C 11362,10205 11320,10364 11239,10503 11159,10643 11043,10758 10903,10839 10764,10919 10606,10962 10445,10962 10283,10962 10125,10919 9986,10839 9846,10758 9730,10643 9650,10503 9569,10364 9527,10205 9527,10044 9527,9883 9569,9725 9650,9585 9730,9446 9846,9330 9986,9249 10125,9169 10283,9126 10445,9126 10606,9126 10764,9169 10903,9249 11043,9330 11159,9446 11239,9585 11320,9725 11362,9883 11362,10044 L 11362,10044 Z"/>
         <path fill="rgb(158,191,226)" stroke="none" d="M 11323,10044 C 11323,10198 11282,10350 11205,10483 11128,10617 11017,10728 10884,10805 10750,10882 10599,10923 10445,10923 10290,10923 10139,10882 10005,10805 9872,10728 9761,10617 9684,10483 9607,10350 9566,10198 9566,10044 9566,9890 9607,9738 9684,9605 9761,9471 9872,9361 10005,9283 10139,9206 10290,9166 10445,9166 10599,9166 10750,9206 10884,9283 11017,9361 11128,9471 11205,9605 11282,9738 11323,9890 11323,10044 L 11323,10044 Z"/>
         <path fill="rgb(162,194,228)" stroke="none" d="M 11284,10044 C 11284,10192 11245,10336 11171,10464 11098,10591 10992,10697 10864,10771 10737,10845 10592,10883 10445,10883 10297,10883 10153,10845 10025,10771 9897,10697 9791,10591 9718,10464 9644,10336 9605,10192 9605,10044 9605,9897 9644,9752 9718,9625 9791,9497 9897,9391 10025,9317 10153,9244 10297,9205 10445,9205 10592,9205 10737,9244 10864,9317 10992,9391 11098,9497 11171,9625 11245,9752 11284,9897 11284,10044 L 11284,10044 Z"/>
         <path fill="rgb(166,197,230)" stroke="none" d="M 11245,10044 C 11245,10185 11208,10323 11137,10444 11067,10566 10966,10667 10845,10737 10723,10807 10585,10844 10445,10844 10304,10844 10166,10807 10045,10737 9923,10667 9822,10566 9752,10444 9682,10323 9645,10185 9645,10044 9645,9904 9682,9766 9752,9644 9822,9523 9923,9422 10045,9351 10166,9281 10304,9244 10445,9244 10585,9244 10723,9281 10845,9351 10966,9422 11067,9523 11137,9644 11208,9766 11245,9904 11245,10044 L 11245,10044 Z"/>
         <path fill="rgb(170,201,233)" stroke="none" d="M 11205,10044 C 11205,10178 11170,10309 11103,10425 11037,10540 10941,10636 10825,10703 10709,10770 10578,10805 10445,10805 10311,10805 10180,10770 10064,10703 9949,10636 9852,10540 9786,10425 9719,10309 9684,10178 9684,10044 9684,9911 9719,9779 9786,9664 9852,9548 9949,9452 10064,9385 10180,9319 10311,9283 10445,9283 10578,9283 10709,9319 10825,9385 10941,9452 11037,9548 11103,9664 11170,9779 11205,9911 11205,10044 L 11205,10044 Z"/>
         <path fill="rgb(174,204,235)" stroke="none" d="M 11166,10044 C 11166,10171 11133,10295 11069,10405 11006,10515 10915,10606 10805,10669 10696,10732 10571,10766 10445,10766 10318,10766 10193,10732 10084,10669 9974,10606 9883,10515 9820,10405 9756,10295 9723,10171 9723,10044 9723,9918 9756,9793 9820,9683 9883,9574 9974,9483 10084,9419 10193,9356 10318,9323 10445,9323 10571,9323 10696,9356 10805,9419 10915,9483 11006,9574 11069,9683 11133,9793 11166,9918 11166,10044 L 11166,10044 Z"/>
         <path fill="rgb(178,207,237)" stroke="none" d="M 11127,10044 C 11127,10164 11095,10282 11035,10385 10976,10489 10889,10575 10786,10635 10682,10695 10564,10726 10445,10726 10325,10726 10207,10695 10103,10635 10000,10575 9914,10489 9854,10385 9794,10282 9762,10164 9762,10044 9762,9924 9794,9807 9854,9703 9914,9599 10000,9513 10103,9453 10207,9393 10325,9362 10445,9362 10564,9362 10682,9393 10786,9453 10889,9513 10976,9599 11035,9703 11095,9807 11127,9924 11127,10044 L 11127,10044 Z"/>
         <path fill="rgb(182,210,239)" stroke="none" d="M 11088,10044 C 11088,10157 11058,10268 11001,10366 10945,10463 10864,10545 10766,10601 10668,10658 10557,10687 10445,10687 10332,10687 10221,10658 10123,10601 10025,10545 9944,10463 9888,10366 9831,10268 9801,10157 9801,10044 9801,9931 9831,9820 9888,9723 9944,9625 10025,9544 10123,9487 10221,9431 10332,9401 10445,9401 10557,9401 10668,9431 10766,9487 10864,9544 10945,9625 11001,9723 11058,9820 11088,9931 11088,10044 L 11088,10044 Z"/>
         <path fill="rgb(187,214,242)" stroke="none" d="M 11048,10044 C 11048,10150 11020,10254 10967,10346 10914,10438 10838,10514 10746,10567 10655,10620 10551,10648 10445,10648 10339,10648 10234,10620 10143,10567 10051,10514 9975,10438 9922,10346 9869,10254 9841,10150 9841,10044 9841,9938 9869,9834 9922,9742 9975,9650 10051,9574 10143,9521 10234,9468 10339,9440 10445,9440 10551,9440 10655,9468 10746,9521 10838,9574 10914,9650 10967,9742 11020,9834 11048,9938 11048,10044 L 11048,10044 Z"/>
         <path fill="rgb(191,217,244)" stroke="none" d="M 11009,10044 C 11009,10143 10983,10241 10934,10326 10884,10412 10813,10484 10727,10533 10641,10583 10544,10609 10445,10609 10345,10609 10248,10583 10162,10533 10076,10484 10005,10412 9956,10326 9906,10241 9880,10143 9880,10044 9880,9945 9906,9848 9956,9762 10005,9676 10076,9605 10162,9555 10248,9506 10345,9480 10445,9480 10544,9480 10641,9506 10727,9555 10813,9605 10884,9676 10934,9762 10983,9848 11009,9945 11009,10044 L 11009,10044 Z"/>
         <path fill="rgb(195,220,246)" stroke="none" d="M 10970,10044 C 10970,10136 10946,10227 10900,10307 10853,10387 10787,10453 10707,10499 10627,10545 10537,10570 10445,10570 10352,10570 10262,10545 10182,10499 10102,10453 10036,10387 9990,10307 9943,10227 9919,10136 9919,10044 9919,9952 9943,9861 9990,9781 10036,9702 10102,9635 10182,9589 10262,9543 10352,9519 10445,9519 10537,9519 10627,9543 10707,9589 10787,9635 10853,9702 10900,9781 10946,9861 10970,9952 10970,10044 L 10970,10044 Z"/>
         <path fill="rgb(199,223,248)" stroke="none" d="M 10931,10044 C 10931,10130 10908,10213 10866,10287 10823,10361 10762,10423 10688,10465 10614,10508 10530,10530 10445,10530 10359,10530 10275,10508 10201,10465 10128,10423 10066,10361 10024,10287 9981,10213 9958,10130 9958,10044 9958,9959 9981,9875 10024,9801 10066,9727 10128,9666 10201,9623 10275,9581 10359,9558 10445,9558 10530,9558 10614,9581 10688,9623 10762,9666 10823,9727 10866,9801 10908,9875 10931,9959 10931,10044 L 10931,10044 Z"/>
         <path fill="rgb(203,227,251)" stroke="none" d="M 10891,10044 C 10891,10123 10871,10200 10832,10268 10792,10336 10736,10392 10668,10431 10600,10470 10523,10491 10445,10491 10366,10491 10289,10470 10221,10431 10153,10392 10097,10336 10058,10268 10018,10200 9998,10123 9998,10044 9998,9966 10018,9889 10058,9821 10097,9753 10153,9696 10221,9657 10289,9618 10366,9597 10445,9597 10523,9597 10600,9618 10668,9657 10736,9696 10792,9753 10832,9821 10871,9889 10891,9966 10891,10044 L 10891,10044 Z"/>
         <path fill="rgb(207,230,253)" stroke="none" d="M 10852,10044 C 10852,10116 10833,10186 10798,10248 10762,10310 10710,10361 10648,10397 10586,10433 10516,10452 10445,10452 10373,10452 10303,10433 10241,10397 10179,10361 10127,10310 10091,10248 10056,10186 10037,10116 10037,10044 10037,9973 10056,9902 10091,9840 10127,9778 10179,9727 10241,9691 10303,9655 10373,9637 10445,9637 10516,9637 10586,9655 10648,9691 10710,9727 10762,9778 10798,9840 10833,9902 10852,9973 10852,10044 L 10852,10044 Z"/>
         <path fill="rgb(211,233,255)" stroke="none" d="M 10813,10044 C 10813,10109 10796,10172 10764,10228 10731,10284 10685,10331 10629,10363 10573,10396 10509,10413 10445,10413 10380,10413 10316,10396 10260,10363 10204,10331 10158,10284 10125,10228 10093,10172 10076,10109 10076,10044 10076,9980 10093,9916 10125,9860 10158,9804 10204,9757 10260,9725 10316,9693 10380,9676 10445,9676 10509,9676 10573,9693 10629,9725 10685,9757 10731,9804 10764,9860 10796,9916 10813,9980 10813,10044 L 10813,10044 Z"/>
        </g>
        <g clip-path="url(#clip_path_1)">
         <path fill="none" stroke="rgb(57,57,108)" stroke-width="79" stroke-linejoin="miter" d="M 12480,10659 C 12480,11507 11793,12195 10945,12195 10097,12195 9410,11507 9410,10659 9410,9811 10097,9124 10945,9124 11793,9124 12480,9812 12480,10659 Z"/>
         <path fill="rgb(32,74,135)" fill-opacity="0.71" stroke="rgb(255,255,255)" stroke-opacity="0.71" d="M 12395,10477 C 12369,10447 12340,10421 12310,10394 L 12245,10404 12186,10337 12186,10420 12236,10458 12270,10497 12316,10445 C 12327,10467 12338,10488 12349,10509 L 12349,10573 12299,10631 12205,10695 12137,10763 C 12170,10761 12203,10757 12236,10753 L 12236,10797 12169,10964 12106,11034 12055,11143 12055,11322 12073,11392 12044,11424 11982,11463 11917,11517 11971,11578 11897,11642 11911,11684 11801,11808 11728,11808 11665,11847 11626,11847 11626,11796 11609,11693 C 11587,11629 11564,11565 11541,11501 11541,11454 11544,11408 11547,11360 L 11575,11296 11535,11220 11538,11114 11485,11053 11511,10965 11468,10916 11391,10916 11366,10887 11289,10935 11258,10900 11188,10960 11044,10797 10987,10663 11038,10586 11010,10554 11072,10407 C 11123,10343 11176,10283 11230,10221 L 11326,10196 11434,10183 11507,10202 11612,10308 11648,10266 11699,10260 11795,10292 11869,10292 11920,10247 11942,10215 11892,10183 11807,10177 C 11783,10144 11761,10110 11733,10081 L 11705,10093 11694,10177 11643,10119 11632,10055 11575,10010 11552,10010 11609,10074 11586,10132 11541,10145 11569,10087 11518,10062 11473,10010 11388,10029 11377,10055 11326,10087 11298,10157 11227,10193 11196,10157 11162,10157 11162,10042 11236,10004 11292,10004 11281,9959 11236,9914 11312,9898 11354,9850 11388,9793 11451,9793 11434,9748 11473,9722 11473,9774 11558,9793 11643,9722 11648,9690 11722,9639 C 11695,9642 11669,9645 11643,9652 L 11643,9594 11671,9530 11643,9530 11581,9588 11564,9620 11581,9665 11552,9741 11507,9716 11468,9671 11405,9716 11383,9614 11490,9543 11490,9505 11558,9460 11665,9434 11739,9460 11875,9486 11841,9524 11767,9524 11841,9601 11897,9537 11914,9509 C 11914,9509 12131,9703 12255,9915 12379,10128 12437,10379 12437,10429 L 12395,10477 Z M 12089,10714 L 12112,10657 12067,10605 11990,10442 11925,10369 11908,10388 11934,10481 11982,10535 C 12009,10614 12037,10690 12073,10765 12093,10765 12113,10765 12133,10763 L 12089,10714 Z"/>
         <path fill="rgb(32,74,135)" fill-opacity="0.71" stroke="rgb(255,255,255)" stroke-opacity="0.71" d="M 11037,9537 L 11031,9575 11071,9601 11139,9556 11105,9518 11060,9543 11037,9537 Z"/>
         <path fill="rgb(32,74,135)" fill-opacity="0.71" stroke="rgb(255,255,255)" stroke-opacity="0.71" d="M 10952,9217 L 10783,9236 10574,9294 10534,9332 10664,9422 10664,9473 10613,9524 10681,9658 10726,9633 10783,9543 C 10870,9516 10948,9486 11031,9447 L 11099,9274 10952,9217 Z"/>
         <path fill="rgb(32,74,135)" fill-opacity="0.71" stroke="rgb(255,255,255)" stroke-opacity="0.71" d="M 11229,9754 L 11190,9767 11201,9837 11252,9812 11229,9754 Z"/>
         <path fill="rgb(32,74,135)" fill-opacity="0.71" stroke="rgb(255,255,255)" stroke-opacity="0.71" d="M 11263,9876 L 11325,9863 11371,9818 11331,9780 C 11318,9745 11302,9711 11286,9678 L 11252,9678 11252,9716 11275,9741 11275,9799 11263,9876 Z"/>
         <path fill="rgb(32,74,135)" fill-opacity="0.71" stroke="rgb(255,255,255)" stroke-opacity="0.71" d="M 10393,10925 L 10308,10906 10263,10785 10150,10797 10053,10727 9952,10817 9952,10831 C 9921,10822 9883,10821 9856,10804 L 9833,10740 9833,10669 9765,10676 9782,10541 9742,10541 9703,10593 9663,10612 9607,10580 9601,10509 9612,10433 9697,10369 9765,10369 9776,10330 9861,10349 9923,10426 9935,10298 10042,10209 10082,10113 10161,10081 10206,10017 10308,9997 10359,9921 10206,9921 10302,9876 10370,9876 10466,9844 10477,9806 10443,9774 10404,9761 10415,9722 10387,9665 10319,9690 10330,9639 10251,9594 10189,9703 10195,9741 10133,9767 10093,9850 10076,9774 9969,9729 9952,9671 10093,9588 10155,9530 10161,9460 10127,9441 10082,9434 10053,9505 C 10053,9505 10006,9514 9994,9517 9839,9660 9525,9969 9452,10552 9455,10565 9505,10644 9505,10644 L 9624,10714 9742,10746 9793,10810 9872,10868 9918,10861 9952,10877 9952,10887 9906,11008 9872,11060 9884,11085 9856,11181 9957,11367 10059,11456 10104,11520 10099,11655 10133,11731 10099,11879 C 10099,11879 10096,11878 10100,11892 10105,11907 10281,12005 10293,11997 L 10313,11981 10302,11949 10347,11904 10364,11860 10438,11834 10494,11693 10477,11655 10517,11597 10602,11578 10647,11476 10636,11348 10704,11252 10715,11156 C 10622,11110 10530,11062 10438,11015 L 10393,10925 Z"/>
         <path fill="rgb(32,74,135)" fill-opacity="0.71" stroke="rgb(255,255,255)" stroke-opacity="0.71" d="M 10370,9601 L 10415,9601 10415,9556 10359,9530 10313,9562 10370,9601 Z"/>
         <path fill="rgb(32,74,135)" fill-opacity="0.71" stroke="rgb(255,255,255)" stroke-opacity="0.71" d="M 10138,9582 L 10195,9582 10223,9518 10297,9466 10353,9486 10466,9562 10523,9511 10460,9486 10432,9428 10325,9415 10319,9383 10268,9396 10246,9441 10217,9383 10206,9409 10212,9473 10167,9511 10138,9582 Z"/>
         <path fill="rgb(32,74,135)" fill-opacity="0.71" stroke="rgb(255,255,255)" stroke-opacity="0.71" d="M 10398,9326 L 10455,9313 C 10494,9294 10532,9281 10574,9268 L 10551,9230 10478,9240 10443,9274 10387,9283 10336,9306 10312,9318 10297,9338 10370,9351 10398,9326 Z"/>
         <path fill="rgb(32,74,135)" fill-opacity="0.71" stroke="rgb(255,255,255)" stroke-opacity="0.71" d="M 10500,9908 L 10449,9870 10466,9959 10500,9908 Z"/>
         <defs>
          <mask id="mask1">
           <g>
            <defs>
             <linearGradient id="gradient1" x1="10945" y1="9163" x2="10945" y2="12156" gradientUnits="userSpaceOnUse">
              <stop offset="0.5" style="stop-color:rgb(154,154,154)"/>
              <stop offset="0.5" style="stop-color:rgb(154,154,154)"/>
              <stop offset="1" style="stop-color:rgb(154,154,154)"/>
              <stop offset="1" style="stop-color:rgb(154,154,154)"/>
             </linearGradient>
            </defs>
            <path style="fill:url(#gradient1)" d="M 9448,9163 L 12442,9163 12442,12156 9448,12156 9448,9163 Z"/>
           </g>
          </mask>
         </defs>
         <g style="mask:url(#mask1)"/>
         <defs>
          <clipPath id="clip_path_4" clipPathUnits="userSpaceOnUse">
           <path d="M 12324,11242 C 12248,11421 12139,11582 12003,11718 11868,11853 11707,11963 11528,12038 11349,12114 11152,12156 10945,12156 10738,12156 10542,12114 10362,12038 10183,11963 10022,11853 9887,11718 9751,11582 9642,11421 9566,11242 9490,11063 9448,10866 9448,10659 9448,10453 9490,10256 9566,10077 9642,9898 9751,9736 9887,9601 10022,9466 10183,9356 10362,9280 10542,9204 10738,9163 10945,9163 11152,9163 11349,9204 11528,9280 11707,9356 11868,9466 12003,9601 12139,9736 12248,9898 12324,10077 12400,10256 12442,10453 12442,10659 12442,10866 12400,11063 12324,11242 Z M 9639,11211 C 9711,11381 9814,11533 9943,11662 10071,11790 10224,11894 10393,11966 10563,12037 10749,12077 10945,12077 11141,12077 11327,12037 11497,11966 11666,11894 11819,11790 11947,11662 12076,11533 12179,11381 12251,11211 12323,11042 12363,10855 12363,10659 12363,10464 12323,10277 12251,10108 12179,9938 12076,9785 11947,9657 11819,9529 11666,9425 11497,9353 11327,9281 11141,9242 10945,9242 10749,9242 10563,9281 10393,9353 10224,9425 10071,9529 9943,9657 9814,9785 9711,9938 9639,10108 9567,10277 9527,10464 9527,10659 9527,10855 9567,11042 9639,11211 Z"/>
          </clipPath>
         </defs>
         <g clip-path="url(#clip_path_4)">
          <image x="6676" y="6197" width="7081" height="7081" preserveAspectRatio="none" xlink:href="data:image/png;base64,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"/>
         </g>
         <g clip-path="url(#clip_path_1)"/>
        </g>
        <defs>
         <clipPath id="clip_path_5" clipPathUnits="userSpaceOnUse">
          <path d="M 12124,11574 C 12059,11614 11979,11643 11885,11661 11793,11678 11689,11683 11576,11676 11465,11670 11345,11651 11219,11622 10969,11562 10705,11459 10453,11323 10201,11186 9971,11021 9784,10844 9691,10755 9610,10664 9543,10574 9476,10484 9424,10394 9388,10307 9351,10219 9332,10136 9331,10059 9329,9982 9345,9911 9378,9849 9412,9787 9463,9735 9529,9694 9594,9653 9674,9624 9768,9607 9860,9589 9964,9584 10077,9591 10188,9598 10308,9616 10434,9646 10684,9705 10948,9808 11200,9945 11452,10081 11682,10246 11868,10424 11962,10513 12043,10603 12109,10693 12176,10784 12229,10874 12265,10960 12301,11048 12320,11132 12322,11208 12324,11286 12308,11357 12275,11419 12241,11481 12190,11533 12124,11574 Z M 9416,10074 C 9418,10142 9435,10217 9468,10296 9501,10376 9550,10460 9613,10544 9676,10629 9753,10715 9842,10800 10021,10971 10243,11130 10486,11261 10729,11393 10984,11492 11225,11550 11344,11578 11458,11596 11564,11602 11669,11608 11765,11603 11851,11587 11935,11572 12007,11546 12065,11510 12123,11474 12167,11430 12196,11376 12225,11322 12238,11261 12237,11194 12235,11125 12218,11051 12185,10972 12151,10891 12103,10808 12040,10724 11977,10638 11900,10552 11811,10467 11632,10297 11409,10138 11167,10006 10924,9875 10669,9775 10428,9718 10309,9689 10195,9672 10089,9666 9984,9659 9887,9664 9802,9680 9718,9696 9646,9722 9587,9758 9530,9793 9486,9838 9457,9891 9428,9945 9415,10006 9416,10074 Z"/>
         </clipPath>
        </defs>
        <g clip-path="url(#clip_path_5)">
         <image x="8967" y="9025" width="3694" height="3240" preserveAspectRatio="none" xlink:href="data:image/png;base64,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"/>
        </g>
        <g clip-path="url(#clip_path_1)"/>
        <defs>
         <clipPath id="clip_path_6" clipPathUnits="userSpaceOnUse">
          <path d="M 12618,10022 C 12636,10096 12638,10182 12625,10276 12612,10369 12585,10469 12543,10574 12501,10678 12446,10786 12378,10896 12242,11114 12061,11332 11852,11528 11642,11724 11413,11890 11186,12011 11072,12071 10960,12119 10854,12154 10747,12189 10645,12210 10552,12217 10456,12224 10371,12216 10298,12193 10224,12170 10162,12133 10113,12081 10065,12030 10032,11965 10014,11889 9996,11815 9994,11730 10007,11635 10020,11542 10048,11442 10090,11337 10131,11234 10187,11126 10255,11016 10390,10797 10572,10579 10781,10383 10990,10188 11219,10021 11446,9901 11561,9840 11672,9792 11778,9757 11885,9722 11987,9701 12081,9694 12176,9687 12261,9696 12334,9718 12409,9741 12471,9779 12519,9830 12567,9882 12600,9946 12618,10022 Z M 10339,12116 C 10404,12136 10481,12144 10566,12137 10653,12131 10747,12111 10847,12079 10948,12046 11054,12000 11162,11942 11381,11826 11602,11665 11804,11477 12006,11288 12180,11078 12311,10868 12376,10763 12428,10660 12468,10562 12507,10465 12533,10372 12545,10285 12557,10201 12555,10124 12539,10057 12524,9992 12495,9936 12453,9891 12412,9847 12358,9815 12294,9795 12228,9775 12152,9768 12066,9774 11980,9780 11885,9800 11785,9832 11684,9865 11578,9911 11470,9969 11251,10085 11030,10246 10828,10434 10627,10623 10452,10833 10321,11044 10257,11148 10204,11251 10164,11349 10125,11447 10099,11540 10087,11626 10076,11711 10078,11787 10093,11854 10109,11920 10137,11975 10179,12020 10221,12064 10274,12097 10339,12116 Z"/>
         </clipPath>
        </defs>
        <g clip-path="url(#clip_path_6)">
         <image x="9692" y="9413" width="3255" height="3109" preserveAspectRatio="none" xlink:href="data:image/png;base64,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"/>
        </g>
        <g clip-path="url(#clip_path_1)"/>
        <defs>
         <clipPath id="clip_path_7" clipPathUnits="userSpaceOnUse">
          <path d="M 11178,12029 L 11178,12029 C 11250,12127 11346,12204 11456,12252 11567,12301 11689,12320 11809,12307 11930,12293 12044,12249 12142,12177 12240,12106 12317,12010 12366,11899 12414,11788 12433,11666 12420,11546 12407,11425 12362,11311 12290,11213 L 12290,11213 C 12219,11115 12123,11038 12012,10990 11901,10941 11779,10922 11659,10935 11538,10949 11424,10993 11326,11065 11228,11136 11151,11233 11103,11343 11054,11454 11035,11576 11048,11696 11062,11817 11106,11931 11178,12029 L 11178,12029 11178,12029 Z"/>
         </clipPath>
        </defs>
        <g clip-path="url(#clip_path_7)">
         <image x="10370" y="10257" width="2729" height="2729" preserveAspectRatio="none" xlink:href="data:image/png;base64,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"/>
        </g>
        <g clip-path="url(#clip_path_1)">
         <path fill="rgb(255,255,255)" stroke="none" d="M 11563,11747 L 11563,11747 C 11585,11777 11614,11801 11649,11816 11683,11831 11720,11836 11757,11832 11795,11828 11830,11815 11860,11792 11890,11770 11914,11741 11929,11707 11944,11672 11950,11635 11946,11598 11941,11561 11928,11525 11906,11495 L 11906,11495 C 11884,11465 11854,11441 11820,11426 11786,11411 11748,11406 11711,11410 11674,11414 11639,11427 11608,11450 11578,11472 11555,11501 11540,11535 11525,11570 11519,11607 11523,11644 11527,11681 11541,11717 11563,11747 L 11563,11747 11563,11747 Z"/>
        </g>
        <defs>
         <clipPath id="clip_path_8" clipPathUnits="userSpaceOnUse">
          <path d="M 9294,10173 C 9338,10111 9400,10052 9480,10000 9558,9948 9652,9903 9759,9866 9864,9829 9982,9799 10109,9778 10363,9735 10646,9728 10931,9756 11216,9784 11493,9847 11733,9938 11854,9983 11964,10036 12060,10092 12157,10150 12240,10213 12307,10278 12375,10345 12424,10415 12456,10485 12488,10556 12501,10627 12494,10697 12487,10767 12460,10835 12415,10899 12371,10961 12308,11019 12228,11072 12150,11123 12056,11168 11950,11206 11845,11243 11727,11273 11599,11294 11346,11336 11063,11344 10777,11316 10492,11287 10216,11225 9975,11134 9855,11088 9745,11036 9649,10979 9552,10921 9469,10859 9402,10793 9334,10726 9284,10657 9253,10587 9221,10516 9208,10444 9215,10374 9222,10304 9248,10236 9294,10173 Z M 12371,10505 C 12343,10442 12298,10380 12237,10320 12175,10259 12098,10201 12008,10147 11917,10093 11812,10044 11697,10000 11466,9913 11199,9852 10924,9825 10650,9798 10376,9805 10132,9846 10011,9866 9899,9895 9799,9930 9700,9965 9613,10006 9540,10054 9468,10101 9412,10153 9372,10209 9333,10264 9310,10322 9304,10383 9298,10444 9310,10505 9337,10567 9365,10629 9410,10691 9471,10751 9533,10813 9611,10871 9701,10924 9792,10978 9896,11028 10011,11071 10243,11159 10510,11219 10784,11246 11059,11273 11332,11266 11577,11225 11698,11205 11810,11177 11910,11142 12009,11107 12096,11065 12169,11017 12240,10970 12296,10918 12336,10862 12375,10807 12398,10749 12404,10688 12410,10628 12399,10566 12371,10505 Z"/>
         </clipPath>
        </defs>
        <g clip-path="url(#clip_path_8)">
         <image x="9047" y="9445" width="3616" height="2182" preserveAspectRatio="none" xlink:href="data:image/png;base64,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"/>
        </g>
        <g clip-path="url(#clip_path_1)"/>
        <defs>
         <clipPath id="clip_path_9" clipPathUnits="userSpaceOnUse">
          <path d="M 12224,9791 C 12242,9864 12244,9947 12231,10040 12219,10131 12191,10229 12150,10331 12110,10432 12056,10538 11989,10645 11857,10859 11679,11072 11475,11263 11270,11455 11046,11617 10824,11735 10713,11795 10604,11842 10500,11876 10395,11910 10295,11931 10204,11937 10111,11944 10028,11936 9956,11914 9883,11891 9822,11855 9775,11804 9728,11754 9695,11691 9678,11617 9661,11544 9658,11460 9671,11368 9684,11277 9711,11179 9752,11076 9793,10975 9847,10870 9913,10762 10046,10549 10223,10335 10427,10144 10632,9953 10856,9790 11078,9672 11190,9613 11299,9566 11402,9532 11507,9498 11607,9477 11698,9470 11791,9464 11875,9472 11946,9494 12019,9516 12080,9553 12127,9603 12174,9654 12207,9717 12224,9791 Z M 9996,11837 C 10060,11857 10135,11864 10218,11858 10303,11851 10395,11832 10493,11800 10591,11768 10695,11723 10801,11667 11014,11554 11230,11397 11427,11212 11624,11028 11795,10823 11922,10617 11986,10515 12037,10415 12076,10319 12114,10224 12139,10133 12151,10049 12162,9966 12161,9891 12145,9826 12130,9762 12102,9708 12062,9664 12021,9621 11968,9590 11906,9570 11842,9551 11767,9544 11684,9550 11599,9556 11507,9575 11410,9607 11311,9639 11208,9684 11102,9740 10888,9854 10672,10011 10475,10195 10278,10379 10107,10584 9980,10790 9917,10892 9865,10992 9827,11089 9788,11184 9763,11274 9751,11359 9740,11441 9742,11516 9757,11581 9772,11645 9800,11700 9841,11743 9881,11786 9934,11818 9996,11837 Z"/>
         </clipPath>
        </defs>
        <g clip-path="url(#clip_path_9)">
         <image x="9245" y="9057" width="3413" height="3295" preserveAspectRatio="none" xlink:href="data:image/png;base64,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"/>
        </g>
        <g clip-path="url(#clip_path_1)"/>
        <defs>
         <clipPath id="clip_path_10" clipPathUnits="userSpaceOnUse">
          <path d="M 9486,11214 L 9486,11214 C 9541,11289 9615,11348 9701,11386 9786,11424 9880,11438 9973,11428 10065,11418 10154,11383 10229,11328 10304,11273 10364,11199 10401,11113 10439,11028 10453,10934 10443,10841 10433,10748 10399,10660 10343,10585 L 10343,10585 C 10288,10509 10214,10450 10129,10412 10043,10375 9949,10360 9857,10371 9764,10381 9675,10415 9600,10470 9525,10526 9465,10600 9428,10685 9390,10771 9376,10864 9386,10957 9396,11050 9431,11139 9486,11214 L 9486,11214 9486,11214 Z"/>
         </clipPath>
        </defs>
        <g clip-path="url(#clip_path_10)">
         <image x="8863" y="9847" width="2104" height="2105" preserveAspectRatio="none" xlink:href="data:image/png;base64,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"/>
        </g>
        <g clip-path="url(#clip_path_1)">
         <path fill="rgb(255,255,255)" stroke="none" d="M 9782,10996 L 9782,10996 C 9799,11019 9822,11038 9849,11049 9875,11061 9904,11065 9932,11062 9961,11059 9988,11048 10012,11031 10035,11014 10053,10992 10065,10965 10076,10939 10081,10910 10078,10881 10074,10853 10064,10825 10047,10802 L 10047,10802 C 10030,10779 10007,10761 9981,10749 9954,10738 9925,10733 9897,10736 9868,10739 9841,10750 9818,10767 9794,10784 9776,10807 9765,10833 9753,10860 9748,10889 9752,10917 9755,10946 9765,10973 9782,10996 L 9782,10996 9782,10996 Z"/>
        </g>
        <defs>
         <clipPath id="clip_path_11" clipPathUnits="userSpaceOnUse">
          <path d="M 9574,10147 L 9574,10147 C 9629,10223 9703,10282 9789,10320 9874,10357 9968,10372 10061,10361 10154,10351 10242,10317 10317,10262 10393,10206 10452,10132 10490,10047 10527,9961 10542,9868 10531,9775 10521,9682 10487,9593 10432,9518 L 10432,9518 C 10376,9443 10302,9384 10217,9346 10131,9308 10037,9294 9945,9304 9852,9314 9763,9349 9688,9404 9613,9459 9553,9533 9516,9619 9478,9704 9464,9798 9474,9891 9484,9984 9519,10072 9574,10147 L 9574,10147 9574,10147 Z"/>
         </clipPath>
        </defs>
        <g clip-path="url(#clip_path_11)">
         <image x="8951" y="8781" width="2105" height="2105" preserveAspectRatio="none" xlink:href="data:image/png;base64,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"/>
        </g>
        <g clip-path="url(#clip_path_1)">
         <path fill="rgb(255,255,255)" stroke="none" d="M 9871,9930 L 9871,9930 C 9888,9953 9910,9971 9937,9983 9963,9994 9992,9999 10021,9996 10049,9993 10077,9982 10100,9965 10123,9948 10141,9925 10153,9899 10164,9872 10169,9843 10166,9815 10163,9786 10152,9759 10135,9736 L 10135,9736 C 10118,9713 10095,9694 10069,9683 10042,9671 10013,9667 9985,9670 9956,9673 9929,9684 9906,9701 9883,9718 9864,9740 9853,9767 9841,9793 9837,9822 9840,9851 9843,9879 9854,9907 9871,9930 L 9871,9930 9871,9930 Z"/>
        </g>
        <defs>
         <clipPath id="clip_path_12" clipPathUnits="userSpaceOnUse">
          <path d="M 10461,10151 L 10461,10151 C 10521,10232 10601,10296 10693,10337 10785,10377 10887,10393 10987,10382 11087,10371 11183,10334 11264,10274 11345,10215 11409,10135 11450,10042 11490,9950 11506,9849 11495,9749 11484,9648 11447,9553 11387,9472 L 11387,9472 C 11327,9390 11248,9326 11155,9286 11063,9245 10962,9230 10862,9241 10761,9252 10666,9289 10585,9348 10503,9408 10439,9488 10399,9580 10358,9673 10343,9774 10354,9874 10365,9974 10402,10070 10461,10151 L 10461,10151 10461,10151 Z"/>
         </clipPath>
        </defs>
        <g clip-path="url(#clip_path_12)">
         <image x="9789" y="8676" width="2271" height="2272" preserveAspectRatio="none" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFcAAABXCAYAAABxyNlsAAAGxElEQVR4nO2bi07jSBBFiyEQnkOY///DXYZHCIE8YHLkuuqKx0HLirID6iu1yrTbsfu4XP1k9Pb2ZlU5Gg39AN9ZFW6iKtxEVbiJqnATVeEmqsJNVIWbqAo3URVuoircRFW4iapwE1XhJqrCTVSFm6gKN1EVbqIq3ERVuImqcBNV4Saqwk3UvsL9sUnHm3Tktus5XzdpsUkvnvZuA8a+wR1v0oX9t+fiBZx4QstNet6kp5xH+7j2BS7eCdQj/1ueO7LiwW3huXgs3vvsZUinmzT1/EE1NNxDa6Ce7Pj7PfECTj1dWQP40c9d+99Afv3E5/2QhoTLvSfWAAXU2Sad+7kDa0LEkduu51zbtucqRMysCQ0c4/W3m7RKqsO7Ggou98W7gAq8n34MVCBf+LHEuUM/Xro99LIkGrOZJ14Q3vxgDXzuMwjgIeBGsHjXledzfGkFIl4n7+2KuUBehKRwQigA6sQawHMbCHDfcAEqsHjXT8+/8ISAeu5Wwosj4KUV6JQFboy3hIUH/328mrAxsQbw+hPr8676hotnymMFFsunfeDHasz0Ao5tG7Qkj33287+sgfrov4cAzJcBYLyZF3j/mRV6T33C5RMHHNAuPS+CnVgDiePzkC9FwCsr0CkL1JlfQ53u/JiewqP/9j9+f17Gy6fWbIf6ggskffZUWt7bBku8vbYSdzk/tt2eCyTAqhG79XP83p3f8zWUmbr9VnDlUYqRAJX3YjVg+OXnjj0/Pl8EvLTiuXHQwPU3ns9Xce/3m/szPIfnSR/J9QV37Fb9WDwK79SICqDXVsBeezm9jLH9Lbxv5sfqDSz8+Lc1X8bc886shI17+0ZwBVF9WvVlkbz3wsqQV2DPrYQSNLISg5f+WyRi6sy2ASsEcP1vtxpoqFfBc6X2HPqAq895HKy6ViQqeernImyFjxM/H7titP70BJ6tvICZX3/j5efhfi9un/x55sGmqU+4bXsSrLy5HZcnoTzn8G4aKHoLV15WHqqJGn3yWF6A4KquXDMPNk19wJXHtj24DVn58l4NJIBMQxU9F49V7OTTfvLrCAGnVjz0vft29UA+VX3ABY4mZw7D8ciP5ZECeWTbcXliJWZTFpjy9ls/fgrX6ffivdW1k/0RbNqs2VATN2qYVFk9xzj8LVBjL4f3CsaNbc+WAVZD4oXnL8LfXBcbr4OWTVE23MMP5quyo5aV55oVL9cE+crLabZsbzSU5+5a79Inumr93Qa3bpX7v+tnX74rhtqVF7Q2JLX4Sz+3COeIr3jqs59bdlzX/r3eZsC6lA2XyrVBvmcJF4qddJPoYgFVAwtBBN6dNS/tye+hF7Lyv9fh/ksvG58lfbW4D88FyIlbukn0Oc/C37KCyWBgYg20kV9LA6ZBx8rKxMvSyhBYVvMHLx32LZxPj9F9wKUSJ26BuAr56pNiNfYHwtzz6MviZZoQj5+/ltFfvfyLHwuyBgiCu2jZ9Jmxvjw32uhBGvZq3M9oi5HXg+dznrkAQNH1+mHbkM3Pqfx9yOMlrkNZwf5WcBUDkSBqflUhAKhjK5+sAANAI7b2LNbaynoZAizgeHGanJlaictYxWWlVPXVW9Ckipa8ZbU0Tr+VoSsDBQG+tLJVKY6yUITDi5v6dQC8t+2tTmvbHZdT1RdcPkk8VVuOBBiAwJh4OY61wUPzsBq1tT1NcVdeClhekMKBQsUslG3H5VT12c+lshNrYGjzhvYeAJXuFpX/1xromnt9tO35AhRDDRJk9X/VEGoZCE2D7WXTXp8jNCqq7o+WvbEAxjtvPY8QARw1YkDu2m+gFV2tNphbhQXNnKFHK6Gil5CA+h7+AhMPBYjW0e6s8WgB1g4c9Qqm9rfnthukduOmfQtIKxVvVry3F/UNVyMrbdzQqjBQCQ9qxAgN2ut1bN2eq5EX5dWYaVuT4nAEe7/jd9I0xMSNYiINlxoWAAMbUNqzMLfSN921nSlKG/Dk0drKJLC9LKdHDTUrRkUjYCCoEXvwPO1XwHYNVRVz1QMRVPKmVuYV7nZcn64ht5ACga4T8RXPBDaQtPz+ZCV0tD1X62hRACQMxJm1h45yvWnozc9UXOtehIY4aMCLtT+3a5e4Yq52Oy5DvobMg2pouBIgtEyuBUvFY62dRWkoG6UJHDVgg2tf4CJ1ldT10qYPrYN1lZfHRs/dG+0T3KiVp/YwVcvhXZ67d9pXuLs0+H/ofERfDe6XUoWbqAo3URVuoircRFW4iapwE1XhJqrCTVSFm6gKN1EVbqIq3ERVuImqcBNV4Saqwk1UhZuoCjdRFW6iKtxEVbiJ+gOICP8Md86BrQAAAABJRU5ErkJggg=="/>
        </g>
        <g clip-path="url(#clip_path_1)">
         <path fill="rgb(255,255,255)" stroke="none" d="M 10782,9916 L 10782,9916 C 10800,9941 10825,9961 10853,9973 10881,9986 10913,9991 10944,9987 10974,9984 11004,9972 11029,9954 11054,9936 11074,9911 11086,9883 11099,9854 11104,9823 11100,9792 11097,9761 11085,9732 11067,9707 L 11067,9707 C 11049,9682 11024,9662 10995,9649 10967,9637 10936,9632 10905,9635 10874,9639 10845,9650 10820,9669 10795,9687 10775,9712 10762,9740 10750,9769 10745,9800 10748,9831 10752,9861 10763,9891 10782,9916 L 10782,9916 10782,9916 Z"/>
        </g>
       </g>
      </g>
      <g class="com.sun.star.drawing.CustomShape">
       <g id="id8">
        <rect class="BoundingBox" stroke="none" fill="none" x="6999" y="9399" width="1803" height="804"/>
        <path fill="rgb(114,159,207)" stroke="none" d="M 7000,9600 L 8350,9600 8350,9400 8800,9800 8350,10201 8350,10000 7000,10000 7000,9600 Z"/>
        <path fill="none" stroke="rgb(52,101,164)" d="M 7000,9600 L 8350,9600 8350,9400 8800,9800 8350,10201 8350,10000 7000,10000 7000,9600 Z"/>
       </g>
      </g>
      <g class="com.sun.star.drawing.CustomShape">
       <g id="id9">
        <rect class="BoundingBox" stroke="none" fill="none" x="6999" y="10999" width="1803" height="804"/>
        <path fill="rgb(114,159,207)" stroke="none" d="M 8800,11200 L 7450,11200 7450,11000 7000,11400 7450,11801 7450,11600 8800,11600 8800,11200 Z"/>
        <path fill="none" stroke="rgb(52,101,164)" d="M 8800,11200 L 7450,11200 7450,11000 7000,11400 7450,11801 7450,11600 8800,11600 8800,11200 Z"/>
       </g>
      </g>
      <g class="com.sun.star.drawing.TextShape">
       <g id="id10">
        <rect class="BoundingBox" stroke="none" fill="none" x="5200" y="5800" width="4401" height="2766"/>
        <text class="TextShape"><tspan class="TextParagraph" font-family="Arial, sans-serif" font-size="1129px" font-weight="400"><tspan class="TextPosition" x="5450" y="6949"><tspan fill="rgb(48,105,152)" stroke="none">Py</tspan><tspan fill="rgb(255,212,59)" stroke="none">Only</tspan></tspan></tspan></text>
       </g>
      </g>
      <g class="com.sun.star.drawing.TextShape">
       <g id="id11">
        <rect class="BoundingBox" stroke="none" fill="none" x="13800" y="3800" width="12401" height="8073"/>
        <text class="TextShape"><tspan ooo:numbering-type="bullet-style" class="ListItem" font-family="Liberation Sans, sans-serif" font-size="635px" font-weight="400"><tspan class="TextPosition" x="14050" y="4344"><tspan id="id14.bp" class="BulletPlaceholder"/></tspan><tspan class="TextPosition" x="14650" y="4501"><tspan fill="rgb(0,0,0)" stroke="none">Only Python as programming language</tspan></tspan></tspan><tspan ooo:numbering-type="bullet-style" class="ListItem" font-family="Liberation Sans, sans-serif" font-size="635px" font-weight="400"><tspan class="TextPosition" x="14050" y="6477"><tspan id="id15.bp" class="BulletPlaceholder"/></tspan><tspan class="TextPosition" x="14650" y="6634"><tspan fill="rgb(0,0,0)" stroke="none">You do not have to manage the </tspan></tspan><tspan class="TextPosition" x="14650" y="7345"><tspan fill="rgb(0,0,0)" stroke="none">connection between the client and the </tspan></tspan><tspan class="TextPosition" x="14650" y="8056"><tspan fill="rgb(0,0,0)" stroke="none">server</tspan></tspan></tspan><tspan ooo:numbering-type="bullet-style" class="ListItem" font-family="Liberation Sans, sans-serif" font-size="635px" font-weight="400"><tspan class="TextPosition" x="14050" y="10032"><tspan id="id16.bp" class="BulletPlaceholder"/></tspan><tspan class="TextPosition" x="14650" y="10189"><tspan fill="rgb(0,0,0)" stroke="none">You do not have to create an API or </tspan></tspan><tspan class="TextPosition" x="14650" y="10900"><tspan fill="rgb(0,0,0)" stroke="none">other interface between the server and </tspan></tspan><tspan class="TextPosition" x="14650" y="11611"><tspan fill="rgb(0,0,0)" stroke="none">the client</tspan></tspan></tspan></text>
        <g class="BulletChars">
         <g id="bullet-char-id14.bp" class="BulletChar">
          <g transform="translate(14050,4344)" fill="rgb(0,0,0)" stroke="none">
           <use transform="scale(285,285)" xlink:href="#bullet-char-template-10132"/>
          </g>
         </g>
         <g id="bullet-char-id15.bp" class="BulletChar">
          <g transform="translate(14050,6477)" fill="rgb(0,0,0)" stroke="none">
           <use transform="scale(285,285)" xlink:href="#bullet-char-template-10132"/>
          </g>
         </g>
         <g id="bullet-char-id16.bp" class="BulletChar">
          <g transform="translate(14050,10032)" fill="rgb(0,0,0)" stroke="none">
           <use transform="scale(285,285)" xlink:href="#bullet-char-template-10132"/>
          </g>
         </g>
        </g>
       </g>
      </g>
      <g class="Graphic">
       <g id="id12">
        <rect class="BoundingBox" stroke="none" fill="none" x="2725" y="9000" width="3254" height="4001"/>
        <defs>
         <clipPath id="clip_path_13" clipPathUnits="userSpaceOnUse">
          <path d="M 2725,9000 L 5978,9000 5978,13000 2725,13000 2725,9000 Z"/>
         </clipPath>
        </defs>
        <g clip-path="url(#clip_path_13)">
         <path fill="rgb(199,199,199)" stroke="none" d="M 5278,9229 C 5311,9283 5300,11869 5257,11971 5223,12052 4132,12959 4075,12983 3336,12978 2839,12709 2756,12567 2724,12389 2752,9637 2781,9580 2808,9529 4204,9029 4253,9017 4297,9007 5240,9169 5278,9229 L 5278,9229 Z"/>
         <path fill="rgb(0,0,0)" stroke="none" d="M 5263,9238 C 5263,9237 5262,9237 5262,9237 L 5262,9236 5267,9234 5270,9233 5271,9232 5271,9232 5271,9232 5272,9232 5278,9230 5271,9233 5269,9234 5270,9233 5269,9234 5267,9235 5264,9237 5263,9238 Z M 5291,9220 C 5290,9218 5289,9216 5287,9214 5286,9212 5284,9211 5282,9210 5278,9207 5274,9204 5268,9202 5264,9199 5258,9197 5252,9194 5247,9192 5240,9190 5233,9187 5219,9182 5202,9177 5183,9171 5164,9166 5143,9161 5120,9155 5030,9132 4913,9107 4794,9085 4674,9062 4553,9041 4456,9025 4408,9018 4365,9011 4331,9007 4315,9005 4300,9003 4288,9002 4282,9001 4277,9001 4272,9001 4270,9001 4268,9001 4266,9000 L 4260,9000 C 4258,9000 4256,9000 4255,9001 L 4252,9001 C 4251,9001 4251,9001 4250,9001 4249,9001 4247,9002 4245,9003 4244,9003 4242,9003 4240,9004 4238,9005 4235,9005 4233,9006 4230,9007 4227,9008 4224,9009 4217,9011 4210,9014 4201,9017 4192,9020 4182,9023 4172,9027 4150,9034 4125,9044 4096,9054 4067,9064 4036,9075 4001,9087 3863,9137 3683,9202 3503,9268 3324,9335 3145,9403 3009,9457 2976,9471 2944,9483 2917,9494 2888,9506 2864,9517 2843,9526 2833,9531 2824,9535 2816,9539 2807,9543 2800,9547 2794,9551 2790,9552 2788,9554 2785,9555 2783,9557 2780,9559 2779,9560 2776,9562 2774,9563 2773,9565 2769,9567 2768,9570 2767,9572 2766,9573 2765,9575 2764,9578 2764,9580 2763,9582 2763,9584 2763,9586 2763,9588 2762,9591 2761,9594 2761,9596 2761,9600 2761,9606 2760,9613 2759,9621 2759,9629 2758,9639 2757,9648 2756,9669 2755,9694 2753,9722 2752,9750 2751,9782 2750,9817 2746,9958 2741,10150 2738,10369 2730,10806 2725,11348 2725,11786 2725,11990 2726,12171 2728,12309 2729,12343 2730,12375 2730,12403 2731,12432 2732,12458 2733,12479 2734,12502 2735,12520 2736,12536 2736,12544 2737,12550 2738,12555 2738,12559 2738,12561 2738,12564 2739,12566 2740,12569 2740,12571 L 2740,12573 2742,12576 C 2748,12586 2755,12596 2763,12606 2773,12617 2783,12627 2795,12639 2818,12660 2848,12682 2884,12705 2955,12752 3049,12799 3164,12842 3278,12885 3413,12924 3566,12953 3718,12981 3889,12999 4074,13000 L 4078,13000 4081,12999 4087,12996 C 4088,12995 4090,12994 4092,12992 4094,12991 4096,12990 4098,12988 L 4106,12982 C 4112,12978 4119,12974 4126,12968 4134,12963 4141,12957 4151,12949 4169,12936 4189,12920 4212,12901 4235,12883 4261,12862 4289,12840 4401,12750 4543,12631 4685,12511 4828,12392 4970,12269 5077,12173 5104,12148 5130,12126 5152,12105 5175,12084 5194,12066 5211,12049 5219,12041 5227,12033 5233,12026 5241,12019 5247,12013 5252,12007 5257,12001 5261,11996 5264,11992 5266,11989 5268,11986 5269,11985 5270,11982 5272,11980 5273,11978 5273,11976 5274,11974 5274,11972 5275,11970 5276,11969 5276,11967 5277,11963 5278,11958 5278,11952 5280,11947 5280,11941 5281,11933 5282,11926 5282,11919 5283,11910 5284,11894 5286,11874 5288,11851 5288,11829 5290,11804 5291,11777 5296,11667 5300,11518 5303,11348 5310,11007 5314,10579 5314,10196 5314,9939 5312,9703 5309,9528 5308,9484 5307,9444 5306,9408 5305,9373 5304,9342 5303,9316 5302,9303 5301,9291 5301,9281 5300,9270 5299,9261 5299,9254 5298,9250 5298,9247 5297,9243 5297,9240 5297,9237 5296,9235 5295,9232 5295,9229 5295,9227 5294,9226 5294,9225 5293,9224 5293,9222 5292,9221 5291,9220 Z M 5263,9240 C 5264,9242 5264,9245 5264,9247 5264,9250 5265,9253 5265,9257 5266,9264 5267,9273 5268,9283 5268,9293 5268,9305 5269,9317 5270,9343 5272,9374 5273,9409 5274,9444 5274,9485 5276,9528 5279,9703 5280,9939 5280,10196 5280,10578 5277,11007 5270,11348 5266,11518 5262,11666 5258,11775 5256,11803 5255,11827 5254,11850 5252,11871 5251,11891 5250,11908 5249,11916 5249,11924 5247,11930 5247,11937 5246,11942 5245,11947 5245,11952 5244,11957 5243,11959 5243,11961 5243,11962 5243,11963 5243,11964 5242,11965 5242,11965 5242,11965 5241,11966 5241,11967 5240,11968 5239,11970 5238,11971 5235,11975 5231,11980 5227,11985 5222,11990 5216,11996 5210,12003 L 5187,12025 C 5171,12041 5151,12060 5129,12080 5107,12101 5082,12124 5055,12148 4947,12244 4806,12366 4664,12486 4522,12606 4379,12724 4268,12813 4241,12836 4215,12856 4192,12875 4169,12893 4148,12909 4130,12923 4122,12930 4113,12936 4106,12941 4099,12947 4093,12951 4087,12955 4085,12957 4082,12959 4079,12961 4077,12962 4075,12963 4074,12965 4073,12965 4071,12966 4071,12967 3888,12965 3722,12947 3572,12920 3421,12892 3288,12854 3175,12811 3063,12769 2972,12723 2902,12678 2868,12656 2840,12634 2818,12614 2806,12604 2797,12594 2789,12585 2783,12577 2777,12570 2772,12563 2773,12563 2773,12564 2773,12565 L 2756,12567 2770,12560 2771,12559 2770,12560 2771,12559 C 2771,12560 2771,12561 2772,12562 L 2772,12559 C 2771,12557 2771,12555 2771,12552 2771,12547 2770,12540 2769,12534 2768,12518 2767,12500 2766,12478 2765,12456 2765,12431 2764,12402 2763,12374 2763,12343 2762,12308 2760,12171 2759,11990 2759,11786 2759,11348 2763,10807 2771,10370 2775,10151 2779,9958 2783,9818 2785,9783 2786,9752 2787,9723 2789,9695 2789,9671 2790,9651 2791,9641 2792,9631 2792,9623 2793,9615 2794,9609 2794,9603 2794,9600 2795,9598 2795,9596 2796,9593 2796,9592 2796,9590 L 2796,9588 C 2796,9588 2797,9588 2798,9587 2799,9586 2800,9585 2802,9584 2805,9583 2807,9581 2810,9580 2816,9576 2822,9573 2830,9569 2838,9565 2847,9561 2857,9557 2878,9547 2902,9537 2929,9526 2957,9514 2988,9501 3022,9488 3157,9434 3336,9366 3515,9300 3694,9233 3874,9168 4012,9119 4046,9106 4079,9095 4107,9085 4136,9075 4161,9066 4182,9059 4194,9055 4203,9052 4212,9048 4220,9046 4228,9043 4235,9041 4237,9040 4241,9039 4243,9038 4246,9037 4248,9036 4250,9036 4252,9035 4253,9035 4255,9034 L 4257,9034 4264,9034 C 4266,9034 4268,9034 4270,9034 4274,9034 4279,9035 4285,9036 4296,9036 4311,9038 4327,9040 4360,9044 4403,9051 4451,9058 4548,9073 4668,9095 4787,9117 4906,9140 5023,9165 5112,9187 5135,9193 5155,9198 5173,9204 5192,9209 5208,9214 5221,9219 5228,9221 5235,9223 5240,9225 5245,9227 5250,9229 5253,9231 5256,9233 5260,9235 5262,9237 5262,9237 5262,9237 5262,9237 5262,9238 5263,9239 5263,9240 Z M 2772,12562 C 2772,12562 2772,12562 2772,12563 2772,12562 2772,12562 2772,12562 Z M 4069,12967 C 4070,12967 4070,12967 4071,12967 L 4075,12967 4075,12976 4075,12983 4068,12968 C 4068,12968 4069,12967 4069,12967 Z M 2796,9586 L 2796,9588 C 2796,9588 2796,9589 2795,9589 L 2792,9585 2793,9586 2796,9586 Z M 4253,9017 L 4256,9028 4256,9029 4253,9017 Z"/>
         <path fill="rgb(255,255,255)" fill-opacity="0.541" stroke="rgb(255,255,255)" stroke-opacity="0.541" d="M 5224,9282 L 5190,9297 5155,9312 5121,9327 5086,9344 5051,9360 5016,9377 4981,9395 4945,9413 4909,9430 4874,9449 4837,9467 4802,9487 4765,9506 4729,9525 4656,9565 4582,9604 4508,9644 4433,9684 4358,9724 4282,9763 4207,9802 4169,9822 4132,9841 4093,9859 4056,9878 4038,9874 4019,9869 3982,9861 3944,9851 3905,9843 3865,9834 3825,9824 3785,9815 3743,9806 3702,9797 3660,9787 3576,9768 3492,9750 3450,9740 3408,9731 3367,9723 3327,9714 3286,9705 3247,9697 3207,9688 3169,9680 3131,9672 3112,9669 3094,9665 3076,9662 3058,9658 3040,9654 3023,9651 3006,9648 2989,9644 2973,9641 2957,9638 2941,9635 2925,9632 2910,9629 2896,9626 2881,9623 2867,9621 2853,9619 2840,9616 2874,9627 2909,9637 2944,9648 2980,9658 3016,9668 3052,9678 3090,9689 3127,9699 3165,9709 3203,9719 3280,9740 3357,9760 3435,9780 3513,9800 3590,9820 3667,9841 3705,9851 3743,9861 3781,9871 3818,9882 3854,9892 3890,9902 3926,9912 3961,9923 3995,9933 4030,9944 4030,9984 4032,10024 4032,10064 4033,10106 4034,10148 4035,10190 4036,10233 4036,10277 4037,10321 4038,10366 4038,10411 4038,10456 4039,10502 4040,10548 4040,10594 4040,10641 4041,10688 4041,10736 4042,10783 4042,10832 4043,10928 4044,11025 4044,11124 4044,11222 4046,11420 4046,11618 4047,11717 4048,11814 4048,11912 4049,12008 4050,12056 4050,12104 4050,12152 4051,12199 4051,12245 4052,12292 4052,12338 4053,12384 4053,12429 4054,12474 4054,12518 4055,12563 4056,12606 4056,12649 4057,12692 4058,12734 4059,12776 4060,12817 4061,12857 4061,12896 4062,12856 4063,12816 4063,12774 4063,12733 4064,12690 4065,12647 4065,12604 4066,12559 4067,12515 4067,12470 4068,12425 4069,12379 4070,12333 4071,12286 4071,12239 4072,12191 4073,12144 4074,12095 4075,12047 4075,11999 4077,11901 4079,11803 4081,11703 4083,11603 4087,11403 4090,11202 4092,11103 4094,11003 4095,10905 4097,10806 4098,10758 4099,10710 4100,10662 4100,10614 4101,10567 4102,10520 4102,10473 4104,10427 4104,10381 4105,10336 4106,10291 4106,10246 4107,10202 4108,10159 4108,10116 4109,10073 4110,10031 4110,9990 4110,9949 4111,9910 4184,9871 4256,9832 4328,9794 4400,9756 4471,9718 4542,9680 4613,9642 4683,9604 4753,9565 4822,9527 4891,9487 4959,9448 4993,9428 5026,9407 5060,9387 5093,9366 5126,9346 5159,9325 5191,9303 5224,9282 5224,9282 Z"/>
         <defs>
          <mask id="mask2">
           <g>
            <defs>
             <linearGradient id="gradient2" x1="4032" y1="9282" x2="4032" y2="12897" gradientUnits="userSpaceOnUse">
              <stop offset="0.5" style="stop-color:rgb(117,117,117)"/>
              <stop offset="0.5" style="stop-color:rgb(117,117,117)"/>
              <stop offset="1" style="stop-color:rgb(117,117,117)"/>
              <stop offset="1" style="stop-color:rgb(117,117,117)"/>
             </linearGradient>
            </defs>
            <path style="fill:url(#gradient2)" d="M 2840,9282 L 5224,9282 5224,12897 2840,12897 2840,9282 Z"/>
           </g>
          </mask>
         </defs>
         <g style="mask:url(#mask2)">
          <path fill="none" stroke="rgb(255,255,255)" stroke-width="1" stroke-linejoin="miter" d="M 5224,9282 L 5190,9297 5155,9312 5121,9327 5086,9344 5051,9360 5016,9377 4981,9395 4945,9413 4909,9430 4874,9449 4837,9467 4802,9487 4765,9506 4729,9525 4656,9565 4582,9604 4508,9644 4433,9684 4358,9724 4282,9763 4207,9802 4169,9822 4132,9841 4093,9859 4056,9878 4038,9874 4019,9869 3982,9861 3944,9851 3905,9843 3865,9834 3825,9824 3785,9815 3743,9806 3702,9797 3660,9787 3576,9768 3492,9750 3450,9740 3408,9731 3367,9723 3327,9714 3286,9705 3247,9697 3207,9688 3169,9680 3131,9672 3112,9669 3094,9665 3076,9662 3058,9658 3040,9654 3023,9651 3006,9648 2989,9644 2973,9641 2957,9638 2941,9635 2925,9632 2910,9629 2896,9626 2881,9623 2867,9621 2853,9619 2840,9616 2874,9627 2909,9637 2944,9648 2980,9658 3016,9668 3052,9678 3090,9689 3127,9699 3165,9709 3203,9719 3280,9740 3357,9760 3435,9780 3513,9800 3590,9820 3667,9841 3705,9851 3743,9861 3781,9871 3818,9882 3854,9892 3890,9902 3926,9912 3961,9923 3995,9933 4030,9944 4030,9984 4032,10024 4032,10064 4033,10106 4034,10148 4035,10190 4036,10233 4036,10277 4037,10321 4038,10366 4038,10411 4038,10456 4039,10502 4040,10548 4040,10594 4040,10641 4041,10688 4041,10736 4042,10783 4042,10832 4043,10928 4044,11025 4044,11124 4044,11222 4046,11420 4046,11618 4047,11717 4048,11814 4048,11912 4049,12008 4050,12056 4050,12104 4050,12152 4051,12199 4051,12245 4052,12292 4052,12338 4053,12384 4053,12429 4054,12474 4054,12518 4055,12563 4056,12606 4056,12649 4057,12692 4058,12734 4059,12776 4060,12817 4061,12857 4061,12896 4062,12856 4063,12816 4063,12774 4063,12733 4064,12690 4065,12647 4065,12604 4066,12559 4067,12515 4067,12470 4068,12425 4069,12379 4070,12333 4071,12286 4071,12239 4072,12191 4073,12144 4074,12095 4075,12047 4075,11999 4077,11901 4079,11803 4081,11703 4083,11603 4087,11403 4090,11202 4092,11103 4094,11003 4095,10905 4097,10806 4098,10758 4099,10710 4100,10662 4100,10614 4101,10567 4102,10520 4102,10473 4104,10427 4104,10381 4105,10336 4106,10291 4106,10246 4107,10202 4108,10159 4108,10116 4109,10073 4110,10031 4110,9990 4110,9949 4111,9910 4184,9871 4256,9832 4328,9794 4400,9756 4471,9718 4542,9680 4613,9642 4683,9604 4753,9565 4822,9527 4891,9487 4959,9448 4993,9428 5026,9407 5060,9387 5093,9366 5126,9346 5159,9325 5191,9303 5224,9282 5224,9282 Z"/>
         </g>
         <path fill="rgb(0,0,0)" fill-opacity="0.161" stroke="rgb(255,255,255)" stroke-opacity="0.161" d="M 2976,12049 L 2982,12058 2989,12067 2996,12076 3004,12084 3012,12092 3020,12100 3029,12108 3038,12116 3047,12124 3057,12131 3067,12138 3077,12146 3087,12153 3098,12160 3109,12166 3120,12173 3132,12179 3144,12186 3156,12192 3168,12197 3180,12203 3193,12208 3206,12214 3218,12219 3245,12229 3271,12238 3298,12246 3325,12253 3353,12260 3380,12266 3408,12271 3435,12275 3462,12279 3489,12281 3503,12282 3516,12283 3529,12284 3568,12284 3580,12283 3593,12282 3605,12282 3617,12281 3629,12280 3640,12278 3652,12276 3663,12275 3674,12272 3685,12269 3695,12267 3705,12264 3714,12261 3724,12257 3723,12257 3722,12257 3719,12255 3715,12255 3711,12253 3705,12252 3699,12250 3692,12248 3684,12246 3675,12243 3666,12241 3656,12239 3646,12236 3635,12233 3623,12230 3611,12226 3599,12223 3586,12219 3572,12216 3559,12212 3544,12208 3529,12204 3515,12200 3500,12195 3484,12191 3452,12183 3420,12173 3387,12164 3354,12156 3321,12146 3288,12137 3255,12128 3223,12119 3208,12115 3192,12111 3176,12106 3162,12102 3147,12098 3134,12094 3120,12090 3106,12087 3094,12083 3081,12080 3069,12076 3058,12073 3048,12070 3038,12067 3028,12064 3019,12062 3011,12060 3003,12058 2997,12056 2991,12054 2986,12052 2982,12051 2978,12050 2977,12050 2976,12049 2976,12049 Z"/>
         <defs>
          <mask id="mask3">
           <g>
            <defs>
             <linearGradient id="gradient3" x1="3350" y1="12049" x2="3350" y2="12284" gradientUnits="userSpaceOnUse">
              <stop offset="0.5" style="stop-color:rgb(214,214,214)"/>
              <stop offset="0.5" style="stop-color:rgb(214,214,214)"/>
              <stop offset="1" style="stop-color:rgb(214,214,214)"/>
              <stop offset="1" style="stop-color:rgb(214,214,214)"/>
             </linearGradient>
            </defs>
            <path style="fill:url(#gradient3)" d="M 2975,12049 L 3725,12049 3725,12284 2975,12284 2975,12049 Z"/>
           </g>
          </mask>
         </defs>
         <g style="mask:url(#mask3)">
          <path fill="none" stroke="rgb(255,255,255)" stroke-width="1" stroke-linejoin="miter" d="M 2976,12049 L 2982,12058 2989,12067 2996,12076 3004,12084 3012,12092 3020,12100 3029,12108 3038,12116 3047,12124 3057,12131 3067,12138 3077,12146 3087,12153 3098,12160 3109,12166 3120,12173 3132,12179 3144,12186 3156,12192 3168,12197 3180,12203 3193,12208 3206,12214 3218,12219 3245,12229 3271,12238 3298,12246 3325,12253 3353,12260 3380,12266 3408,12271 3435,12275 3462,12279 3489,12281 3503,12282 3516,12283 3529,12284 3568,12284 3580,12283 3593,12282 3605,12282 3617,12281 3629,12280 3640,12278 3652,12276 3663,12275 3674,12272 3685,12269 3695,12267 3705,12264 3714,12261 3724,12257 3723,12257 3722,12257 3719,12255 3715,12255 3711,12253 3705,12252 3699,12250 3692,12248 3684,12246 3675,12243 3666,12241 3656,12239 3646,12236 3635,12233 3623,12230 3611,12226 3599,12223 3586,12219 3572,12216 3559,12212 3544,12208 3529,12204 3515,12200 3500,12195 3484,12191 3452,12183 3420,12173 3387,12164 3354,12156 3321,12146 3288,12137 3255,12128 3223,12119 3208,12115 3192,12111 3176,12106 3162,12102 3147,12098 3134,12094 3120,12090 3106,12087 3094,12083 3081,12080 3069,12076 3058,12073 3048,12070 3038,12067 3028,12064 3019,12062 3011,12060 3003,12058 2997,12056 2991,12054 2986,12052 2982,12051 2978,12050 2977,12050 2976,12049 2976,12049 Z"/>
         </g>
         <path fill="rgb(255,255,255)" fill-opacity="0.388" stroke="rgb(255,255,255)" stroke-opacity="0.388" d="M 3659,11696 L 3040,11457 3034,11460 3029,11462 3024,11465 3020,11468 3016,11472 3012,11476 3009,11481 3005,11485 3003,11489 3000,11494 2998,11499 2996,11504 2994,11509 2993,11514 2991,11524 2989,11534 2988,11543 2988,11567 2989,11570 2989,11574 3085,11608 3086,11608 3087,11609 3087,11610 3088,11611 3089,11612 3090,11614 3092,11616 3093,11618 3095,11621 3097,11623 3099,11626 3102,11629 3104,11632 3107,11636 3110,11639 3117,11647 3124,11654 3132,11662 3141,11670 3150,11678 3160,11686 3171,11695 3182,11703 3195,11711 3208,11718 3221,11725 3236,11732 3243,11735 3251,11738 3258,11740 3266,11743 3275,11745 3283,11747 3291,11749 3300,11751 3309,11752 3317,11753 3327,11754 3336,11755 3365,11755 3375,11754 3385,11753 3395,11752 3405,11750 3416,11748 3426,11746 3437,11743 3448,11740 3459,11736 3460,11736 3461,11736 3463,11736 3467,11737 3471,11738 3476,11738 3481,11739 3487,11740 3494,11740 3501,11741 3509,11742 3517,11742 3525,11742 3533,11743 3551,11743 3560,11742 3568,11742 3578,11741 3586,11740 3595,11738 3603,11736 3611,11735 3619,11733 3625,11729 3633,11726 3638,11722 3644,11718 3649,11713 3651,11710 3653,11707 3655,11705 3656,11702 3658,11699 3659,11696 3659,11696 Z"/>
         <defs>
          <mask id="mask4">
           <g>
            <defs>
             <linearGradient id="gradient4" x1="3323" y1="11457" x2="3323" y2="11755" gradientUnits="userSpaceOnUse">
              <stop offset="0.5" style="stop-color:rgb(156,156,156)"/>
              <stop offset="0.5" style="stop-color:rgb(156,156,156)"/>
              <stop offset="1" style="stop-color:rgb(156,156,156)"/>
              <stop offset="1" style="stop-color:rgb(156,156,156)"/>
             </linearGradient>
            </defs>
            <path style="fill:url(#gradient4)" d="M 2988,11457 L 3659,11457 3659,11755 2988,11755 2988,11457 Z"/>
           </g>
          </mask>
         </defs>
         <g style="mask:url(#mask4)">
          <path fill="none" stroke="rgb(255,255,255)" stroke-width="1" stroke-linejoin="miter" d="M 3659,11696 L 3040,11457 3034,11460 3029,11462 3024,11465 3020,11468 3016,11472 3012,11476 3009,11481 3005,11485 3003,11489 3000,11494 2998,11499 2996,11504 2994,11509 2993,11514 2991,11524 2989,11534 2988,11543 2988,11567 2989,11570 2989,11574 3085,11608 3086,11608 3087,11609 3087,11610 3088,11611 3089,11612 3090,11614 3092,11616 3093,11618 3095,11621 3097,11623 3099,11626 3102,11629 3104,11632 3107,11636 3110,11639 3117,11647 3124,11654 3132,11662 3141,11670 3150,11678 3160,11686 3171,11695 3182,11703 3195,11711 3208,11718 3221,11725 3236,11732 3243,11735 3251,11738 3258,11740 3266,11743 3275,11745 3283,11747 3291,11749 3300,11751 3309,11752 3317,11753 3327,11754 3336,11755 3365,11755 3375,11754 3385,11753 3395,11752 3405,11750 3416,11748 3426,11746 3437,11743 3448,11740 3459,11736 3460,11736 3461,11736 3463,11736 3467,11737 3471,11738 3476,11738 3481,11739 3487,11740 3494,11740 3501,11741 3509,11742 3517,11742 3525,11742 3533,11743 3551,11743 3560,11742 3568,11742 3578,11741 3586,11740 3595,11738 3603,11736 3611,11735 3619,11733 3625,11729 3633,11726 3638,11722 3644,11718 3649,11713 3651,11710 3653,11707 3655,11705 3656,11702 3658,11699 3659,11696 3659,11696 Z"/>
         </g>
         <path fill="rgb(96,96,96)" stroke="none" d="M 3654,11615 C 3448,11561 3243,11508 3037,11455 3029,11484 3028,11526 3041,11547 3072,11563 3135,11575 3166,11590 3256,11676 3334,11684 3478,11672 3533,11683 3589,11692 3644,11703 3661,11670 3666,11656 3654,11615 L 3654,11615 Z"/>
         <path fill="rgb(255,255,255)" fill-opacity="0.4" stroke="rgb(255,255,255)" stroke-opacity="0.4" d="M 5247,9264 L 4048,9936 4053,12943 5226,11955 5247,9264 5247,9264 Z"/>
         <defs>
          <mask id="mask5">
           <g>
            <defs>
             <linearGradient id="gradient5" x1="4647" y1="9263" x2="4647" y2="12943" gradientUnits="userSpaceOnUse">
              <stop offset="0.5" style="stop-color:rgb(153,153,153)"/>
              <stop offset="0.5" style="stop-color:rgb(153,153,153)"/>
              <stop offset="1" style="stop-color:rgb(153,153,153)"/>
              <stop offset="1" style="stop-color:rgb(153,153,153)"/>
             </linearGradient>
            </defs>
            <path style="fill:url(#gradient5)" d="M 4048,9263 L 5247,9263 5247,12943 4048,12943 4048,9263 Z"/>
           </g>
          </mask>
         </defs>
         <g style="mask:url(#mask5)">
          <path fill="none" stroke="rgb(255,255,255)" stroke-width="1" stroke-linejoin="miter" d="M 5247,9264 L 4048,9936 4053,12943 5226,11955 5247,9264 5247,9264 Z"/>
         </g>
         <path fill="rgb(0,0,0)" fill-opacity="0.161" stroke="rgb(255,255,255)" stroke-opacity="0.161" d="M 3045,12239 L 3052,12248 3059,12256 3065,12265 3073,12272 3080,12280 3087,12287 3095,12294 3103,12301 3111,12308 3119,12314 3128,12321 3136,12327 3144,12333 3153,12338 3171,12349 3189,12359 3208,12368 3226,12377 3245,12384 3264,12392 3284,12397 3304,12403 3323,12408 3343,12412 3363,12415 3383,12418 3403,12420 3422,12421 3442,12423 3461,12423 3480,12422 3498,12421 3516,12419 3534,12417 3551,12414 3568,12411 3584,12407 3599,12403 3614,12397 3613,12397 3610,12397 3607,12395 3604,12395 3600,12393 3595,12392 3590,12391 3584,12390 3577,12388 3570,12386 3563,12384 3555,12382 3547,12379 3538,12377 3529,12374 3519,12372 3509,12369 3499,12366 3488,12363 3478,12360 3467,12357 3455,12354 3432,12347 3408,12341 3383,12334 3358,12327 3332,12320 3282,12306 3258,12300 3233,12292 3210,12286 3198,12283 3187,12280 3176,12276 3165,12274 3155,12271 3145,12268 3135,12265 3126,12263 3116,12260 3108,12257 3100,12255 3093,12253 3085,12251 3078,12249 3072,12247 3067,12246 3061,12244 3057,12243 3053,12242 3050,12241 3047,12240 3045,12239 3045,12239 Z"/>
         <defs>
          <mask id="mask6">
           <g>
            <defs>
             <linearGradient id="gradient6" x1="3329" y1="12239" x2="3329" y2="12423" gradientUnits="userSpaceOnUse">
              <stop offset="0.5" style="stop-color:rgb(214,214,214)"/>
              <stop offset="0.5" style="stop-color:rgb(214,214,214)"/>
              <stop offset="1" style="stop-color:rgb(214,214,214)"/>
              <stop offset="1" style="stop-color:rgb(214,214,214)"/>
             </linearGradient>
            </defs>
            <path style="fill:url(#gradient6)" d="M 3045,12239 L 3614,12239 3614,12423 3045,12423 3045,12239 Z"/>
           </g>
          </mask>
         </defs>
         <g style="mask:url(#mask6)">
          <path fill="none" stroke="rgb(255,255,255)" stroke-width="1" stroke-linejoin="miter" d="M 3045,12239 L 3052,12248 3059,12256 3065,12265 3073,12272 3080,12280 3087,12287 3095,12294 3103,12301 3111,12308 3119,12314 3128,12321 3136,12327 3144,12333 3153,12338 3171,12349 3189,12359 3208,12368 3226,12377 3245,12384 3264,12392 3284,12397 3304,12403 3323,12408 3343,12412 3363,12415 3383,12418 3403,12420 3422,12421 3442,12423 3461,12423 3480,12422 3498,12421 3516,12419 3534,12417 3551,12414 3568,12411 3584,12407 3599,12403 3614,12397 3613,12397 3610,12397 3607,12395 3604,12395 3600,12393 3595,12392 3590,12391 3584,12390 3577,12388 3570,12386 3563,12384 3555,12382 3547,12379 3538,12377 3529,12374 3519,12372 3509,12369 3499,12366 3488,12363 3478,12360 3467,12357 3455,12354 3432,12347 3408,12341 3383,12334 3358,12327 3332,12320 3282,12306 3258,12300 3233,12292 3210,12286 3198,12283 3187,12280 3176,12276 3165,12274 3155,12271 3145,12268 3135,12265 3126,12263 3116,12260 3108,12257 3100,12255 3093,12253 3085,12251 3078,12249 3072,12247 3067,12246 3061,12244 3057,12243 3053,12242 3050,12241 3047,12240 3045,12239 3045,12239 Z"/>
         </g>
         <path fill="rgb(0,0,0)" fill-opacity="0.161" stroke="rgb(255,255,255)" stroke-opacity="0.161" d="M 3147,12427 L 3155,12436 3163,12446 3172,12455 3181,12463 3190,12471 3200,12479 3210,12486 3220,12493 3230,12499 3241,12505 3252,12511 3263,12516 3275,12520 3286,12525 3298,12528 3310,12532 3322,12535 3334,12537 3346,12540 3359,12541 3371,12542 3383,12543 3408,12543 3420,12542 3433,12541 3445,12540 3457,12538 3469,12535 3481,12532 3493,12529 3504,12525 3504,12525 3502,12524 3500,12524 3498,12524 3496,12523 3492,12522 3489,12521 3485,12520 3481,12519 3477,12518 3473,12516 3467,12515 3462,12514 3457,12512 3451,12510 3445,12509 3432,12505 3419,12502 3405,12498 3390,12494 3375,12490 3360,12485 3328,12477 3296,12468 3281,12464 3266,12460 3251,12456 3237,12452 3223,12448 3210,12444 3204,12442 3198,12440 3192,12439 3187,12438 3182,12436 3177,12435 3173,12434 3169,12432 3165,12431 3161,12430 3158,12429 3155,12429 3153,12428 3151,12427 3149,12427 3147,12427 3147,12427 Z"/>
         <defs>
          <mask id="mask7">
           <g>
            <defs>
             <linearGradient id="gradient7" x1="3326" y1="12426" x2="3326" y2="12543" gradientUnits="userSpaceOnUse">
              <stop offset="0.5" style="stop-color:rgb(214,214,214)"/>
              <stop offset="0.5" style="stop-color:rgb(214,214,214)"/>
              <stop offset="1" style="stop-color:rgb(214,214,214)"/>
              <stop offset="1" style="stop-color:rgb(214,214,214)"/>
             </linearGradient>
            </defs>
            <path style="fill:url(#gradient7)" d="M 3147,12426 L 3505,12426 3505,12543 3147,12543 3147,12426 Z"/>
           </g>
          </mask>
         </defs>
         <g style="mask:url(#mask7)">
          <path fill="none" stroke="rgb(255,255,255)" stroke-width="1" stroke-linejoin="miter" d="M 3147,12427 L 3155,12436 3163,12446 3172,12455 3181,12463 3190,12471 3200,12479 3210,12486 3220,12493 3230,12499 3241,12505 3252,12511 3263,12516 3275,12520 3286,12525 3298,12528 3310,12532 3322,12535 3334,12537 3346,12540 3359,12541 3371,12542 3383,12543 3408,12543 3420,12542 3433,12541 3445,12540 3457,12538 3469,12535 3481,12532 3493,12529 3504,12525 3504,12525 3502,12524 3500,12524 3498,12524 3496,12523 3492,12522 3489,12521 3485,12520 3481,12519 3477,12518 3473,12516 3467,12515 3462,12514 3457,12512 3451,12510 3445,12509 3432,12505 3419,12502 3405,12498 3390,12494 3375,12490 3360,12485 3328,12477 3296,12468 3281,12464 3266,12460 3251,12456 3237,12452 3223,12448 3210,12444 3204,12442 3198,12440 3192,12439 3187,12438 3182,12436 3177,12435 3173,12434 3169,12432 3165,12431 3161,12430 3158,12429 3155,12429 3153,12428 3151,12427 3149,12427 3147,12427 3147,12427 Z"/>
         </g>
         <path fill="rgb(252,252,252)" fill-opacity="0.439" stroke="rgb(255,255,255)" stroke-opacity="0.439" d="M 2933,9822 L 2872,9831 2861,11267 3803,11531 3826,11454 2921,11213 2933,9822 2933,9822 Z"/>
         <defs>
          <mask id="mask8">
           <g>
            <defs>
             <linearGradient id="gradient8" x1="3344" y1="9822" x2="3344" y2="11531" gradientUnits="userSpaceOnUse">
              <stop offset="0.5" style="stop-color:rgb(143,143,143)"/>
              <stop offset="0.5" style="stop-color:rgb(143,143,143)"/>
              <stop offset="1" style="stop-color:rgb(143,143,143)"/>
              <stop offset="1" style="stop-color:rgb(143,143,143)"/>
             </linearGradient>
            </defs>
            <path style="fill:url(#gradient8)" d="M 2861,9822 L 3827,9822 3827,11531 2861,11531 2861,9822 Z"/>
           </g>
          </mask>
         </defs>
         <g style="mask:url(#mask8)">
          <path fill="none" stroke="rgb(255,255,255)" stroke-width="1" stroke-linejoin="miter" d="M 2933,9822 L 2872,9831 2861,11267 3803,11531 3826,11454 2921,11213 2933,9822 2933,9822 Z"/>
         </g>
         <path fill="rgb(0,0,0)" fill-opacity="0.231" stroke="rgb(255,255,255)" stroke-opacity="0.231" d="M 3822,10355 L 3820,10395 2935,10140 3822,10355 3822,10355 Z"/>
         <defs>
          <mask id="mask9">
           <g>
            <defs>
             <linearGradient id="gradient9" x1="3378" y1="10140" x2="3378" y2="10396" gradientUnits="userSpaceOnUse">
              <stop offset="0.5" style="stop-color:rgb(196,196,196)"/>
              <stop offset="0.5" style="stop-color:rgb(196,196,196)"/>
              <stop offset="1" style="stop-color:rgb(196,196,196)"/>
              <stop offset="1" style="stop-color:rgb(196,196,196)"/>
             </linearGradient>
            </defs>
            <path style="fill:url(#gradient9)" d="M 2934,10140 L 3822,10140 3822,10396 2934,10396 2934,10140 Z"/>
           </g>
          </mask>
         </defs>
         <g style="mask:url(#mask9)">
          <path fill="none" stroke="rgb(255,255,255)" stroke-width="1" stroke-linejoin="miter" d="M 3822,10355 L 3820,10395 2935,10140 3822,10355 3822,10355 Z"/>
         </g>
         <path fill="rgb(0,0,0)" fill-opacity="0.231" stroke="rgb(255,255,255)" stroke-opacity="0.231" d="M 3835,10647 L 3833,10688 2948,10432 3835,10647 3835,10647 Z"/>
         <defs>
          <mask id="mask10">
           <g>
            <defs>
             <linearGradient id="gradient10" x1="3391" y1="10432" x2="3391" y2="10688" gradientUnits="userSpaceOnUse">
              <stop offset="0.5" style="stop-color:rgb(196,196,196)"/>
              <stop offset="0.5" style="stop-color:rgb(196,196,196)"/>
              <stop offset="1" style="stop-color:rgb(196,196,196)"/>
              <stop offset="1" style="stop-color:rgb(196,196,196)"/>
             </linearGradient>
            </defs>
            <path style="fill:url(#gradient10)" d="M 2947,10432 L 3835,10432 3835,10688 2947,10688 2947,10432 Z"/>
           </g>
          </mask>
         </defs>
         <g style="mask:url(#mask10)">
          <path fill="none" stroke="rgb(255,255,255)" stroke-width="1" stroke-linejoin="miter" d="M 3835,10647 L 3833,10688 2948,10432 3835,10647 3835,10647 Z"/>
         </g>
         <path fill="rgb(0,0,0)" fill-opacity="0.231" stroke="rgb(255,255,255)" stroke-opacity="0.231" d="M 3822,10918 L 3820,10958 2935,10703 3822,10918 3822,10918 Z"/>
         <defs>
          <mask id="mask11">
           <g>
            <defs>
             <linearGradient id="gradient11" x1="3378" y1="10702" x2="3378" y2="10958" gradientUnits="userSpaceOnUse">
              <stop offset="0.5" style="stop-color:rgb(196,196,196)"/>
              <stop offset="0.5" style="stop-color:rgb(196,196,196)"/>
              <stop offset="1" style="stop-color:rgb(196,196,196)"/>
              <stop offset="1" style="stop-color:rgb(196,196,196)"/>
             </linearGradient>
            </defs>
            <path style="fill:url(#gradient11)" d="M 2934,10702 L 3822,10702 3822,10958 2934,10958 2934,10702 Z"/>
           </g>
          </mask>
         </defs>
         <g style="mask:url(#mask11)">
          <path fill="none" stroke="rgb(255,255,255)" stroke-width="1" stroke-linejoin="miter" d="M 3822,10918 L 3820,10958 2935,10703 3822,10918 3822,10918 Z"/>
         </g>
         <path fill="rgb(0,0,0)" fill-opacity="0.231" stroke="rgb(255,255,255)" stroke-opacity="0.231" d="M 3822,11183 L 3820,11224 2935,10968 3822,11183 3822,11183 Z"/>
         <defs>
          <mask id="mask12">
           <g>
            <defs>
             <linearGradient id="gradient12" x1="3378" y1="10967" x2="3378" y2="11224" gradientUnits="userSpaceOnUse">
              <stop offset="0.5" style="stop-color:rgb(196,196,196)"/>
              <stop offset="0.5" style="stop-color:rgb(196,196,196)"/>
              <stop offset="1" style="stop-color:rgb(196,196,196)"/>
              <stop offset="1" style="stop-color:rgb(196,196,196)"/>
             </linearGradient>
            </defs>
            <path style="fill:url(#gradient12)" d="M 2934,10967 L 3822,10967 3822,11224 2934,11224 2934,10967 Z"/>
           </g>
          </mask>
         </defs>
         <g style="mask:url(#mask12)">
          <path fill="none" stroke="rgb(255,255,255)" stroke-width="1" stroke-linejoin="miter" d="M 3822,11183 L 3820,11224 2935,10968 3822,11183 3822,11183 Z"/>
         </g>
         <path fill="rgb(158,158,158)" stroke="none" d="M 2937,9855 L 3817,10075 3810,11528 3824,11528 3831,10070 3831,10064 3826,10063 2940,9841 2939,9849 2937,9855 2937,9855 Z M 3822,10077 L 3817,10075 3817,10070 3824,10070 3822,10077 3822,10077 Z"/>
        </g>
        <defs>
         <clipPath id="clip_path_14" clipPathUnits="userSpaceOnUse">
          <path d="M 3846,10770 L 3846,12294 3853,12294 C 3848,12306 3846,12318 3846,12330 3846,12514 4323,12662 4911,12662 5500,12662 5977,12514 5977,12330 5977,12318 5975,12306 5970,12294 L 5977,12294 5977,10770 3846,10770 3846,10770 Z"/>
         </clipPath>
        </defs>
        <g clip-path="url(#clip_path_14)">
         <path fill="rgb(73,123,179)" stroke="none" d="M 3831,10770 L 3883,10770 3883,12662 3831,12662 3831,10770 Z"/>
         <path fill="rgb(82,130,184)" stroke="none" d="M 3853,10770 L 3905,10770 3905,12662 3853,12662 3853,10770 Z"/>
         <path fill="rgb(91,138,189)" stroke="none" d="M 3875,10770 L 3926,10770 3926,12662 3875,12662 3875,10770 Z"/>
         <path fill="rgb(101,145,194)" stroke="none" d="M 3897,10770 L 3948,10770 3948,12662 3897,12662 3897,10770 Z"/>
         <path fill="rgb(110,152,199)" stroke="none" d="M 3918,10770 L 3970,10770 3970,12662 3918,12662 3918,10770 Z"/>
         <path fill="rgb(119,160,205)" stroke="none" d="M 3940,10770 L 3992,10770 3992,12662 3940,12662 3940,10770 Z"/>
         <path fill="rgb(128,167,210)" stroke="none" d="M 3962,10770 L 4014,10770 4014,12662 3962,12662 3962,10770 Z"/>
         <path fill="rgb(137,174,215)" stroke="none" d="M 3984,10770 L 4036,10770 4036,12662 3984,12662 3984,10770 Z"/>
         <path fill="rgb(147,181,220)" stroke="none" d="M 4006,10770 L 4057,10770 4057,12662 4006,12662 4006,10770 Z"/>
         <path fill="rgb(156,189,225)" stroke="none" d="M 4028,10770 L 4079,10770 4079,12662 4028,12662 4028,10770 Z"/>
         <path fill="rgb(165,196,230)" stroke="none" d="M 4049,10770 L 4101,10770 4101,12662 4049,12662 4049,10770 Z"/>
         <path fill="rgb(162,193,228)" stroke="none" d="M 4072,10770 L 4124,10770 4124,12662 4072,12662 4072,10770 Z"/>
         <path fill="rgb(159,191,225)" stroke="none" d="M 4094,10770 L 4146,10770 4146,12662 4094,12662 4094,10770 Z"/>
         <path fill="rgb(157,188,223)" stroke="none" d="M 4116,10770 L 4168,10770 4168,12662 4116,12662 4116,10770 Z"/>
         <path fill="rgb(154,185,220)" stroke="none" d="M 4139,10770 L 4191,10770 4191,12662 4139,12662 4139,10770 Z"/>
         <path fill="rgb(151,182,218)" stroke="none" d="M 4161,10770 L 4213,10770 4213,12662 4161,12662 4161,10770 Z"/>
         <path fill="rgb(148,180,216)" stroke="none" d="M 4183,10770 L 4235,10770 4235,12662 4183,12662 4183,10770 Z"/>
         <path fill="rgb(145,177,213)" stroke="none" d="M 4205,10770 L 4258,10770 4258,12662 4205,12662 4205,10770 Z"/>
         <path fill="rgb(143,174,211)" stroke="none" d="M 4228,10770 L 4280,10770 4280,12662 4228,12662 4228,10770 Z"/>
         <path fill="rgb(140,172,208)" stroke="none" d="M 4250,10770 L 4302,10770 4302,12662 4250,12662 4250,10770 Z"/>
         <path fill="rgb(137,169,206)" stroke="none" d="M 4272,10770 L 4325,10770 4325,12662 4272,12662 4272,10770 Z"/>
         <path fill="rgb(134,166,204)" stroke="none" d="M 4295,10770 L 4347,10770 4347,12662 4295,12662 4295,10770 Z"/>
         <path fill="rgb(132,163,201)" stroke="none" d="M 4317,10770 L 4369,10770 4369,12662 4317,12662 4317,10770 Z"/>
         <path fill="rgb(129,161,199)" stroke="none" d="M 4339,10770 L 4391,10770 4391,12662 4339,12662 4339,10770 Z"/>
         <path fill="rgb(126,158,196)" stroke="none" d="M 4362,10770 L 4414,10770 4414,12662 4362,12662 4362,10770 Z"/>
         <path fill="rgb(123,155,194)" stroke="none" d="M 4384,10770 L 4436,10770 4436,12662 4384,12662 4384,10770 Z"/>
         <path fill="rgb(120,153,192)" stroke="none" d="M 4406,10770 L 4458,10770 4458,12662 4406,12662 4406,10770 Z"/>
         <path fill="rgb(118,150,189)" stroke="none" d="M 4429,10770 L 4481,10770 4481,12662 4429,12662 4429,10770 Z"/>
         <path fill="rgb(115,147,187)" stroke="none" d="M 4451,10770 L 4503,10770 4503,12662 4451,12662 4451,10770 Z"/>
         <path fill="rgb(112,145,185)" stroke="none" d="M 4473,10770 L 4525,10770 4525,12662 4473,12662 4473,10770 Z"/>
         <path fill="rgb(109,142,182)" stroke="none" d="M 4495,10770 L 4548,10770 4548,12662 4495,12662 4495,10770 Z"/>
         <path fill="rgb(106,139,180)" stroke="none" d="M 4518,10770 L 4570,10770 4570,12662 4518,12662 4518,10770 Z"/>
         <path fill="rgb(104,136,177)" stroke="none" d="M 4540,10770 L 4592,10770 4592,12662 4540,12662 4540,10770 Z"/>
         <path fill="rgb(101,134,175)" stroke="none" d="M 4562,10770 L 4614,10770 4614,12662 4562,12662 4562,10770 Z"/>
         <path fill="rgb(98,131,173)" stroke="none" d="M 4585,10770 L 4637,10770 4637,12662 4585,12662 4585,10770 Z"/>
         <path fill="rgb(95,128,170)" stroke="none" d="M 4607,10770 L 4659,10770 4659,12662 4607,12662 4607,10770 Z"/>
         <path fill="rgb(92,126,168)" stroke="none" d="M 4629,10770 L 4681,10770 4681,12662 4629,12662 4629,10770 Z"/>
         <path fill="rgb(90,123,165)" stroke="none" d="M 4652,10770 L 4704,10770 4704,12662 4652,12662 4652,10770 Z"/>
         <path fill="rgb(87,120,163)" stroke="none" d="M 4674,10770 L 4726,10770 4726,12662 4674,12662 4674,10770 Z"/>
         <path fill="rgb(84,117,161)" stroke="none" d="M 4696,10770 L 4748,10770 4748,12662 4696,12662 4696,10770 Z"/>
         <path fill="rgb(81,115,158)" stroke="none" d="M 4719,10770 L 4771,10770 4771,12662 4719,12662 4719,10770 Z"/>
         <path fill="rgb(79,112,156)" stroke="none" d="M 4741,10770 L 4793,10770 4793,12662 4741,12662 4741,10770 Z"/>
         <path fill="rgb(76,109,153)" stroke="none" d="M 4763,10770 L 4815,10770 4815,12662 4763,12662 4763,10770 Z"/>
         <path fill="rgb(73,107,151)" stroke="none" d="M 4785,10770 L 4838,10770 4838,12662 4785,12662 4785,10770 Z"/>
         <path fill="rgb(70,104,149)" stroke="none" d="M 4808,10770 L 4860,10770 4860,12662 4808,12662 4808,10770 Z"/>
         <path fill="rgb(67,101,146)" stroke="none" d="M 4830,10770 L 4882,10770 4882,12662 4830,12662 4830,10770 Z"/>
         <path fill="rgb(65,98,144)" stroke="none" d="M 4852,10770 L 4904,10770 4904,12662 4852,12662 4852,10770 Z"/>
         <path fill="rgb(62,96,141)" stroke="none" d="M 4875,10770 L 4927,10770 4927,12662 4875,12662 4875,10770 Z"/>
         <path fill="rgb(73,123,179)" stroke="none" d="M 5993,10770 L 5941,10770 5941,12662 5993,12662 5993,10770 Z"/>
         <path fill="rgb(82,130,184)" stroke="none" d="M 5971,10770 L 5919,10770 5919,12662 5971,12662 5971,10770 Z"/>
         <path fill="rgb(91,138,189)" stroke="none" d="M 5949,10770 L 5897,10770 5897,12662 5949,12662 5949,10770 Z"/>
         <path fill="rgb(101,145,194)" stroke="none" d="M 5927,10770 L 5875,10770 5875,12662 5927,12662 5927,10770 Z"/>
         <path fill="rgb(110,152,199)" stroke="none" d="M 5905,10770 L 5854,10770 5854,12662 5905,12662 5905,10770 Z"/>
         <path fill="rgb(119,160,205)" stroke="none" d="M 5883,10770 L 5832,10770 5832,12662 5883,12662 5883,10770 Z"/>
         <path fill="rgb(128,167,210)" stroke="none" d="M 5862,10770 L 5810,10770 5810,12662 5862,12662 5862,10770 Z"/>
         <path fill="rgb(137,174,215)" stroke="none" d="M 5840,10770 L 5788,10770 5788,12662 5840,12662 5840,10770 Z"/>
         <path fill="rgb(147,181,220)" stroke="none" d="M 5818,10770 L 5766,10770 5766,12662 5818,12662 5818,10770 Z"/>
         <path fill="rgb(156,189,225)" stroke="none" d="M 5796,10770 L 5745,10770 5745,12662 5796,12662 5796,10770 Z"/>
         <path fill="rgb(165,196,230)" stroke="none" d="M 5774,10770 L 5722,10770 5722,12662 5774,12662 5774,10770 Z"/>
         <path fill="rgb(162,193,228)" stroke="none" d="M 5752,10770 L 5700,10770 5700,12662 5752,12662 5752,10770 Z"/>
         <path fill="rgb(159,191,225)" stroke="none" d="M 5730,10770 L 5678,10770 5678,12662 5730,12662 5730,10770 Z"/>
         <path fill="rgb(157,188,223)" stroke="none" d="M 5707,10770 L 5655,10770 5655,12662 5707,12662 5707,10770 Z"/>
         <path fill="rgb(154,185,220)" stroke="none" d="M 5685,10770 L 5633,10770 5633,12662 5685,12662 5685,10770 Z"/>
         <path fill="rgb(151,182,218)" stroke="none" d="M 5663,10770 L 5611,10770 5611,12662 5663,12662 5663,10770 Z"/>
         <path fill="rgb(148,180,216)" stroke="none" d="M 5641,10770 L 5588,10770 5588,12662 5641,12662 5641,10770 Z"/>
         <path fill="rgb(145,177,213)" stroke="none" d="M 5618,10770 L 5566,10770 5566,12662 5618,12662 5618,10770 Z"/>
         <path fill="rgb(143,174,211)" stroke="none" d="M 5596,10770 L 5544,10770 5544,12662 5596,12662 5596,10770 Z"/>
         <path fill="rgb(140,172,208)" stroke="none" d="M 5574,10770 L 5521,10770 5521,12662 5574,12662 5574,10770 Z"/>
         <path fill="rgb(137,169,206)" stroke="none" d="M 5551,10770 L 5499,10770 5499,12662 5551,12662 5551,10770 Z"/>
         <path fill="rgb(134,166,204)" stroke="none" d="M 5529,10770 L 5477,10770 5477,12662 5529,12662 5529,10770 Z"/>
         <path fill="rgb(132,163,201)" stroke="none" d="M 5507,10770 L 5455,10770 5455,12662 5507,12662 5507,10770 Z"/>
         <path fill="rgb(129,161,199)" stroke="none" d="M 5484,10770 L 5432,10770 5432,12662 5484,12662 5484,10770 Z"/>
         <path fill="rgb(126,158,196)" stroke="none" d="M 5462,10770 L 5410,10770 5410,12662 5462,12662 5462,10770 Z"/>
         <path fill="rgb(123,155,194)" stroke="none" d="M 5440,10770 L 5388,10770 5388,12662 5440,12662 5440,10770 Z"/>
         <path fill="rgb(120,153,192)" stroke="none" d="M 5417,10770 L 5365,10770 5365,12662 5417,12662 5417,10770 Z"/>
         <path fill="rgb(118,150,189)" stroke="none" d="M 5395,10770 L 5343,10770 5343,12662 5395,12662 5395,10770 Z"/>
         <path fill="rgb(115,147,187)" stroke="none" d="M 5373,10770 L 5321,10770 5321,12662 5373,12662 5373,10770 Z"/>
         <path fill="rgb(112,145,185)" stroke="none" d="M 5351,10770 L 5298,10770 5298,12662 5351,12662 5351,10770 Z"/>
         <path fill="rgb(109,142,182)" stroke="none" d="M 5328,10770 L 5276,10770 5276,12662 5328,12662 5328,10770 Z"/>
         <path fill="rgb(106,139,180)" stroke="none" d="M 5306,10770 L 5254,10770 5254,12662 5306,12662 5306,10770 Z"/>
         <path fill="rgb(104,136,177)" stroke="none" d="M 5284,10770 L 5232,10770 5232,12662 5284,12662 5284,10770 Z"/>
         <path fill="rgb(101,134,175)" stroke="none" d="M 5261,10770 L 5209,10770 5209,12662 5261,12662 5261,10770 Z"/>
         <path fill="rgb(98,131,173)" stroke="none" d="M 5239,10770 L 5187,10770 5187,12662 5239,12662 5239,10770 Z"/>
         <path fill="rgb(95,128,170)" stroke="none" d="M 5217,10770 L 5165,10770 5165,12662 5217,12662 5217,10770 Z"/>
         <path fill="rgb(92,126,168)" stroke="none" d="M 5194,10770 L 5142,10770 5142,12662 5194,12662 5194,10770 Z"/>
         <path fill="rgb(90,123,165)" stroke="none" d="M 5172,10770 L 5120,10770 5120,12662 5172,12662 5172,10770 Z"/>
         <path fill="rgb(87,120,163)" stroke="none" d="M 5150,10770 L 5098,10770 5098,12662 5150,12662 5150,10770 Z"/>
         <path fill="rgb(84,117,161)" stroke="none" d="M 5127,10770 L 5075,10770 5075,12662 5127,12662 5127,10770 Z"/>
         <path fill="rgb(81,115,158)" stroke="none" d="M 5105,10770 L 5053,10770 5053,12662 5105,12662 5105,10770 Z"/>
         <path fill="rgb(79,112,156)" stroke="none" d="M 5083,10770 L 5031,10770 5031,12662 5083,12662 5083,10770 Z"/>
         <path fill="rgb(76,109,153)" stroke="none" d="M 5061,10770 L 5008,10770 5008,12662 5061,12662 5061,10770 Z"/>
         <path fill="rgb(73,107,151)" stroke="none" d="M 5038,10770 L 4986,10770 4986,12662 5038,12662 5038,10770 Z"/>
         <path fill="rgb(70,104,149)" stroke="none" d="M 5016,10770 L 4964,10770 4964,12662 5016,12662 5016,10770 Z"/>
         <path fill="rgb(67,101,146)" stroke="none" d="M 4994,10770 L 4942,10770 4942,12662 4994,12662 4994,10770 Z"/>
         <path fill="rgb(65,98,144)" stroke="none" d="M 4971,10770 L 4919,10770 4919,12662 4971,12662 4971,10770 Z"/>
         <path fill="rgb(62,96,141)" stroke="none" d="M 4949,10770 L 4897,10770 4897,12662 4949,12662 4949,10770 Z"/>
        </g>
        <g clip-path="url(#clip_path_13)"/>
        <defs>
         <clipPath id="clip_path_15" clipPathUnits="userSpaceOnUse">
          <path d="M 5978,10758 C 5978,10942 5501,11091 4912,11091 4323,11091 3846,10942 3846,10758 3846,10575 4323,10426 4912,10426 5501,10426 5978,10575 5978,10758 L 5978,10758 Z"/>
         </clipPath>
        </defs>
        <g clip-path="url(#clip_path_15)">
         <path fill="rgb(165,196,230)" stroke="none" d="M 5537,9882 L 5654,10108 3906,10903 3789,10677 5537,9882 Z"/>
         <path fill="rgb(165,196,230)" stroke="none" d="M 5651,10101 L 5656,10112 3909,10907 3903,10896 5651,10101 Z"/>
         <path fill="rgb(164,195,230)" stroke="none" d="M 5653,10106 L 5659,10117 3911,10912 3906,10901 5653,10106 Z"/>
         <path fill="rgb(163,195,229)" stroke="none" d="M 5656,10111 L 5661,10122 3914,10916 3908,10906 5656,10111 Z"/>
         <path fill="rgb(163,194,229)" stroke="none" d="M 5658,10115 L 5664,10126 3916,10921 3910,10910 5658,10115 Z"/>
         <path fill="rgb(162,193,228)" stroke="none" d="M 5660,10120 L 5666,10131 3919,10926 3913,10915 5660,10120 Z"/>
         <path fill="rgb(161,193,228)" stroke="none" d="M 5663,10125 L 5668,10135 3921,10930 3915,10920 5663,10125 Z"/>
         <path fill="rgb(160,192,227)" stroke="none" d="M 5665,10129 L 5671,10140 3923,10935 3918,10924 5665,10129 Z"/>
         <path fill="rgb(159,191,227)" stroke="none" d="M 5668,10134 L 5673,10145 3926,10940 3920,10929 5668,10134 Z"/>
         <path fill="rgb(158,191,226)" stroke="none" d="M 5670,10139 L 5676,10149 3928,10944 3923,10934 5670,10139 Z"/>
         <path fill="rgb(158,190,226)" stroke="none" d="M 5672,10143 L 5678,10154 3931,10949 3925,10938 5672,10143 Z"/>
         <path fill="rgb(157,190,225)" stroke="none" d="M 5675,10148 L 5680,10159 3933,10954 3927,10943 5675,10148 Z"/>
         <path fill="rgb(156,189,225)" stroke="none" d="M 5677,10153 L 5683,10163 3935,10958 3930,10947 5677,10153 Z"/>
         <path fill="rgb(155,188,225)" stroke="none" d="M 5680,10157 L 5685,10168 3938,10963 3932,10952 5680,10157 Z"/>
         <path fill="rgb(154,188,224)" stroke="none" d="M 5682,10162 L 5688,10173 3940,10968 3935,10957 5682,10162 Z"/>
         <path fill="rgb(154,187,224)" stroke="none" d="M 5685,10167 L 5690,10177 3943,10972 3937,10961 5685,10167 Z"/>
         <path fill="rgb(153,186,223)" stroke="none" d="M 5687,10171 L 5693,10182 3945,10977 3939,10966 5687,10171 Z"/>
         <path fill="rgb(152,186,223)" stroke="none" d="M 5689,10176 L 5695,10187 3948,10982 3942,10971 5689,10176 Z"/>
         <path fill="rgb(151,185,222)" stroke="none" d="M 5692,10180 L 5697,10191 3950,10986 3944,10975 5692,10180 Z"/>
         <path fill="rgb(150,184,222)" stroke="none" d="M 5694,10185 L 5700,10196 3952,10991 3947,10980 5694,10185 Z"/>
         <path fill="rgb(150,184,221)" stroke="none" d="M 5697,10190 L 5702,10201 3955,10995 3949,10985 5697,10190 Z"/>
         <path fill="rgb(149,183,221)" stroke="none" d="M 5699,10194 L 5705,10205 3957,11000 3952,10989 5699,10194 Z"/>
         <path fill="rgb(148,182,221)" stroke="none" d="M 5701,10199 L 5707,10210 3960,11005 3954,10994 5701,10199 Z"/>
         <path fill="rgb(147,182,220)" stroke="none" d="M 5704,10204 L 5709,10215 3962,11009 3956,10999 5704,10204 Z"/>
         <path fill="rgb(146,181,220)" stroke="none" d="M 5706,10208 L 5712,10219 3964,11014 3959,11003 5706,10208 Z"/>
         <path fill="rgb(145,180,219)" stroke="none" d="M 5709,10213 L 5714,10224 3967,11019 3961,11008 5709,10213 Z"/>
         <path fill="rgb(145,180,219)" stroke="none" d="M 5711,10218 L 5717,10228 3969,11023 3964,11013 5711,10218 Z"/>
         <path fill="rgb(144,179,218)" stroke="none" d="M 5714,10222 L 5719,10233 3972,11028 3966,11017 5714,10222 Z"/>
         <path fill="rgb(143,179,218)" stroke="none" d="M 5716,10227 L 5722,10238 3974,11033 3968,11022 5716,10227 Z"/>
         <path fill="rgb(142,178,217)" stroke="none" d="M 5718,10232 L 5724,10242 3977,11037 3971,11026 5718,10232 Z"/>
         <path fill="rgb(141,177,217)" stroke="none" d="M 5721,10236 L 5726,10247 3979,11042 3973,11031 5721,10236 Z"/>
         <path fill="rgb(141,177,216)" stroke="none" d="M 5723,10241 L 5729,10252 3981,11047 3976,11036 5723,10241 Z"/>
         <path fill="rgb(140,176,216)" stroke="none" d="M 5726,10246 L 5731,10256 3984,11051 3978,11040 5726,10246 Z"/>
         <path fill="rgb(139,175,216)" stroke="none" d="M 5728,10250 L 5734,10261 3986,11056 3981,11045 5728,10250 Z"/>
         <path fill="rgb(138,175,215)" stroke="none" d="M 5730,10255 L 5736,10266 3989,11061 3983,11050 5730,10255 Z"/>
         <path fill="rgb(137,174,215)" stroke="none" d="M 5733,10259 L 5738,10270 3991,11065 3985,11054 5733,10259 Z"/>
         <path fill="rgb(137,173,214)" stroke="none" d="M 5735,10264 L 5741,10275 3993,11070 3988,11059 5735,10264 Z"/>
         <path fill="rgb(136,173,214)" stroke="none" d="M 5738,10269 L 5743,10280 3996,11074 3990,11064 5738,10269 Z"/>
         <path fill="rgb(135,172,213)" stroke="none" d="M 5740,10273 L 5746,10284 3998,11079 3993,11068 5740,10273 Z"/>
         <path fill="rgb(134,171,213)" stroke="none" d="M 5743,10278 L 5748,10289 4001,11084 3995,11073 5743,10278 Z"/>
         <path fill="rgb(133,171,212)" stroke="none" d="M 5745,10283 L 5751,10294 4003,11088 3997,11078 5745,10283 Z"/>
         <path fill="rgb(132,170,212)" stroke="none" d="M 5747,10287 L 5753,10298 4006,11093 4000,11082 5747,10287 Z"/>
         <path fill="rgb(132,170,211)" stroke="none" d="M 5750,10292 L 5755,10303 4008,11098 4002,11087 5750,10292 Z"/>
         <path fill="rgb(131,169,211)" stroke="none" d="M 5752,10297 L 5758,10307 4010,11102 4005,11092 5752,10297 Z"/>
         <path fill="rgb(130,168,211)" stroke="none" d="M 5755,10301 L 5760,10312 4013,11107 4007,11096 5755,10301 Z"/>
         <path fill="rgb(129,168,210)" stroke="none" d="M 5757,10306 L 5763,10317 4015,11112 4010,11101 5757,10306 Z"/>
         <path fill="rgb(128,167,210)" stroke="none" d="M 5759,10311 L 5765,10321 4018,11116 4012,11105 5759,10311 Z"/>
         <path fill="rgb(128,166,209)" stroke="none" d="M 5762,10315 L 5768,10326 4020,11121 4014,11110 5762,10315 Z"/>
         <path fill="rgb(127,166,209)" stroke="none" d="M 5764,10320 L 5770,10331 4022,11126 4017,11115 5764,10320 Z"/>
         <path fill="rgb(126,165,208)" stroke="none" d="M 5767,10325 L 5772,10335 4025,11130 4019,11119 5767,10325 Z"/>
         <path fill="rgb(125,164,208)" stroke="none" d="M 5769,10329 L 5775,10340 4027,11135 4022,11124 5769,10329 Z"/>
         <path fill="rgb(124,164,207)" stroke="none" d="M 5772,10334 L 5777,10345 4030,11140 4024,11129 5772,10334 Z"/>
         <path fill="rgb(123,163,207)" stroke="none" d="M 5774,10338 L 5780,10349 4032,11144 4026,11133 5774,10338 Z"/>
         <path fill="rgb(123,162,207)" stroke="none" d="M 5776,10343 L 5782,10354 4035,11149 4029,11138 5776,10343 Z"/>
         <path fill="rgb(122,162,206)" stroke="none" d="M 5779,10348 L 5784,10359 4037,11154 4031,11143 5779,10348 Z"/>
         <path fill="rgb(121,161,206)" stroke="none" d="M 5781,10352 L 5787,10363 4039,11158 4034,11147 5781,10352 Z"/>
         <path fill="rgb(120,160,205)" stroke="none" d="M 5784,10357 L 5789,10368 4042,11163 4036,11152 5784,10357 Z"/>
         <path fill="rgb(119,160,205)" stroke="none" d="M 5786,10362 L 5792,10373 4044,11167 4039,11157 5786,10362 Z"/>
         <path fill="rgb(119,159,204)" stroke="none" d="M 5788,10366 L 5794,10377 4047,11172 4041,11161 5788,10366 Z"/>
         <path fill="rgb(118,159,204)" stroke="none" d="M 5791,10371 L 5797,10382 4049,11177 4043,11166 5791,10371 Z"/>
         <path fill="rgb(117,158,203)" stroke="none" d="M 5793,10376 L 5799,10387 4051,11181 4046,11171 5793,10376 Z"/>
         <path fill="rgb(116,157,203)" stroke="none" d="M 5796,10380 L 5801,10391 4054,11186 4048,11175 5796,10380 Z"/>
         <path fill="rgb(115,157,202)" stroke="none" d="M 5798,10385 L 5804,10396 4056,11191 4051,11180 5798,10385 Z"/>
         <path fill="rgb(115,156,202)" stroke="none" d="M 5801,10390 L 5806,10400 4059,11195 4053,11185 5801,10390 Z"/>
         <path fill="rgb(114,155,202)" stroke="none" d="M 5803,10394 L 5809,10405 4061,11200 4055,11189 5803,10394 Z"/>
         <path fill="rgb(113,155,201)" stroke="none" d="M 5805,10399 L 5811,10410 4064,11205 4058,11194 5805,10399 Z"/>
         <path fill="rgb(112,154,201)" stroke="none" d="M 5808,10404 L 5813,10414 4066,11209 4060,11198 5808,10404 Z"/>
         <path fill="rgb(111,153,200)" stroke="none" d="M 5810,10408 L 5816,10419 4068,11214 4063,11203 5810,10408 Z"/>
         <path fill="rgb(110,153,200)" stroke="none" d="M 5813,10413 L 5818,10424 4071,11219 4065,11208 5813,10413 Z"/>
         <path fill="rgb(110,152,199)" stroke="none" d="M 5815,10418 L 5821,10428 4073,11223 4068,11212 5815,10418 Z"/>
         <path fill="rgb(109,151,199)" stroke="none" d="M 5817,10422 L 5823,10433 4076,11228 4070,11217 5817,10422 Z"/>
         <path fill="rgb(108,151,198)" stroke="none" d="M 5820,10427 L 5826,10438 4078,11233 4072,11222 5820,10427 Z"/>
         <path fill="rgb(107,150,198)" stroke="none" d="M 5822,10431 L 5828,10442 4080,11237 4075,11226 5822,10431 Z"/>
         <path fill="rgb(106,149,198)" stroke="none" d="M 5825,10436 L 5830,10447 4083,11242 4077,11231 5825,10436 Z"/>
         <path fill="rgb(106,149,197)" stroke="none" d="M 5827,10441 L 5833,10452 4085,11246 4080,11236 5827,10441 Z"/>
         <path fill="rgb(105,148,197)" stroke="none" d="M 5830,10445 L 5835,10456 4088,11251 4082,11240 5830,10445 Z"/>
         <path fill="rgb(104,148,196)" stroke="none" d="M 5832,10450 L 5838,10461 4090,11256 4084,11245 5832,10450 Z"/>
         <path fill="rgb(103,147,196)" stroke="none" d="M 5834,10455 L 5840,10466 4093,11260 4087,11250 5834,10455 Z"/>
         <path fill="rgb(102,146,195)" stroke="none" d="M 5837,10459 L 5842,10470 4095,11265 4089,11254 5837,10459 Z"/>
         <path fill="rgb(101,146,195)" stroke="none" d="M 5839,10464 L 5845,10475 4097,11270 4092,11259 5839,10464 Z"/>
         <path fill="rgb(101,145,194)" stroke="none" d="M 5842,10469 L 5847,10479 4100,11274 4094,11264 5842,10469 Z"/>
         <path fill="rgb(100,144,194)" stroke="none" d="M 5844,10473 L 5850,10484 4102,11279 4097,11268 5844,10473 Z"/>
         <path fill="rgb(99,144,193)" stroke="none" d="M 5846,10478 L 5852,10489 4105,11284 4099,11273 5846,10478 Z"/>
         <path fill="rgb(98,143,193)" stroke="none" d="M 5849,10483 L 5855,10493 4107,11288 4101,11277 5849,10483 Z"/>
         <path fill="rgb(97,142,193)" stroke="none" d="M 5851,10487 L 5857,10498 4109,11293 4104,11282 5851,10487 Z"/>
         <path fill="rgb(97,142,192)" stroke="none" d="M 5854,10492 L 5859,10503 4112,11298 4106,11287 5854,10492 Z"/>
         <path fill="rgb(96,141,192)" stroke="none" d="M 5856,10497 L 5862,10507 4114,11302 4109,11291 5856,10497 Z"/>
         <path fill="rgb(95,140,191)" stroke="none" d="M 5859,10501 L 5864,10512 4117,11307 4111,11296 5859,10501 Z"/>
         <path fill="rgb(94,140,191)" stroke="none" d="M 5861,10506 L 5867,10517 4119,11312 4113,11301 5861,10506 Z"/>
         <path fill="rgb(93,139,190)" stroke="none" d="M 5863,10510 L 5869,10521 4122,11316 4116,11305 5863,10510 Z"/>
         <path fill="rgb(93,139,190)" stroke="none" d="M 5866,10515 L 5871,10526 4124,11321 4118,11310 5866,10515 Z"/>
         <path fill="rgb(92,138,189)" stroke="none" d="M 5868,10520 L 5874,10531 4126,11325 4121,11315 5868,10520 Z"/>
         <path fill="rgb(91,137,189)" stroke="none" d="M 5871,10524 L 5876,10535 4129,11330 4123,11319 5871,10524 Z"/>
         <path fill="rgb(90,137,188)" stroke="none" d="M 5873,10529 L 5879,10540 4131,11335 4126,11324 5873,10529 Z"/>
         <path fill="rgb(89,136,188)" stroke="none" d="M 5875,10534 L 5881,10545 4134,11339 4128,11329 5875,10534 Z"/>
         <path fill="rgb(88,135,188)" stroke="none" d="M 5878,10538 L 5884,10549 4136,11344 4130,11333 5878,10538 Z"/>
         <path fill="rgb(88,135,187)" stroke="none" d="M 5880,10543 L 5886,10554 4138,11349 4133,11338 5880,10543 Z"/>
         <path fill="rgb(87,134,187)" stroke="none" d="M 5883,10548 L 5888,10558 4141,11353 4135,11343 5883,10548 Z"/>
         <path fill="rgb(86,133,186)" stroke="none" d="M 5885,10552 L 5891,10563 4143,11358 4138,11347 5885,10552 Z"/>
         <path fill="rgb(85,133,186)" stroke="none" d="M 5888,10557 L 5893,10568 4146,11363 4140,11352 5888,10557 Z"/>
         <path fill="rgb(84,132,185)" stroke="none" d="M 5890,10562 L 5896,10572 4148,11367 4142,11357 5890,10562 Z"/>
         <path fill="rgb(84,131,185)" stroke="none" d="M 5892,10566 L 5898,10577 4151,11372 4145,11361 5892,10566 Z"/>
         <path fill="rgb(83,131,184)" stroke="none" d="M 5895,10571 L 5900,10582 4153,11377 4147,11366 5895,10571 Z"/>
         <path fill="rgb(82,130,184)" stroke="none" d="M 5897,10576 L 5903,10586 4155,11381 4150,11370 5897,10576 Z"/>
         <path fill="rgb(81,129,184)" stroke="none" d="M 5900,10580 L 5905,10591 4158,11386 4152,11375 5900,10580 Z"/>
         <path fill="rgb(80,129,183)" stroke="none" d="M 5902,10585 L 5908,10596 4160,11391 4155,11380 5902,10585 Z"/>
         <path fill="rgb(80,128,183)" stroke="none" d="M 5904,10590 L 5910,10600 4163,11395 4157,11384 5904,10590 Z"/>
         <path fill="rgb(79,128,182)" stroke="none" d="M 5907,10594 L 5913,10605 4165,11400 4159,11389 5907,10594 Z"/>
         <path fill="rgb(78,127,182)" stroke="none" d="M 5909,10599 L 5915,10610 4167,11405 4162,11394 5909,10599 Z"/>
         <path fill="rgb(77,126,181)" stroke="none" d="M 5912,10603 L 5917,10614 4170,11409 4164,11398 5912,10603 Z"/>
         <path fill="rgb(76,126,181)" stroke="none" d="M 5914,10608 L 5920,10619 4172,11414 4167,11403 5914,10608 Z"/>
         <path fill="rgb(75,125,180)" stroke="none" d="M 5917,10613 L 5922,10624 4175,11418 4169,11408 5917,10613 Z"/>
         <path fill="rgb(75,124,180)" stroke="none" d="M 5919,10617 L 5925,10628 4177,11423 4171,11412 5919,10617 Z"/>
         <path fill="rgb(74,124,179)" stroke="none" d="M 5921,10622 L 5927,10633 4180,11428 4174,11417 5921,10622 Z"/>
         <path fill="rgb(73,123,179)" stroke="none" d="M 5924,10627 L 6034,10839 4287,11634 4176,11422 5924,10627 Z"/>
        </g>
        <g clip-path="url(#clip_path_13)">
         <path fill="rgb(59,93,139)" stroke="none" d="M 3845,11863 C 3853,12045 4328,12191 4912,12191 5494,12191 5967,12046 5977,11865 5791,12014 5384,12117 4912,12117 4439,12117 4031,12013 3845,11863 L 3845,11863 Z"/>
        </g>
        <defs>
         <clipPath id="clip_path_16" clipPathUnits="userSpaceOnUse">
          <path d="M 3845,10763 C 3853,10944 4328,11090 4912,11090 5494,11090 5967,10945 5977,10764 5966,10773 5954,10782 5940,10791 5940,10792 5939,10792 5939,10793 5814,10933 5403,11036 4912,11036 4418,11036 4003,10931 3882,10789 3881,10789 3880,10787 3879,10786 3867,10778 3855,10771 3845,10763 L 3845,10763 Z"/>
         </clipPath>
        </defs>
        <g clip-path="url(#clip_path_16)">
         <image x="3817" y="10413" width="3237" height="814" preserveAspectRatio="none" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHwAAAAfCAYAAAAlfqlKAAAE7klEQVR4nO1ay25TMRCdpmmhUKBQHgXxCBISYgkb2CAeP4DgA/gpPoAtf8CCDTuQWFBYIAQCCRa8JQLl1ZY0+OCxOpk6nuvcJCTljjSJJ2P73utjj+f4pt5ut6mSTSsX+XvB6S0U6v/sViopK9f5+6zTKaennc45nXY643SfqLtIFeAjK8DknNNJp2ecbnW60+lRp9ud1rjeIdFmgvwqDtJSfTZk55UMTwDWCS4fdzpLHkSsyr1Ot4i6B8kDGWRW2Wu0Dn6bdUL4pH+OtVkB3j/BYM9xGSF1m9Md5FcqfPPUucAQcqeEPan6a6n62v5NfqJIe0rVrwm74XSxAryYYOVhhWHVIMQCQAxwjcsTXdrAH1Yf6msANUApgLW9pq4X60/aDaoA/ysIqSed/iQfVmv82zf+LQwsyk3Rzho7DUgMoJSNCbLF8Of018DHZgccwJ3nMvZMDMJu8jMfAC6JuqtOPwobK/m7sHPHatWwLcC037Kt9sfwMc6AY3+8yuULTn843UV+/8TKwAB8EPVhvxc29lgJuNzvIHps9B6LMJ46xCi7wi07t78GPkYVcCQ0V8gnJdfI3+d+/gZQYc98R52D/kaUNUDarrGuCb8EUU+AmvJbJ1a5ITg3RI9NSEdIvczlS+TD7mHyq/IIrWeeGOAF1RYrVj7opLLrEX/LsNeUbfWnB7qb6Hp6RZYFODfEN/DRb8BPkacfOCgAiDN8IVwHgB6gzowWgMqVJLNKDFBb1bcAiIVlC/BVZaf607a+P+1LceOYP6c+RfwtWo9kUS6eAzgaAMg95PdKCE57sELr3DmyXAma5JqBmmhQ5SBaVARtfwlbh2nUXSnpX07U13Y3sINYz6v9FpeO1ZdcHP3LZ9rAxcNg1rliODAgtmdpnX9C5tUFpqlzH7S4oLZj3DRlW4mUZfe7vZW4FXlea3xS/tg2keTiuPghiksIfbLT2OlOiiuWTTx0/7mA9RvgWEhPyaAz9ezEzQrpuR3m3lDuAFjUadAAjz0Xzz0tKjsBys5QK4mybGtC5E6gsePiIdnSAxOk39Qidwbr+uHcOgyy5s4xgDS31rbMQXT/w+biQwnpOpPLuUAv58Op9taEgmjqZHFn2Cnqpbm4rj9KXNwaT9x3k/ykfEGeUdxg3yLx61GdyekbTHHDluEvwj2t/nK5eMxvAa790h42F9f+YKMOKCMOn5rsv8ffD52+7HIPHaIHJyax13IpbqgjhsUli/Qnrw+WkOLiGhCLaxdJ5AbNxfFMLdbn5M87nrHvsdOvxjUKS9jDUxILQykuaXHBXrhpDhcftt9K3DA5prkOyngjhxc9eK7X1Dl5By5FVnjsNEfKoBMPzcUHzb1zqBrKYRsK28AKt8GbONz7Gxoh0WfNMYklBin/oLl4LnfuFfCwcldYUf7M5SZtHIexkCKAj9ppkd4zez2MQb8AD2EVe/or/v0p+ZC7KSXs4Tlc/F9zSYuLo79lVrwv/+L0AfvuU+fflP47CbO/DBcv+17X4qbSRhjF3oh98S15UG+TX5F3nH6iSpIiAS/KxcNv3d7Dtqk3Lr7KvyOLfUI+UbzLdW7SkLPZzSoB8FwunvseFsnODvLhFKsRBwZLXL6de9OV9C4BxFwurm38pRcAYyLgn54PuM6jsjdYSX/FWuHhSA+rESsUeyYARUZb7ZdjKH8AMtEJU2syhtsAAAAASUVORK5CYII="/>
        </g>
        <g clip-path="url(#clip_path_13)">
         <path fill="rgb(59,93,139)" stroke="none" d="M 3845,11331 C 3853,11512 4328,11658 4912,11658 5494,11658 5967,11513 5977,11332 5791,11481 5384,11584 4912,11584 4439,11584 4031,11480 3845,11331 L 3845,11331 Z"/>
        </g>
        <defs>
         <clipPath id="clip_path_17" clipPathUnits="userSpaceOnUse">
          <path d="M 3845,11331 C 3853,11512 4328,11658 4912,11658 5494,11658 5967,11513 5977,11332 5975,11335 5972,11337 5969,11339 5902,11502 5454,11628 4912,11628 4365,11628 3912,11501 3851,11336 3849,11334 3847,11333 3845,11331 L 3845,11331 Z"/>
         </clipPath>
        </defs>
        <g clip-path="url(#clip_path_17)">
         <image x="3817" y="10982" width="3237" height="813" preserveAspectRatio="none" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHwAAAAgCAYAAADQUhwyAAAE7UlEQVR4nO1ayW4TQRCtODYJe8IadgMCxAWx3UBCHPhLuHPmAAc+AI5BIC6RQOIAYZEI+2Ic04+uliuVdtd0ZpzYYZ5U9tRUT3um31RNvx43e70e1diUmHF2kbfnnN3FRnODTqZGOex1dsvZDmfXnHWcXXfWcraNv/eL9vNUEz6yAFHnyJN5ifcdYNvtbJn3HRbHTHAsoKv6bIeNmvD1xSx5QiedHSdP6gx5wuZ4f8Ah3h+AtsvCx3aDt3tsEyIm4zNsSzXh1QGldIr8IE+xP8MxEIEyLMcbxLeErydTXdVe+3+cbVF+S7VvCL/tbL4mvBhA3lbyWbOV92FAJ4RpgPRAIr5BiCZQE5QiWPsy2wf1J/021YT/w0FnR8gTMsv7UD6/OPtOfdJ+OFsSx8nyG4MmJEZQysf5TBnxnP7a+NjshJ91dor8wB0jP5vdRz4jsf1RtIX/XvjTzr4JP3esOoZvEabjlm8dfwIf40w4CLxJfnZ62dlX8tkKMkEwBuCdaA//rfB1GdZjoX2d0Tg+tYhRNsMtP7e/Nj5GlfAr5CUJSL3B+06TL6vbRbtFWjnor8U2CJKkaMIabGHgJlT7RqS9jFsrVrklOLdEj01Jv+DsDPmJ0FVnu8iTCaD8hszDAM+pY5Gx8kInld804vC7ypeZguM7yk/1l4JupzOyLMG5Jb6Nj6oJP09efoDEo+QnPyc5hmciFg9kKQWhOpMCMEBSWwIWAUXimvBOwo9luYQ+Px1LaeNYPKc9ReJd6leyqBbPIRyTHWTlHuqv6mC1ByW2yZ2jjZQCUmsirrWiPCEiW4rg2J/Cj5VpSsRzffz274Q/iOwA63p13NLSsfZSi6N/eQ2rtHgYzBYHQN4078OBO6mvO4G96ge20MrnoKUFtR/Tpinfmkitd9yauBW5Xmt8UvHYYyKpxfHjhykONNYXE1vdSWnFshMP3X8uIVb7IhkuESvpKQx7pp49cbNKem6HuSeUOwB6wC1CqijpKd/CyGlx6wLKziyrvkOtSZR1A+RWCOsGGjstHiZbg2bKZe+wslJDt9daWWvtGEE6rn1Li8v4sLX4upR0PZNLHWDdsbklJrc/IKatU9Ispq21FEtp8YaKb6QWt8bzF/n1fiwJY1Xxk7PbHHvs7GcgvEVxWNqwq+I9FS+iPVP9VaXFU1rb8nV/w9biOh78IGsXeD+Wkp/yud4b8PuroC8mhthruZQ21BXD0pJF+pO/D5Wwnlo8Ng8YhhZf5n4X2H/J8cdUvKKYCM/wFGJlKKUlLS24Fm26kVpcV79cLY4yi5sU14lrecXbGNcXZI9/pSiS4bHVHIlhTzy0Fs+VUlVnuPTD4yQQCCBLcRN8phGEXluOoayW1O3LSouyUqqoH56beEMHEnGdIBEZ+4HGFEUIHzUtrp+ZltaOZXyYDOIfLXilCiIXef88bWKEZ3hKi1sZOezVuFwtjoxEFkKSLJH/F8sT7uch/ecId39Kiw97scW6gaQPKYLy+ow8qdCaj5y9cXafapiQhA/S4rnvYbUWj/kx7dnh/cjI5+T/RAidCYLvZF9ZjSgC4UVm6mt9D4tv/FkQr1qXyD83kZXhX6EP1nDeNdaIQLilBQe9hw3Pzq/Uz1xMfr7zvoXKzrRGJUhlOMgMWfqNt/GNZyeIHEmdWSONQHj4j3ZYr7WkWo0xxV8eFBJc/F3eAQAAAABJRU5ErkJggg=="/>
        </g>
        <g clip-path="url(#clip_path_13)"/>
        <defs>
         <clipPath id="clip_path_18" clipPathUnits="userSpaceOnUse">
          <path d="M 3845,11863 C 3853,12045 4328,12191 4912,12191 5494,12191 5967,12046 5977,11865 5975,11867 5972,11869 5969,11871 5902,12035 5454,12161 4912,12161 4365,12161 3912,12034 3851,11868 3849,11867 3847,11865 3845,11863 L 3845,11863 Z"/>
         </clipPath>
        </defs>
        <g clip-path="url(#clip_path_18)">
         <image x="3817" y="11514" width="3237" height="814" preserveAspectRatio="none" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHwAAAAgCAYAAADQUhwyAAAE9UlEQVR4nO1aS28TMRCepml5FSgUECAeqQAhLkggJLgguHGGH8Cf4sydf8AB7iBxoICEEAgEHBBPESjPljT4w2N1MjiedTYJSdmRJvFkvF6vP489nzf1drtNlaxZOc/fu51eQ6H+z7pSSVm5zN+nnU45PeF01um00w1Od4q6C1QBPrICTM44nXR60ul6p1ucHnC6yWmN6+0V10yQj+IgLdVmQzZeyfAEYB3m8rzTGfIgIip3OF0n6u4hD2SQGWWv0Cr4bdYJ4ZP+WdZmBXj/BIM9y2UsqRudbiYfqfDNUWeAYcmdEvakaq+l6mv7F/mJIu0pVb8m7IbThQrwYoLIQ4QharDEAkAMcI3LE12ugT9EH+prADVAKYC1vaLuF2tP2g2qAP8jWFKPOv1Oflmt8W9f+LcwsCg3xXXW2GlAYgClbEyQdYY/p70GPtY64ADuLJexZ2IQtpGf+QBwUdRddvpO2Ijkr8LOHatlw7YA037Ltq4/iI9xBhz740Uun3P6zelW8vsnIgMD8FbUh/1G2NhjJeByv4PosdF7LJbx1CFG2Qi37Nz2GvgYVcD3O71APim5RL6fu/gbQIU98zV1DvorUdYAabvGuiL8EkQ9AWrKb51Y5S7BuUv02Czpx50eIQ/cKfIc85DoVAAGA7xbXYuIlQ86qex6xN8y7BVlW+3pge4mup6OyLIA5y7xDXz0G/Bj5OkHQNxHPrOdZx/2RESpzGgBqIwkWcYAtVV9C4DYsmwBvqzsVHva1v3TvhQ3jvlz6lPE36LVgIly8RzAcQGA3E5+r4TgtAeJUZ0bR5YrqYDkmvBrrig7RGRTEVz7Q9h6mUbdpZL+n4n62u4GdhDrebXf4tKx+pKLo335TH9x8TCYda4YDgyI7Rla5Z+QOXWDaercBy0uqO0YN03ZViJl2f2+3krcijyvNT4pf2ybSHJx3HwvxSUsfbLR2OlOiiuWTTx0+7mA9Rvg2JKekkFn6tmJm7Wk5zaY26HcAbCo06ABHnsunntaVHYClJ2hVhJl2daEyJ1AY8fFQ7KlByZIv6lF7gzW9cO5dRhkzZ1jAGlurW2Zg+j2h83Fh7Kk60wu5wa9nA+nrrcmFERTJ4s7w05RL83Fdf1R4uLWeKLfTfKT8il5RnGFfQvEr0d1Jqc7mOKGLcNfhHta7eVy8ZjfAlz7pT1sLq79wUYdUEYcPjXZf4u/7zp91qUPHaIHJyax13IpbqhXDItLFmlP3h8sIcXFNSAW1y6SyA2ai+OZWqxPyJ93PGbffaefjXsUlrCHpyS2DKW4pMUFe+GmOVx82H4rccPkmOY6KOONHF704LleUufkHbgUifDYaY6UQScemosPmnvnUDWUwzYUtoElvgZv4tD3VzRCos+aYxJLDFL+QXPxXO7cK+AhcpdYUf7I5Sb9PQ5jIUUAH7XTIr1n9noYg3YBHpZV7Okv+PdH5JfcNSlhD8/h4v+aS1pcHO39ZMX78k9O77DvNnX+Tem/kzD7y3Dxsu91LW4qbfzPDFH53OkHtm+Sj8gbTt9TJUmRgBfl4uG3bu9h29QbF1/m35HFPiSf9DwgD/DV7CerJCoB8FwunvseFsnOZvLLKaIRBwaLXL6e2+lKepcAYi4X1zaWVgCMiYB/et7hOvfKdrCS/ooV4eFID9GICEUiBECR0Vb75RhKABz7J5ZduZ9WsgblNwN+DzRmR77wAAAAAElFTkSuQmCC"/>
        </g>
        <g clip-path="url(#clip_path_13)">
         <path fill="rgb(59,93,139)" stroke="none" d="M 4912,12705 C 5454,12705 5901,12579 5969,12416 5778,12561 5377,12661 4912,12661 4444,12661 4040,12559 3851,12412 3912,12578 4364,12705 4912,12705 Z"/>
        </g>
       </g>
      </g>
      <g class="com.sun.star.drawing.CustomShape">
       <g id="id13">
        <rect class="BoundingBox" stroke="none" fill="none" x="1948" y="8332" width="9235" height="5116"/>
        <path fill="rgb(255,0,0)" stroke="none" d="M 11073,8362 L 11073,8362 C 11069,8353 11062,8346 11054,8341 11046,8336 11037,8333 11027,8333 11018,8333 11008,8335 11000,8339 L 1978,13152 1978,13153 C 1969,13157 1962,13164 1957,13172 1952,13180 1949,13189 1949,13199 1949,13208 1951,13218 1955,13226 L 2057,13416 2057,13417 C 2062,13426 2069,13433 2077,13438 2085,13443 2094,13445 2103,13446 2113,13446 2122,13444 2131,13439 L 11153,8626 11153,8626 11153,8626 C 11161,8622 11168,8615 11173,8607 11178,8599 11181,8590 11181,8580 11182,8571 11180,8561 11175,8553 L 11073,8362 Z"/>
        <path fill="none" stroke="rgb(255,0,0)" d="M 11073,8362 L 11073,8362 C 11069,8353 11062,8346 11054,8341 11046,8336 11037,8333 11027,8333 11018,8333 11008,8335 11000,8339 L 1978,13152 1978,13153 C 1969,13157 1962,13164 1957,13172 1952,13180 1949,13189 1949,13199 1949,13208 1951,13218 1955,13226 L 2057,13416 2057,13417 C 2062,13426 2069,13433 2077,13438 2085,13443 2094,13445 2103,13446 2113,13446 2122,13444 2131,13439 L 11153,8626 11153,8626 11153,8626 C 11161,8622 11168,8615 11173,8607 11178,8599 11181,8590 11181,8580 11182,8571 11180,8561 11175,8553 L 11073,8362 Z"/>
       </g>
      </g>
     </g>
    </g>
   </g>
  </g>
 </g>
 <script type="text/ecmascript"><![CDATA[


(function(window, document, exportName, undefined) {
'use strict';

var VENDOR_PREFIXES = ['', 'webkit', 'Moz', 'MS', 'ms', 'o'];
var TEST_ELEMENT = document.createElement('div');

var TYPE_FUNCTION = 'function';

var round = Math.round;
var abs = Math.abs;
var now = Date.now;

function setTimeoutContext(fn, timeout, context) {
return setTimeout(bindFn(fn, context), timeout);
}

function invokeArrayArg(arg, fn, context) {
if (Array.isArray(arg)) {
each(arg, context[fn], context);
return true;
}
return false;
}

function each(obj, iterator, context) {
var i;

if (!obj) {
return;
}

if (obj.forEach) {
obj.forEach(iterator, context);
} else if (obj.length !== undefined) {
i = 0;
while (i < obj.length) {
iterator.call(context, obj[i], i, obj);
i++;
}
} else {
for (i in obj) {
obj.hasOwnProperty(i) && iterator.call(context, obj[i], i, obj);
}
}
}

function deprecate(method, name, message) {
var deprecationMessage = 'DEPRECATED METHOD: ' + name + '\n' + message + ' AT \n';
return function() {
var e = new Error('get-stack-trace');
var stack = e && e.stack ? e.stack.replace(/^[^\(]+?[\n$]/gm, '')
.replace(/^\s+at\s+/gm, '')
.replace(/^Object.<anonymous>\s*\(/gm, '{anonymous}()@') : 'Unknown Stack Trace';

var log = window.console && (window.console.warn || window.console.log);
if (log) {
log.call(window.console, deprecationMessage, stack);
}
return method.apply(this, arguments);
};
}

var assign;
if (typeof Object.assign !== 'function') {
assign = function assign(target) {
if (target === undefined || target === null) {
throw new TypeError('Cannot convert undefined or null to object');
}

var output = Object(target);
for (var index = 1; index < arguments.length; index++) {
var source = arguments[index];
if (source !== undefined && source !== null) {
for (var nextKey in source) {
if (source.hasOwnProperty(nextKey)) {
output[nextKey] = source[nextKey];
}
}
}
}
return output;
};
} else {
assign = Object.assign;
}

var extend = deprecate(function extend(dest, src, merge) {
var keys = Object.keys(src);
var i = 0;
while (i < keys.length) {
if (!merge || (merge && dest[keys[i]] === undefined)) {
dest[keys[i]] = src[keys[i]];
}
i++;
}
return dest;
}, 'extend', 'Use `assign`.');

var merge = deprecate(function merge(dest, src) {
return extend(dest, src, true);
}, 'merge', 'Use `assign`.');

function inherit(child, base, properties) {
var baseP = base.prototype,
childP;

childP = child.prototype = Object.create(baseP);
childP.constructor = child;
childP._super = baseP;

if (properties) {
assign(childP, properties);
}
}

function bindFn(fn, context) {
return function boundFn() {
return fn.apply(context, arguments);
};
}

function boolOrFn(val, args) {
if (typeof val == TYPE_FUNCTION) {
return val.apply(args ? args[0] || undefined : undefined, args);
}
return val;
}

function ifUndefined(val1, val2) {
return (val1 === undefined) ? val2 : val1;
}

function addEventListeners(target, types, handler) {
each(splitStr(types), function(type) {
target.addEventListener(type, handler, false);
});
}

function removeEventListeners(target, types, handler) {
each(splitStr(types), function(type) {
target.removeEventListener(type, handler, false);
});
}

function hasParent(node, parent) {
while (node) {
if (node == parent) {
return true;
}
node = node.parentNode;
}
return false;
}

function inStr(str, find) {
return str.indexOf(find) > -1;
}

function splitStr(str) {
return str.trim().split(/\s+/g);
}

function inArray(src, find, findByKey) {
if (src.indexOf && !findByKey) {
return src.indexOf(find);
} else {
var i = 0;
while (i < src.length) {
if ((findByKey && src[i][findByKey] == find) || (!findByKey && src[i] === find)) {
return i;
}
i++;
}
return -1;
}
}

function toArray(obj) {
return Array.prototype.slice.call(obj, 0);
}

function uniqueArray(src, key, sort) {
var results = [];
var values = [];
var i = 0;

while (i < src.length) {
var val = key ? src[i][key] : src[i];
if (inArray(values, val) < 0) {
results.push(src[i]);
}
values[i] = val;
i++;
}

if (sort) {
if (!key) {
results = results.sort();
} else {
results = results.sort(function sortUniqueArray(a, b) {
return a[key] > b[key];
});
}
}

return results;
}

function prefixed(obj, property) {
if (obj === undefined) {
return undefined;
}

var prefix, prop;
var camelProp = property[0].toUpperCase() + property.slice(1);

var i = 0;
while (i < VENDOR_PREFIXES.length) {
prefix = VENDOR_PREFIXES[i];
prop = (prefix) ? prefix + camelProp : property;

if (prop in obj) {
return prop;
}
i++;
}
return undefined;
}

var _uniqueId = 1;
function uniqueId() {
return _uniqueId++;
}

function getWindowForElement(element) {
var doc = element.ownerDocument || element;
return (doc.defaultView || doc.parentWindow || window);
}

var MOBILE_REGEX = /mobile|tablet|ip(ad|hone|od)|android/i;

var SUPPORT_TOUCH = ('ontouchstart' in window);
var SUPPORT_POINTER_EVENTS = prefixed(window, 'PointerEvent') !== undefined;
var SUPPORT_ONLY_TOUCH = SUPPORT_TOUCH && MOBILE_REGEX.test(navigator.userAgent);

var INPUT_TYPE_TOUCH = 'touch';
var INPUT_TYPE_PEN = 'pen';
var INPUT_TYPE_MOUSE = 'mouse';
var INPUT_TYPE_KINECT = 'kinect';

var COMPUTE_INTERVAL = 25;

var INPUT_START = 1;
var INPUT_MOVE = 2;
var INPUT_END = 4;
var INPUT_CANCEL = 8;

var DIRECTION_NONE = 1;
var DIRECTION_LEFT = 2;
var DIRECTION_RIGHT = 4;
var DIRECTION_UP = 8;
var DIRECTION_DOWN = 16;

var DIRECTION_HORIZONTAL = DIRECTION_LEFT | DIRECTION_RIGHT;
var DIRECTION_VERTICAL = DIRECTION_UP | DIRECTION_DOWN;
var DIRECTION_ALL = DIRECTION_HORIZONTAL | DIRECTION_VERTICAL;

var PROPS_XY = ['x', 'y'];
var PROPS_CLIENT_XY = ['clientX', 'clientY'];

function Input(manager, callback) {
var self = this;
this.manager = manager;
this.callback = callback;
this.element = manager.element;
this.target = manager.options.inputTarget;

this.domHandler = function(ev) {
if (boolOrFn(manager.options.enable, [manager])) {
self.handler(ev);
}
};

this.init();

}

Input.prototype = {
handler: function() { },

init: function() {
this.evEl && addEventListeners(this.element, this.evEl, this.domHandler);
this.evTarget && addEventListeners(this.target, this.evTarget, this.domHandler);
this.evWin && addEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);
},

destroy: function() {
this.evEl && removeEventListeners(this.element, this.evEl, this.domHandler);
this.evTarget && removeEventListeners(this.target, this.evTarget, this.domHandler);
this.evWin && removeEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);
}
};

function createInputInstance(manager) {
var Type;
var inputClass = manager.options.inputClass;

if (inputClass) {
Type = inputClass;
} else if (SUPPORT_POINTER_EVENTS) {
Type = PointerEventInput;
} else if (SUPPORT_ONLY_TOUCH) {
Type = TouchInput;
} else if (!SUPPORT_TOUCH) {
Type = MouseInput;
} else {
Type = TouchMouseInput;
}
return new (Type)(manager, inputHandler);
}

function inputHandler(manager, eventType, input) {
var pointersLen = input.pointers.length;
var changedPointersLen = input.changedPointers.length;
var isFirst = (eventType & INPUT_START && (pointersLen - changedPointersLen === 0));
var isFinal = (eventType & (INPUT_END | INPUT_CANCEL) && (pointersLen - changedPointersLen === 0));

input.isFirst = !!isFirst;
input.isFinal = !!isFinal;

if (isFirst) {
manager.session = {};
}

input.eventType = eventType;

computeInputData(manager, input);

manager.emit('hammer.input', input);

manager.recognize(input);
manager.session.prevInput = input;
}

function computeInputData(manager, input) {
var session = manager.session;
var pointers = input.pointers;
var pointersLength = pointers.length;

if (!session.firstInput) {
session.firstInput = simpleCloneInputData(input);
}

if (pointersLength > 1 && !session.firstMultiple) {
session.firstMultiple = simpleCloneInputData(input);
} else if (pointersLength === 1) {
session.firstMultiple = false;
}

var firstInput = session.firstInput;
var firstMultiple = session.firstMultiple;
var offsetCenter = firstMultiple ? firstMultiple.center : firstInput.center;

var center = input.center = getCenter(pointers);
input.timeStamp = now();
input.deltaTime = input.timeStamp - firstInput.timeStamp;

input.angle = getAngle(offsetCenter, center);
input.distance = getDistance(offsetCenter, center);

computeDeltaXY(session, input);
input.offsetDirection = getDirection(input.deltaX, input.deltaY);

var overallVelocity = getVelocity(input.deltaTime, input.deltaX, input.deltaY);
input.overallVelocityX = overallVelocity.x;
input.overallVelocityY = overallVelocity.y;
input.overallVelocity = (abs(overallVelocity.x) > abs(overallVelocity.y)) ? overallVelocity.x : overallVelocity.y;

input.scale = firstMultiple ? getScale(firstMultiple.pointers, pointers) : 1;
input.rotation = firstMultiple ? getRotation(firstMultiple.pointers, pointers) : 0;

input.maxPointers = !session.prevInput ? input.pointers.length : ((input.pointers.length >
session.prevInput.maxPointers) ? input.pointers.length : session.prevInput.maxPointers);

computeIntervalInputData(session, input);

var target = manager.element;
if (hasParent(input.srcEvent.target, target)) {
target = input.srcEvent.target;
}
input.target = target;
}

function computeDeltaXY(session, input) {
var center = input.center;
var offset = session.offsetDelta || {};
var prevDelta = session.prevDelta || {};
var prevInput = session.prevInput || {};

if (input.eventType === INPUT_START || prevInput.eventType === INPUT_END) {
prevDelta = session.prevDelta = {
x: prevInput.deltaX || 0,
y: prevInput.deltaY || 0
};

offset = session.offsetDelta = {
x: center.x,
y: center.y
};
}

input.deltaX = prevDelta.x + (center.x - offset.x);
input.deltaY = prevDelta.y + (center.y - offset.y);
}

function computeIntervalInputData(session, input) {
var last = session.lastInterval || input,
deltaTime = input.timeStamp - last.timeStamp,
velocity, velocityX, velocityY, direction;

if (input.eventType != INPUT_CANCEL && (deltaTime > COMPUTE_INTERVAL || last.velocity === undefined)) {
var deltaX = input.deltaX - last.deltaX;
var deltaY = input.deltaY - last.deltaY;

var v = getVelocity(deltaTime, deltaX, deltaY);
velocityX = v.x;
velocityY = v.y;
velocity = (abs(v.x) > abs(v.y)) ? v.x : v.y;
direction = getDirection(deltaX, deltaY);

session.lastInterval = input;
} else {
velocity = last.velocity;
velocityX = last.velocityX;
velocityY = last.velocityY;
direction = last.direction;
}

input.velocity = velocity;
input.velocityX = velocityX;
input.velocityY = velocityY;
input.direction = direction;
}

function simpleCloneInputData(input) {
var pointers = [];
var i = 0;
while (i < input.pointers.length) {
pointers[i] = {
clientX: round(input.pointers[i].clientX),
clientY: round(input.pointers[i].clientY)
};
i++;
}

return {
timeStamp: now(),
pointers: pointers,
center: getCenter(pointers),
deltaX: input.deltaX,
deltaY: input.deltaY
};
}

function getCenter(pointers) {
var pointersLength = pointers.length;

if (pointersLength === 1) {
return {
x: round(pointers[0].clientX),
y: round(pointers[0].clientY)
};
}

var x = 0, y = 0, i = 0;
while (i < pointersLength) {
x += pointers[i].clientX;
y += pointers[i].clientY;
i++;
}

return {
x: round(x / pointersLength),
y: round(y / pointersLength)
};
}

function getVelocity(deltaTime, x, y) {
return {
x: x / deltaTime || 0,
y: y / deltaTime || 0
};
}

function getDirection(x, y) {
if (x === y) {
return DIRECTION_NONE;
}

if (abs(x) >= abs(y)) {
return x < 0 ? DIRECTION_LEFT : DIRECTION_RIGHT;
}
return y < 0 ? DIRECTION_UP : DIRECTION_DOWN;
}

function getDistance(p1, p2, props) {
if (!props) {
props = PROPS_XY;
}
var x = p2[props[0]] - p1[props[0]],
y = p2[props[1]] - p1[props[1]];

return Math.sqrt((x * x) + (y * y));
}

function getAngle(p1, p2, props) {
if (!props) {
props = PROPS_XY;
}
var x = p2[props[0]] - p1[props[0]],
y = p2[props[1]] - p1[props[1]];
return Math.atan2(y, x) * 180 / Math.PI;
}

function getRotation(start, end) {
return getAngle(end[1], end[0], PROPS_CLIENT_XY) + getAngle(start[1], start[0], PROPS_CLIENT_XY);
}

function getScale(start, end) {
return getDistance(end[0], end[1], PROPS_CLIENT_XY) / getDistance(start[0], start[1], PROPS_CLIENT_XY);
}

var MOUSE_INPUT_MAP = {
mousedown: INPUT_START,
mousemove: INPUT_MOVE,
mouseup: INPUT_END
};

var MOUSE_ELEMENT_EVENTS = 'mousedown';
var MOUSE_WINDOW_EVENTS = 'mousemove mouseup';

function MouseInput() {
this.evEl = MOUSE_ELEMENT_EVENTS;
this.evWin = MOUSE_WINDOW_EVENTS;

this.pressed = false; // mousedown state

Input.apply(this, arguments);
}

inherit(MouseInput, Input, {
handler: function MEhandler(ev) {
var eventType = MOUSE_INPUT_MAP[ev.type];

if (eventType & INPUT_START && ev.button === 0) {
this.pressed = true;
}

if (eventType & INPUT_MOVE && ev.which !== 1) {
eventType = INPUT_END;
}

if (!this.pressed) {
return;
}

if (eventType & INPUT_END) {
this.pressed = false;
}

this.callback(this.manager, eventType, {
pointers: [ev],
changedPointers: [ev],
pointerType: INPUT_TYPE_MOUSE,
srcEvent: ev
});
}
});

var POINTER_INPUT_MAP = {
pointerdown: INPUT_START,
pointermove: INPUT_MOVE,
pointerup: INPUT_END,
pointercancel: INPUT_CANCEL,
pointerout: INPUT_CANCEL
};

var IE10_POINTER_TYPE_ENUM = {
2: INPUT_TYPE_TOUCH,
3: INPUT_TYPE_PEN,
4: INPUT_TYPE_MOUSE,
5: INPUT_TYPE_KINECT // see https://twitter.com/jacobrossi/status/480596438489890816
};

var POINTER_ELEMENT_EVENTS = 'pointerdown';
var POINTER_WINDOW_EVENTS = 'pointermove pointerup pointercancel';

if (window.MSPointerEvent && !window.PointerEvent) {
POINTER_ELEMENT_EVENTS = 'MSPointerDown';
POINTER_WINDOW_EVENTS = 'MSPointerMove MSPointerUp MSPointerCancel';
}

function PointerEventInput() {
this.evEl = POINTER_ELEMENT_EVENTS;
this.evWin = POINTER_WINDOW_EVENTS;

Input.apply(this, arguments);

this.store = (this.manager.session.pointerEvents = []);
}

inherit(PointerEventInput, Input, {
handler: function PEhandler(ev) {
var store = this.store;
var removePointer = false;

var eventTypeNormalized = ev.type.toLowerCase().replace('ms', '');
var eventType = POINTER_INPUT_MAP[eventTypeNormalized];
var pointerType = IE10_POINTER_TYPE_ENUM[ev.pointerType] || ev.pointerType;

var isTouch = (pointerType == INPUT_TYPE_TOUCH);

var storeIndex = inArray(store, ev.pointerId, 'pointerId');

if (eventType & INPUT_START && (ev.button === 0 || isTouch)) {
if (storeIndex < 0) {
store.push(ev);
storeIndex = store.length - 1;
}
} else if (eventType & (INPUT_END | INPUT_CANCEL)) {
removePointer = true;
}

if (storeIndex < 0) {
return;
}

store[storeIndex] = ev;

this.callback(this.manager, eventType, {
pointers: store,
changedPointers: [ev],
pointerType: pointerType,
srcEvent: ev
});

if (removePointer) {
store.splice(storeIndex, 1);
}
}
});

var SINGLE_TOUCH_INPUT_MAP = {
touchstart: INPUT_START,
touchmove: INPUT_MOVE,
touchend: INPUT_END,
touchcancel: INPUT_CANCEL
};

var SINGLE_TOUCH_TARGET_EVENTS = 'touchstart';
var SINGLE_TOUCH_WINDOW_EVENTS = 'touchstart touchmove touchend touchcancel';

function SingleTouchInput() {
this.evTarget = SINGLE_TOUCH_TARGET_EVENTS;
this.evWin = SINGLE_TOUCH_WINDOW_EVENTS;
this.started = false;

Input.apply(this, arguments);
}

inherit(SingleTouchInput, Input, {
handler: function TEhandler(ev) {
var type = SINGLE_TOUCH_INPUT_MAP[ev.type];

if (type === INPUT_START) {
this.started = true;
}

if (!this.started) {
return;
}

var touches = normalizeSingleTouches.call(this, ev, type);

if (type & (INPUT_END | INPUT_CANCEL) && touches[0].length - touches[1].length === 0) {
this.started = false;
}

this.callback(this.manager, type, {
pointers: touches[0],
changedPointers: touches[1],
pointerType: INPUT_TYPE_TOUCH,
srcEvent: ev
});
}
});

function normalizeSingleTouches(ev, type) {
var all = toArray(ev.touches);
var changed = toArray(ev.changedTouches);

if (type & (INPUT_END | INPUT_CANCEL)) {
all = uniqueArray(all.concat(changed), 'identifier', true);
}

return [all, changed];
}

var TOUCH_INPUT_MAP = {
touchstart: INPUT_START,
touchmove: INPUT_MOVE,
touchend: INPUT_END,
touchcancel: INPUT_CANCEL
};

var TOUCH_TARGET_EVENTS = 'touchstart touchmove touchend touchcancel';

function TouchInput() {
this.evTarget = TOUCH_TARGET_EVENTS;
this.targetIds = {};

Input.apply(this, arguments);
}

inherit(TouchInput, Input, {
handler: function MTEhandler(ev) {
var type = TOUCH_INPUT_MAP[ev.type];
var touches = getTouches.call(this, ev, type);
if (!touches) {
return;
}

this.callback(this.manager, type, {
pointers: touches[0],
changedPointers: touches[1],
pointerType: INPUT_TYPE_TOUCH,
srcEvent: ev
});
}
});

function getTouches(ev, type) {
var allTouches = toArray(ev.touches);
var targetIds = this.targetIds;

if (type & (INPUT_START | INPUT_MOVE) && allTouches.length === 1) {
targetIds[allTouches[0].identifier] = true;
return [allTouches, allTouches];
}

var i,
targetTouches,
changedTouches = toArray(ev.changedTouches),
changedTargetTouches = [],
target = this.target;

targetTouches = allTouches.filter(function(touch) {
return hasParent(touch.target, target);
});

if (type === INPUT_START) {
i = 0;
while (i < targetTouches.length) {
targetIds[targetTouches[i].identifier] = true;
i++;
}
}

i = 0;
while (i < changedTouches.length) {
if (targetIds[changedTouches[i].identifier]) {
changedTargetTouches.push(changedTouches[i]);
}

if (type & (INPUT_END | INPUT_CANCEL)) {
delete targetIds[changedTouches[i].identifier];
}
i++;
}

if (!changedTargetTouches.length) {
return;
}

return [
uniqueArray(targetTouches.concat(changedTargetTouches), 'identifier', true),
changedTargetTouches
];
}


var DEDUP_TIMEOUT = 2500;
var DEDUP_DISTANCE = 25;

function TouchMouseInput() {
Input.apply(this, arguments);

var handler = bindFn(this.handler, this);
this.touch = new TouchInput(this.manager, handler);
this.mouse = new MouseInput(this.manager, handler);

this.primaryTouch = null;
this.lastTouches = [];
}

inherit(TouchMouseInput, Input, {
handler: function TMEhandler(manager, inputEvent, inputData) {
var isTouch = (inputData.pointerType == INPUT_TYPE_TOUCH),
isMouse = (inputData.pointerType == INPUT_TYPE_MOUSE);

if (isMouse && inputData.sourceCapabilities && inputData.sourceCapabilities.firesTouchEvents) {
return;
}

if (isTouch) {
recordTouches.call(this, inputEvent, inputData);
} else if (isMouse && isSyntheticEvent.call(this, inputData)) {
return;
}

this.callback(manager, inputEvent, inputData);
},

destroy: function destroy() {
this.touch.destroy();
this.mouse.destroy();
}
});

function recordTouches(eventType, eventData) {
if (eventType & INPUT_START) {
this.primaryTouch = eventData.changedPointers[0].identifier;
setLastTouch.call(this, eventData);
} else if (eventType & (INPUT_END | INPUT_CANCEL)) {
setLastTouch.call(this, eventData);
}
}

function setLastTouch(eventData) {
var touch = eventData.changedPointers[0];

if (touch.identifier === this.primaryTouch) {
var lastTouch = {x: touch.clientX, y: touch.clientY};
this.lastTouches.push(lastTouch);
var lts = this.lastTouches;
var removeLastTouch = function() {
var i = lts.indexOf(lastTouch);
if (i > -1) {
lts.splice(i, 1);
}
};
setTimeout(removeLastTouch, DEDUP_TIMEOUT);
}
}

function isSyntheticEvent(eventData) {
var x = eventData.srcEvent.clientX, y = eventData.srcEvent.clientY;
for (var i = 0; i < this.lastTouches.length; i++) {
var t = this.lastTouches[i];
var dx = Math.abs(x - t.x), dy = Math.abs(y - t.y);
if (dx <= DEDUP_DISTANCE && dy <= DEDUP_DISTANCE) {
return true;
}
}
return false;
}

var PREFIXED_TOUCH_ACTION = prefixed(TEST_ELEMENT.style, 'touchAction');
var NATIVE_TOUCH_ACTION = PREFIXED_TOUCH_ACTION !== undefined;

var TOUCH_ACTION_COMPUTE = 'compute';
var TOUCH_ACTION_AUTO = 'auto';
var TOUCH_ACTION_MANIPULATION = 'manipulation'; // not implemented
var TOUCH_ACTION_NONE = 'none';
var TOUCH_ACTION_PAN_X = 'pan-x';
var TOUCH_ACTION_PAN_Y = 'pan-y';
var TOUCH_ACTION_MAP = getTouchActionProps();

function TouchAction(manager, value) {
this.manager = manager;
this.set(value);
}

TouchAction.prototype = {
set: function(value) {
if (value == TOUCH_ACTION_COMPUTE) {
value = this.compute();
}

if (NATIVE_TOUCH_ACTION && this.manager.element.style && TOUCH_ACTION_MAP[value]) {
this.manager.element.style[PREFIXED_TOUCH_ACTION] = value;
}
this.actions = value.toLowerCase().trim();
},

update: function() {
this.set(this.manager.options.touchAction);
},

compute: function() {
var actions = [];
each(this.manager.recognizers, function(recognizer) {
if (boolOrFn(recognizer.options.enable, [recognizer])) {
actions = actions.concat(recognizer.getTouchAction());
}
});
return cleanTouchActions(actions.join(' '));
},

preventDefaults: function(input) {
var srcEvent = input.srcEvent;
var direction = input.offsetDirection;

if (this.manager.session.prevented) {
srcEvent.preventDefault();
return;
}

var actions = this.actions;
var hasNone = inStr(actions, TOUCH_ACTION_NONE) && !TOUCH_ACTION_MAP[TOUCH_ACTION_NONE];
var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_Y];
var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_X];

if (hasNone) {

var isTapPointer = input.pointers.length === 1;
var isTapMovement = input.distance < 2;
var isTapTouchTime = input.deltaTime < 250;

if (isTapPointer && isTapMovement && isTapTouchTime) {
return;
}
}

if (hasPanX && hasPanY) {
return;
}

if (hasNone ||
(hasPanY && direction & DIRECTION_HORIZONTAL) ||
(hasPanX && direction & DIRECTION_VERTICAL)) {
return this.preventSrc(srcEvent);
}
},

preventSrc: function(srcEvent) {
this.manager.session.prevented = true;
srcEvent.preventDefault();
}
};

function cleanTouchActions(actions) {
if (inStr(actions, TOUCH_ACTION_NONE)) {
return TOUCH_ACTION_NONE;
}

var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X);
var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y);

if (hasPanX && hasPanY) {
return TOUCH_ACTION_NONE;
}

if (hasPanX || hasPanY) {
return hasPanX ? TOUCH_ACTION_PAN_X : TOUCH_ACTION_PAN_Y;
}

if (inStr(actions, TOUCH_ACTION_MANIPULATION)) {
return TOUCH_ACTION_MANIPULATION;
}

return TOUCH_ACTION_AUTO;
}

function getTouchActionProps() {
if (!NATIVE_TOUCH_ACTION) {
return false;
}
var touchMap = {};
var cssSupports = window.CSS && window.CSS.supports;
['auto', 'manipulation', 'pan-y', 'pan-x', 'pan-x pan-y', 'none'].forEach(function(val) {

touchMap[val] = cssSupports ? window.CSS.supports('touch-action', val) : true;
});
return touchMap;
}

var STATE_POSSIBLE = 1;
var STATE_BEGAN = 2;
var STATE_CHANGED = 4;
var STATE_ENDED = 8;
var STATE_RECOGNIZED = STATE_ENDED;
var STATE_CANCELLED = 16;
var STATE_FAILED = 32;

function Recognizer(options) {
this.options = assign({}, this.defaults, options || {});

this.id = uniqueId();

this.manager = null;

this.options.enable = ifUndefined(this.options.enable, true);

this.state = STATE_POSSIBLE;

this.simultaneous = {};
this.requireFail = [];
}

Recognizer.prototype = {
defaults: {},

set: function(options) {
assign(this.options, options);

this.manager && this.manager.touchAction.update();
return this;
},

recognizeWith: function(otherRecognizer) {
if (invokeArrayArg(otherRecognizer, 'recognizeWith', this)) {
return this;
}

var simultaneous = this.simultaneous;
otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);
if (!simultaneous[otherRecognizer.id]) {
simultaneous[otherRecognizer.id] = otherRecognizer;
otherRecognizer.recognizeWith(this);
}
return this;
},

dropRecognizeWith: function(otherRecognizer) {
if (invokeArrayArg(otherRecognizer, 'dropRecognizeWith', this)) {
return this;
}

otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);
delete this.simultaneous[otherRecognizer.id];
return this;
},

requireFailure: function(otherRecognizer) {
if (invokeArrayArg(otherRecognizer, 'requireFailure', this)) {
return this;
}

var requireFail = this.requireFail;
otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);
if (inArray(requireFail, otherRecognizer) === -1) {
requireFail.push(otherRecognizer);
otherRecognizer.requireFailure(this);
}
return this;
},

dropRequireFailure: function(otherRecognizer) {
if (invokeArrayArg(otherRecognizer, 'dropRequireFailure', this)) {
return this;
}

otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);
var index = inArray(this.requireFail, otherRecognizer);
if (index > -1) {
this.requireFail.splice(index, 1);
}
return this;
},

hasRequireFailures: function() {
return this.requireFail.length > 0;
},

canRecognizeWith: function(otherRecognizer) {
return !!this.simultaneous[otherRecognizer.id];
},

emit: function(input) {
var self = this;
var state = this.state;

function emit(event) {
self.manager.emit(event, input);
}

if (state < STATE_ENDED) {
emit(self.options.event + stateStr(state));
}

emit(self.options.event); // simple 'eventName' events

if (input.additionalEvent) { // additional event(panleft, panright, pinchin, pinchout...)
emit(input.additionalEvent);
}

if (state >= STATE_ENDED) {
emit(self.options.event + stateStr(state));
}
},

tryEmit: function(input) {
if (this.canEmit()) {
return this.emit(input);
}
this.state = STATE_FAILED;
},

canEmit: function() {
var i = 0;
while (i < this.requireFail.length) {
if (!(this.requireFail[i].state & (STATE_FAILED | STATE_POSSIBLE))) {
return false;
}
i++;
}
return true;
},

recognize: function(inputData) {
var inputDataClone = assign({}, inputData);

if (!boolOrFn(this.options.enable, [this, inputDataClone])) {
this.reset();
this.state = STATE_FAILED;
return;
}

if (this.state & (STATE_RECOGNIZED | STATE_CANCELLED | STATE_FAILED)) {
this.state = STATE_POSSIBLE;
}

this.state = this.process(inputDataClone);

if (this.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED | STATE_CANCELLED)) {
this.tryEmit(inputDataClone);
}
},

process: function(inputData) { }, // jshint ignore:line

getTouchAction: function() { },

reset: function() { }
};

function stateStr(state) {
if (state & STATE_CANCELLED) {
return 'cancel';
} else if (state & STATE_ENDED) {
return 'end';
} else if (state & STATE_CHANGED) {
return 'move';
} else if (state & STATE_BEGAN) {
return 'start';
}
return '';
}

function directionStr(direction) {
if (direction == DIRECTION_DOWN) {
return 'down';
} else if (direction == DIRECTION_UP) {
return 'up';
} else if (direction == DIRECTION_LEFT) {
return 'left';
} else if (direction == DIRECTION_RIGHT) {
return 'right';
}
return '';
}

function getRecognizerByNameIfManager(otherRecognizer, recognizer) {
var manager = recognizer.manager;
if (manager) {
return manager.get(otherRecognizer);
}
return otherRecognizer;
}

function AttrRecognizer() {
Recognizer.apply(this, arguments);
}

inherit(AttrRecognizer, Recognizer, {
defaults: {
pointers: 1
},

attrTest: function(input) {
var optionPointers = this.options.pointers;
return optionPointers === 0 || input.pointers.length === optionPointers;
},

process: function(input) {
var state = this.state;
var eventType = input.eventType;

var isRecognized = state & (STATE_BEGAN | STATE_CHANGED);
var isValid = this.attrTest(input);

if (isRecognized && (eventType & INPUT_CANCEL || !isValid)) {
return state | STATE_CANCELLED;
} else if (isRecognized || isValid) {
if (eventType & INPUT_END) {
return state | STATE_ENDED;
} else if (!(state & STATE_BEGAN)) {
return STATE_BEGAN;
}
return state | STATE_CHANGED;
}
return STATE_FAILED;
}
});

function PanRecognizer() {
AttrRecognizer.apply(this, arguments);

this.pX = null;
this.pY = null;
}

inherit(PanRecognizer, AttrRecognizer, {
defaults: {
event: 'pan',
threshold: 10,
pointers: 1,
direction: DIRECTION_ALL
},

getTouchAction: function() {
var direction = this.options.direction;
var actions = [];
if (direction & DIRECTION_HORIZONTAL) {
actions.push(TOUCH_ACTION_PAN_Y);
}
if (direction & DIRECTION_VERTICAL) {
actions.push(TOUCH_ACTION_PAN_X);
}
return actions;
},

directionTest: function(input) {
var options = this.options;
var hasMoved = true;
var distance = input.distance;
var direction = input.direction;
var x = input.deltaX;
var y = input.deltaY;

if (!(direction & options.direction)) {
if (options.direction & DIRECTION_HORIZONTAL) {
direction = (x === 0) ? DIRECTION_NONE : (x < 0) ? DIRECTION_LEFT : DIRECTION_RIGHT;
hasMoved = x != this.pX;
distance = Math.abs(input.deltaX);
} else {
direction = (y === 0) ? DIRECTION_NONE : (y < 0) ? DIRECTION_UP : DIRECTION_DOWN;
hasMoved = y != this.pY;
distance = Math.abs(input.deltaY);
}
}
input.direction = direction;
return hasMoved && distance > options.threshold && direction & options.direction;
},

attrTest: function(input) {
return AttrRecognizer.prototype.attrTest.call(this, input) &&
(this.state & STATE_BEGAN || (!(this.state & STATE_BEGAN) && this.directionTest(input)));
},

emit: function(input) {

this.pX = input.deltaX;
this.pY = input.deltaY;

var direction = directionStr(input.direction);

if (direction) {
input.additionalEvent = this.options.event + direction;
}
this._super.emit.call(this, input);
}
});

function PinchRecognizer() {
AttrRecognizer.apply(this, arguments);
}

inherit(PinchRecognizer, AttrRecognizer, {
defaults: {
event: 'pinch',
threshold: 0,
pointers: 2
},

getTouchAction: function() {
return [TOUCH_ACTION_NONE];
},

attrTest: function(input) {
return this._super.attrTest.call(this, input) &&
(Math.abs(input.scale - 1) > this.options.threshold || this.state & STATE_BEGAN);
},

emit: function(input) {
if (input.scale !== 1) {
var inOut = input.scale < 1 ? 'in' : 'out';
input.additionalEvent = this.options.event + inOut;
}
this._super.emit.call(this, input);
}
});

function PressRecognizer() {
Recognizer.apply(this, arguments);

this._timer = null;
this._input = null;
}

inherit(PressRecognizer, Recognizer, {
defaults: {
event: 'press',
pointers: 1,
time: 251, // minimal time of the pointer to be pressed
threshold: 9 // a minimal movement is ok, but keep it low
},

getTouchAction: function() {
return [TOUCH_ACTION_AUTO];
},

process: function(input) {
var options = this.options;
var validPointers = input.pointers.length === options.pointers;
var validMovement = input.distance < options.threshold;
var validTime = input.deltaTime > options.time;

this._input = input;

if (!validMovement || !validPointers || (input.eventType & (INPUT_END | INPUT_CANCEL) && !validTime)) {
this.reset();
} else if (input.eventType & INPUT_START) {
this.reset();
this._timer = setTimeoutContext(function() {
this.state = STATE_RECOGNIZED;
this.tryEmit();
}, options.time, this);
} else if (input.eventType & INPUT_END) {
return STATE_RECOGNIZED;
}
return STATE_FAILED;
},

reset: function() {
clearTimeout(this._timer);
},

emit: function(input) {
if (this.state !== STATE_RECOGNIZED) {
return;
}

if (input && (input.eventType & INPUT_END)) {
this.manager.emit(this.options.event + 'up', input);
} else {
this._input.timeStamp = now();
this.manager.emit(this.options.event, this._input);
}
}
});

function RotateRecognizer() {
AttrRecognizer.apply(this, arguments);
}

inherit(RotateRecognizer, AttrRecognizer, {
defaults: {
event: 'rotate',
threshold: 0,
pointers: 2
},

getTouchAction: function() {
return [TOUCH_ACTION_NONE];
},

attrTest: function(input) {
return this._super.attrTest.call(this, input) &&
(Math.abs(input.rotation) > this.options.threshold || this.state & STATE_BEGAN);
}
});

function SwipeRecognizer() {
AttrRecognizer.apply(this, arguments);
}

inherit(SwipeRecognizer, AttrRecognizer, {
defaults: {
event: 'swipe',
threshold: 10,
velocity: 0.3,
direction: DIRECTION_HORIZONTAL | DIRECTION_VERTICAL,
pointers: 1
},

getTouchAction: function() {
return PanRecognizer.prototype.getTouchAction.call(this);
},

attrTest: function(input) {
var direction = this.options.direction;
var velocity;

if (direction & (DIRECTION_HORIZONTAL | DIRECTION_VERTICAL)) {
velocity = input.overallVelocity;
} else if (direction & DIRECTION_HORIZONTAL) {
velocity = input.overallVelocityX;
} else if (direction & DIRECTION_VERTICAL) {
velocity = input.overallVelocityY;
}

return this._super.attrTest.call(this, input) &&
direction & input.offsetDirection &&
input.distance > this.options.threshold &&
input.maxPointers == this.options.pointers &&
abs(velocity) > this.options.velocity && input.eventType & INPUT_END;
},

emit: function(input) {
var direction = directionStr(input.offsetDirection);
if (direction) {
this.manager.emit(this.options.event + direction, input);
}

this.manager.emit(this.options.event, input);
}
});

function TapRecognizer() {
Recognizer.apply(this, arguments);

this.pTime = false;
this.pCenter = false;

this._timer = null;
this._input = null;
this.count = 0;
}

inherit(TapRecognizer, Recognizer, {
defaults: {
event: 'tap',
pointers: 1,
taps: 1,
interval: 300, // max time between the multi-tap taps
time: 250, // max time of the pointer to be down (like finger on the screen)
threshold: 9, // a minimal movement is ok, but keep it low
posThreshold: 10 // a multi-tap can be a bit off the initial position
},

getTouchAction: function() {
return [TOUCH_ACTION_MANIPULATION];
},

process: function(input) {
var options = this.options;

var validPointers = input.pointers.length === options.pointers;
var validMovement = input.distance < options.threshold;
var validTouchTime = input.deltaTime < options.time;

this.reset();

if ((input.eventType & INPUT_START) && (this.count === 0)) {
return this.failTimeout();
}

if (validMovement && validTouchTime && validPointers) {
if (input.eventType != INPUT_END) {
return this.failTimeout();
}

var validInterval = this.pTime ? (input.timeStamp - this.pTime < options.interval) : true;
var validMultiTap = !this.pCenter || getDistance(this.pCenter, input.center) < options.posThreshold;

this.pTime = input.timeStamp;
this.pCenter = input.center;

if (!validMultiTap || !validInterval) {
this.count = 1;
} else {
this.count += 1;
}

this._input = input;

var tapCount = this.count % options.taps;
if (tapCount === 0) {
if (!this.hasRequireFailures()) {
return STATE_RECOGNIZED;
} else {
this._timer = setTimeoutContext(function() {
this.state = STATE_RECOGNIZED;
this.tryEmit();
}, options.interval, this);
return STATE_BEGAN;
}
}
}
return STATE_FAILED;
},

failTimeout: function() {
this._timer = setTimeoutContext(function() {
this.state = STATE_FAILED;
}, this.options.interval, this);
return STATE_FAILED;
},

reset: function() {
clearTimeout(this._timer);
},

emit: function() {
if (this.state == STATE_RECOGNIZED) {
this._input.tapCount = this.count;
this.manager.emit(this.options.event, this._input);
}
}
});

function Hammer(element, options) {
options = options || {};
options.recognizers = ifUndefined(options.recognizers, Hammer.defaults.preset);
return new Manager(element, options);
}

Hammer.VERSION = '2.0.7';

Hammer.defaults = {
domEvents: false,

touchAction: TOUCH_ACTION_COMPUTE,

enable: true,

inputTarget: null,

inputClass: null,

preset: [
[RotateRecognizer, {enable: false}],
[PinchRecognizer, {enable: false}, ['rotate']],
[SwipeRecognizer, {direction: DIRECTION_HORIZONTAL}],
[PanRecognizer, {direction: DIRECTION_HORIZONTAL}, ['swipe']],
[TapRecognizer],
[TapRecognizer, {event: 'doubletap', taps: 2}, ['tap']],
[PressRecognizer]
],

cssProps: {
userSelect: 'none',

touchSelect: 'none',

touchCallout: 'none',

contentZooming: 'none',

userDrag: 'none',

tapHighlightColor: 'rgba(0,0,0,0)'
}
};

var STOP = 1;
var FORCED_STOP = 2;

function Manager(element, options) {
this.options = assign({}, Hammer.defaults, options || {});

this.options.inputTarget = this.options.inputTarget || element;

this.handlers = {};
this.session = {};
this.recognizers = [];
this.oldCssProps = {};

this.element = element;
this.input = createInputInstance(this);
this.touchAction = new TouchAction(this, this.options.touchAction);

toggleCssProps(this, true);

each(this.options.recognizers, function(item) {
var recognizer = this.add(new (item[0])(item[1]));
item[2] && recognizer.recognizeWith(item[2]);
item[3] && recognizer.requireFailure(item[3]);
}, this);
}

Manager.prototype = {
set: function(options) {
assign(this.options, options);

if (options.touchAction) {
this.touchAction.update();
}
if (options.inputTarget) {
this.input.destroy();
this.input.target = options.inputTarget;
this.input.init();
}
return this;
},

stop: function(force) {
this.session.stopped = force ? FORCED_STOP : STOP;
},

recognize: function(inputData) {
var session = this.session;
if (session.stopped) {
return;
}

this.touchAction.preventDefaults(inputData);

var recognizer;
var recognizers = this.recognizers;

var curRecognizer = session.curRecognizer;

if (!curRecognizer || (curRecognizer && curRecognizer.state & STATE_RECOGNIZED)) {
curRecognizer = session.curRecognizer = null;
}

var i = 0;
while (i < recognizers.length) {
recognizer = recognizers[i];

if (session.stopped !== FORCED_STOP && ( // 1
!curRecognizer || recognizer == curRecognizer || // 2
recognizer.canRecognizeWith(curRecognizer))) { // 3
recognizer.recognize(inputData);
} else {
recognizer.reset();
}

if (!curRecognizer && recognizer.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED)) {
curRecognizer = session.curRecognizer = recognizer;
}
i++;
}
},

get: function(recognizer) {
if (recognizer instanceof Recognizer) {
return recognizer;
}

var recognizers = this.recognizers;
for (var i = 0; i < recognizers.length; i++) {
if (recognizers[i].options.event == recognizer) {
return recognizers[i];
}
}
return null;
},

add: function(recognizer) {
if (invokeArrayArg(recognizer, 'add', this)) {
return this;
}

var existing = this.get(recognizer.options.event);
if (existing) {
this.remove(existing);
}

this.recognizers.push(recognizer);
recognizer.manager = this;

this.touchAction.update();
return recognizer;
},

remove: function(recognizer) {
if (invokeArrayArg(recognizer, 'remove', this)) {
return this;
}

recognizer = this.get(recognizer);

if (recognizer) {
var recognizers = this.recognizers;
var index = inArray(recognizers, recognizer);

if (index !== -1) {
recognizers.splice(index, 1);
this.touchAction.update();
}
}

return this;
},

on: function(events, handler) {
if (events === undefined) {
return;
}
if (handler === undefined) {
return;
}

var handlers = this.handlers;
each(splitStr(events), function(event) {
handlers[event] = handlers[event] || [];
handlers[event].push(handler);
});
return this;
},

off: function(events, handler) {
if (events === undefined) {
return;
}

var handlers = this.handlers;
each(splitStr(events), function(event) {
if (!handler) {
delete handlers[event];
} else {
handlers[event] && handlers[event].splice(inArray(handlers[event], handler), 1);
}
});
return this;
},

emit: function(event, data) {
if (this.options.domEvents) {
triggerDomEvent(event, data);
}

var handlers = this.handlers[event] && this.handlers[event].slice();
if (!handlers || !handlers.length) {
return;
}

data.type = event;
data.preventDefault = function() {
data.srcEvent.preventDefault();
};

var i = 0;
while (i < handlers.length) {
handlers[i](data);
i++;
}
},

destroy: function() {
this.element && toggleCssProps(this, false);

this.handlers = {};
this.session = {};
this.input.destroy();
this.element = null;
}
};

function toggleCssProps(manager, add) {
var element = manager.element;
if (!element.style) {
return;
}
var prop;
each(manager.options.cssProps, function(value, name) {
prop = prefixed(element.style, name);
if (add) {
manager.oldCssProps[prop] = element.style[prop];
element.style[prop] = value;
} else {
element.style[prop] = manager.oldCssProps[prop] || '';
}
});
if (!add) {
manager.oldCssProps = {};
}
}

function triggerDomEvent(event, data) {
var gestureEvent = document.createEvent('Event');
gestureEvent.initEvent(event, true, true);
gestureEvent.gesture = data;
data.target.dispatchEvent(gestureEvent);
}

assign(Hammer, {
INPUT_START: INPUT_START,
INPUT_MOVE: INPUT_MOVE,
INPUT_END: INPUT_END,
INPUT_CANCEL: INPUT_CANCEL,

STATE_POSSIBLE: STATE_POSSIBLE,
STATE_BEGAN: STATE_BEGAN,
STATE_CHANGED: STATE_CHANGED,
STATE_ENDED: STATE_ENDED,
STATE_RECOGNIZED: STATE_RECOGNIZED,
STATE_CANCELLED: STATE_CANCELLED,
STATE_FAILED: STATE_FAILED,

DIRECTION_NONE: DIRECTION_NONE,
DIRECTION_LEFT: DIRECTION_LEFT,
DIRECTION_RIGHT: DIRECTION_RIGHT,
DIRECTION_UP: DIRECTION_UP,
DIRECTION_DOWN: DIRECTION_DOWN,
DIRECTION_HORIZONTAL: DIRECTION_HORIZONTAL,
DIRECTION_VERTICAL: DIRECTION_VERTICAL,
DIRECTION_ALL: DIRECTION_ALL,

Manager: Manager,
Input: Input,
TouchAction: TouchAction,

TouchInput: TouchInput,
MouseInput: MouseInput,
PointerEventInput: PointerEventInput,
TouchMouseInput: TouchMouseInput,
SingleTouchInput: SingleTouchInput,

Recognizer: Recognizer,
AttrRecognizer: AttrRecognizer,
Tap: TapRecognizer,
Pan: PanRecognizer,
Swipe: SwipeRecognizer,
Pinch: PinchRecognizer,
Rotate: RotateRecognizer,
Press: PressRecognizer,

on: addEventListeners,
off: removeEventListeners,
each: each,
merge: merge,
extend: extend,
assign: assign,
inherit: inherit,
bindFn: bindFn,
prefixed: prefixed
});

var freeGlobal = (typeof window !== 'undefined' ? window : (typeof self !== 'undefined' ? self : {})); // jshint ignore:line
freeGlobal.Hammer = Hammer;

if (typeof define === 'function' && define.amd) {
define(function() {
return Hammer;
});
} else if (typeof module != 'undefined' && module.exports) {
module.exports = Hammer;
} else {
window[exportName] = Hammer;
}

})(window, document, 'Hammer');

/*****
* @licstart
*
* The following is the license notice for the part of JavaScript code of this
* page included between the '@jessyinkstart' and the '@jessyinkend' notes.
*/

/*****  ******************************************************************
*
* Copyright 2008-2013 Hannes Hochreiner
*
* The JavaScript code included between the start note '@jessyinkstart'
* and the end note '@jessyinkend' is subject to the terms of the Mozilla
* Public License, v. 2.0. If a copy of the MPL was not distributed with
* this file, You can obtain one at http://mozilla.org/MPL/2.0/.
*
* Alternatively, you can redistribute and/or that part of this file
* under the terms of the GNU General Public License as published by
* the Free Software Foundation, either version 3 of the License, or
* (at your option) any later version.
*
* This program is distributed in the hope that it will be useful,
* but WITHOUT ANY WARRANTY; without even the implied warranty of
* MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
* GNU General Public License for more details.
*
* You should have received a copy of the GNU General Public License
* along with this program.  If not, see http://www.gnu.org/licenses/.
*/

/*****
*  You can find the complete source code of the JessyInk project at:
*  @source http://code.google.com/p/jessyink/
*/

/*****
* @licend
*
* The above is the license notice for the part of JavaScript code of this
* page included between the '@jessyinkstart' and the '@jessyinkend' notes.
*/


/*****
* @jessyinkstart
*
*  The following code is a derivative work of some parts of the JessyInk
*  project.
*  @source http://code.google.com/p/jessyink/
*/

function getElementsByProperty( node, name )
{
var elements = [];

if( node.getAttribute( name ) )
elements.push( node );

for( var counter = 0; counter < node.childNodes.length; ++counter )
{
if( node.childNodes[counter].nodeType == 1 )
{
var subElements = getElementsByProperty( node.childNodes[counter], name );
elements = elements.concat( subElements );
}
}
return elements;
}

function onKeyDown( aEvt )
{
if ( !aEvt )
aEvt = window.event;

var code = aEvt.keyCode || aEvt.charCode;


if (code == 0 && aEvt.key != undefined) {
switch (aEvt.key) {
case 'UIKeyInputLeftArrow':
code = LEFT_KEY;
break;
case 'UIKeyInputUpArrow':
code = UP_KEY;
break;
case 'UIKeyInputRightArrow':
code = RIGHT_KEY;
break;
case 'UIKeyInputDownArrow':
code = DOWN_KEY;
break;
}

}

if( !processingEffect && keyCodeDictionary[currentMode] && keyCodeDictionary[currentMode][code] )
{
return keyCodeDictionary[currentMode][code]();
}
else
{
document.onkeypress = onKeyPress;
return null;
}
}
document.onkeydown = onKeyDown;

function onKeyPress( aEvt )
{
document.onkeypress = null;

if ( !aEvt )
aEvt = window.event;

var str = String.fromCharCode( aEvt.keyCode || aEvt.charCode );

if ( !processingEffect && charCodeDictionary[currentMode] && charCodeDictionary[currentMode][str] )
return charCodeDictionary[currentMode][str]();

return null;
}

function getDefaultKeyCodeDictionary()
{
var keyCodeDict = {};

keyCodeDict[SLIDE_MODE] = {};
keyCodeDict[INDEX_MODE] = {};

keyCodeDict[SLIDE_MODE][LEFT_KEY]
= function() { return aSlideShow.rewindEffect(); };
keyCodeDict[SLIDE_MODE][RIGHT_KEY]
= function() { return dispatchEffects(1); };
keyCodeDict[SLIDE_MODE][UP_KEY]
= function() { return aSlideShow.rewindEffect(); };
keyCodeDict[SLIDE_MODE][DOWN_KEY]
= function() { return skipEffects(1); };
keyCodeDict[SLIDE_MODE][PAGE_UP_KEY]
= function() { return aSlideShow.rewindAllEffects(); };
keyCodeDict[SLIDE_MODE][PAGE_DOWN_KEY]
= function() { return skipAllEffects(); };
keyCodeDict[SLIDE_MODE][HOME_KEY]
= function() { return aSlideShow.displaySlide( 0, true ); };
keyCodeDict[SLIDE_MODE][END_KEY]
= function() { return aSlideShow.displaySlide( theMetaDoc.nNumberOfSlides - 1, true ); };
keyCodeDict[SLIDE_MODE][SPACE_KEY]
= function() { return dispatchEffects(1); };
keyCodeDict[SLIDE_MODE][ESCAPE_KEY]
= function() { return aSlideShow.exitSlideShowInApp(); };
keyCodeDict[SLIDE_MODE][Q_KEY]
= function() { return aSlideShow.exitSlideShowInApp(); };

keyCodeDict[INDEX_MODE][LEFT_KEY]
= function() { return indexSetPageSlide( theSlideIndexPage.selectedSlideIndex - 1 ); };
keyCodeDict[INDEX_MODE][RIGHT_KEY]
= function() { return indexSetPageSlide( theSlideIndexPage.selectedSlideIndex + 1 ); };
keyCodeDict[INDEX_MODE][UP_KEY]
= function() { return indexSetPageSlide( theSlideIndexPage.selectedSlideIndex - theSlideIndexPage.indexColumns ); };
keyCodeDict[INDEX_MODE][DOWN_KEY]
= function() { return indexSetPageSlide( theSlideIndexPage.selectedSlideIndex + theSlideIndexPage.indexColumns ); };
keyCodeDict[INDEX_MODE][PAGE_UP_KEY]
= function() { return indexSetPageSlide( theSlideIndexPage.selectedSlideIndex - theSlideIndexPage.getTotalThumbnails() ); };
keyCodeDict[INDEX_MODE][PAGE_DOWN_KEY]
= function() { return indexSetPageSlide( theSlideIndexPage.selectedSlideIndex + theSlideIndexPage.getTotalThumbnails() ); };
keyCodeDict[INDEX_MODE][HOME_KEY]
= function() { return indexSetPageSlide( 0 ); };
keyCodeDict[INDEX_MODE][END_KEY]
= function() { return indexSetPageSlide( theMetaDoc.nNumberOfSlides - 1 ); };
keyCodeDict[INDEX_MODE][ENTER_KEY]
= function() { return toggleSlideIndex(); };
keyCodeDict[INDEX_MODE][SPACE_KEY]
= function() { return toggleSlideIndex(); };
keyCodeDict[INDEX_MODE][ESCAPE_KEY]
= function() { return abandonIndexMode(); };

return keyCodeDict;
}

function getDefaultCharCodeDictionary()
{
var charCodeDict = {};

charCodeDict[SLIDE_MODE] = {};
charCodeDict[INDEX_MODE] = {};

charCodeDict[SLIDE_MODE]['i']
= function () { return toggleSlideIndex(); };

charCodeDict[INDEX_MODE]['i']
= function () { return toggleSlideIndex(); };
charCodeDict[INDEX_MODE]['-']
= function () { return theSlideIndexPage.decreaseNumberOfColumns(); };
charCodeDict[INDEX_MODE]['=']
= function () { return theSlideIndexPage.increaseNumberOfColumns(); };
charCodeDict[INDEX_MODE]['+']
= function () { return theSlideIndexPage.increaseNumberOfColumns(); };
charCodeDict[INDEX_MODE]['0']
= function () { return theSlideIndexPage.resetNumberOfColumns(); };

return charCodeDict;
}


function slideOnMouseUp( aEvt )
{
if (!aEvt)
aEvt = window.event;

var nOffset = 0;

if( aEvt.button == 0 )
nOffset = 1;
else if( aEvt.button == 2 )
nOffset = -1;

if( 0 != nOffset )
dispatchEffects( nOffset );
return true; // the click has been handled
}

document.handleClick = slideOnMouseUp;


function slideOnMouseWheel(aEvt)
{
var delta = 0;

if (!aEvt)
aEvt = window.event;

if (aEvt.wheelDelta)
{ // IE Opera
delta = aEvt.wheelDelta/120;
}
else if (aEvt.detail)
{ // MOZ
delta = -aEvt.detail/3;
}

if (delta > 0)
skipEffects(-1);
else if (delta < 0)
skipEffects(1);

if (aEvt.preventDefault)
aEvt.preventDefault();

aEvt.returnValue = false;
}

if( window.addEventListener )
{
window.addEventListener( 'DOMMouseScroll', function( aEvt ) { return mouseHandlerDispatch( aEvt, MOUSE_WHEEL ); }, false );
}

window.onmousewheel
= function( aEvt ) { return mouseHandlerDispatch( aEvt, MOUSE_WHEEL ); };

function mouseHandlerDispatch( aEvt, anAction )
{
if( !aEvt )
aEvt = window.event;

var retVal = true;

if ( mouseHandlerDictionary[currentMode] && mouseHandlerDictionary[currentMode][anAction] )
{
var subRetVal = mouseHandlerDictionary[currentMode][anAction]( aEvt );

if( subRetVal != null && subRetVal != undefined )
retVal = subRetVal;
}

if( aEvt.preventDefault && !retVal )
aEvt.preventDefault();

aEvt.returnValue = retVal;

return retVal;
}

document.onmouseup = function( aEvt ) { return mouseHandlerDispatch( aEvt, MOUSE_UP ); };


function mouseClickHelper( aEvt )
{
if( !Detect.isMozilla )
{
var aWindowObject = document.defaultView;
if( aWindowObject )
{
var aTextSelection = aWindowObject.getSelection();
var sSelectedText =  aTextSelection.toString();
if( sSelectedText )
{
DBGLOG( 'text selection: ' + sSelectedText );
if( sLastSelectedText !== sSelectedText )
{
bTextHasBeenSelected = true;
sLastSelectedText = sSelectedText;
}
else
{
bTextHasBeenSelected = false;
}
return null;
}
else if( bTextHasBeenSelected )
{
bTextHasBeenSelected = false;
sLastSelectedText = '';
return null;
}
}
else
{
log( 'error: HyperlinkElement.handleClick: invalid window object.' );
}
}

var aSlideAnimationsHandler = theMetaDoc.aMetaSlideSet[nCurSlide].aSlideAnimationsHandler;
if( aSlideAnimationsHandler )
{
var aCurrentEventMultiplexer = aSlideAnimationsHandler.aEventMultiplexer;
if( aCurrentEventMultiplexer )
{
if( aCurrentEventMultiplexer.hasRegisteredMouseClickHandlers() )
{
return aCurrentEventMultiplexer.notifyMouseClick( aEvt );
}
}
}
return slideOnMouseUp( aEvt );
}


function getDefaultMouseHandlerDictionary()
{
var mouseHandlerDict = {};

mouseHandlerDict[SLIDE_MODE] = {};
mouseHandlerDict[INDEX_MODE] = {};

mouseHandlerDict[SLIDE_MODE][MOUSE_UP]
= mouseClickHelper;

mouseHandlerDict[SLIDE_MODE][MOUSE_WHEEL]
= function( aEvt ) { return slideOnMouseWheel( aEvt ); };

mouseHandlerDict[INDEX_MODE][MOUSE_UP]
= function( ) { return toggleSlideIndex(); };

return mouseHandlerDict;
}

function indexSetPageSlide( nIndex )
{
var aMetaSlideSet = theMetaDoc.aMetaSlideSet;
nIndex = getSafeIndex( nIndex, 0, aMetaSlideSet.length - 1 );

var nSelectedThumbnailIndex = nIndex % theSlideIndexPage.getTotalThumbnails();
var offset = nIndex - nSelectedThumbnailIndex;

if( offset < 0 )
offset = 0;

if( offset != INDEX_OFFSET )
{
INDEX_OFFSET = offset;
displayIndex( INDEX_OFFSET );
}

theSlideIndexPage.setSelection( nSelectedThumbnailIndex );
}


/*****
* @jessyinkend
*
*  The above code is a derivative work of some parts of the JessyInk project.
*  @source http://code.google.com/p/jessyink/
*/


/*****
* @licstart
*
* The following is the license notice for the part of JavaScript code of this
* page included between the '@dojostart' and the '@dojoend' notes.
*/

/*****  **********************************************************************
*
*  The 'New' BSD License:
*  **********************
*  Copyright (c) 2005-2012, The Dojo Foundation
*  All rights reserved.
*
*  Redistribution and use in source and binary forms, with or without
*  modification, are permitted provided that the following conditions are met:
*
*    * Redistributions of source code must retain the above copyright notice,
*      this list of conditions and the following disclaimer.
*    * Redistributions in binary form must reproduce the above copyright notice,
*      this list of conditions and the following disclaimer in the documentation
*      and/or other materials provided with the distribution.
*    * Neither the name of the Dojo Foundation nor the names of its contributors
*      may be used to endorse or promote products derived from this software
*      without specific prior written permission.
*
*  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS 'AS IS' AND
*  ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
*  WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
*  DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE
*  FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
*  DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
*  SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
*  CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
*  OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
*  OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*
****************************************************************************/


/*****
* @licend
*
* The above is the license notice for the part of JavaScript code of this
* page included between the '@dojostart' and the '@dojoend' notes.
*/


/*****
* @dojostart
*
*  The following code is a derivative work of some part of the dojox.gfx library.
*  @source http://svn.dojotoolkit.org/src/dojox/trunk/_base/sniff.js
*/

function has( name )
{
return has.cache[name];
}

has.cache = {};

has.add = function( name, test )
{
has.cache[name] = test;
};

function configureDetectionTools()
{
if( !navigator )
{
log( 'error: configureDetectionTools: configuration failed' );
return null;
}

var n = navigator,
dua = n.userAgent,
dav = n.appVersion,
tv = parseFloat(dav);

has.add('air', dua.indexOf('AdobeAIR') >= 0);
has.add('khtml', dav.indexOf('Konqueror') >= 0 ? tv : undefined);
has.add('webkit', parseFloat(dua.split('WebKit/')[1]) || undefined);
has.add('chrome', parseFloat(dua.split('Chrome/')[1]) || undefined);
has.add('safari', dav.indexOf('Safari')>=0 && !has('chrome') ? parseFloat(dav.split('Version/')[1]) : undefined);
has.add('mac', dav.indexOf('Macintosh') >= 0);
has.add('quirks', document.compatMode == 'BackCompat');
has.add('ios', /iPhone|iPod|iPad/.test(dua));
has.add('android', parseFloat(dua.split('Android ')[1]) || undefined);

if(!has('webkit')){
if(dua.indexOf('Opera') >= 0){
has.add('opera', tv >= 9.8 ? parseFloat(dua.split('Version/')[1]) || tv : tv);
}

if(dua.indexOf('Gecko') >= 0 && !has('khtml') && !has('webkit')){
has.add('mozilla', tv);
}
if(has('mozilla')){
has.add('ff', parseFloat(dua.split('Firefox/')[1] || dua.split('Minefield/')[1]) || undefined);
}

if(document.all && !has('opera')){
var isIE = parseFloat(dav.split('MSIE ')[1]) || undefined;

var mode = document.documentMode;
if(mode && mode != 5 && Math.floor(isIE) != mode){
isIE = mode;
}

has.add('ie', isIE);
}

has.add('wii', typeof opera != 'undefined' && opera.wiiremote);
}

var detect =
{
isFF: has('ff'),

isIE: has('ie'),

isKhtml: has('khtml'),

isWebKit: has('webkit'),

isMozilla: has('mozilla'),
isMoz: has('mozilla'),

isOpera: has('opera'),

isSafari: has('safari'),

isChrome: has('chrome'),

isMac: has('mac'),

isIos: has('ios'),

isAndroid: has('android'),

isWii: has('wii'),

isQuirks: has('quirks'),

isAir: has('air')
};
return detect;
}

/*****
* @dojoend
*
*  The above code is a derivative work of some part of the dojox.gfx library.
*  @source http://svn.dojotoolkit.org/src/dojox/trunk/_base/sniff.js
*/

/*****
* @licstart
*
* The following is the license notice for the part of JavaScript code of this
* file included between the '@svgpathstart' and the '@svgpathend' notes.
*/

/*****  **********************************************************************
*
*   Copyright 2015 The Chromium Authors. All rights reserved.
*
*   The Chromium Authors can be found at
*   http://src.chromium.org/svn/trunk/src/AUTHORS
*
*   Redistribution and use in source and binary forms, with or without
*   modification, are permitted provided that the following conditions are
*   met:
*
*   * Redistributions of source code must retain the above copyright
*   notice, this list of conditions and the following disclaimer.
*   * Redistributions in binary form must reproduce the above
*   copyright notice, this list of conditions and the following disclaimer
*   in the documentation and/or other materials provided with the
*   distribution.
*   * Neither the name of Google Inc. nor the names of its
*   contributors may be used to endorse or promote products derived from
*   this software without specific prior written permission.
*
*   THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
*   'AS IS' AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
*   LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
*   A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
*   OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
*   SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
*   LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
*   DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
*   THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
*   (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
*   OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*
****************************************************************************/

/*****
* @licend
*
* The above is the license notice for the part of JavaScript code of this
* file included between the '@svgpathstart' and the '@svgpathend' notes.
*/


/*****
* @svgpathstart
*
*  The following code is a derivative work of some part of the SVGPathSeg API.
*
*  This API is a drop-in replacement for the SVGPathSeg and SVGPathSegList APIs that were removed from
*  SVG2 (https://lists.w3.org/Archives/Public/www-svg/2015Jun/0044.html), including the latest spec
*  changes which were implemented in Firefox 43 and Chrome 46.
*
*  @source https://github.com/progers/pathseg
*/

(function() { 'use strict';
if (!('SVGPathSeg' in window)) {
window.SVGPathSeg = function(type, typeAsLetter, owningPathSegList) {
this.pathSegType = type;
this.pathSegTypeAsLetter = typeAsLetter;
this._owningPathSegList = owningPathSegList;
}

window.SVGPathSeg.prototype.classname = 'SVGPathSeg';

window.SVGPathSeg.PATHSEG_UNKNOWN = 0;
window.SVGPathSeg.PATHSEG_CLOSEPATH = 1;
window.SVGPathSeg.PATHSEG_MOVETO_ABS = 2;
window.SVGPathSeg.PATHSEG_MOVETO_REL = 3;
window.SVGPathSeg.PATHSEG_LINETO_ABS = 4;
window.SVGPathSeg.PATHSEG_LINETO_REL = 5;
window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS = 6;
window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL = 7;
window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS = 8;
window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL = 9;
window.SVGPathSeg.PATHSEG_ARC_ABS = 10;
window.SVGPathSeg.PATHSEG_ARC_REL = 11;
window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS = 12;
window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL = 13;
window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS = 14;
window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL = 15;
window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS = 16;
window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL = 17;
window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS = 18;
window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL = 19;

window.SVGPathSeg.prototype._segmentChanged = function() {
if (this._owningPathSegList)
this._owningPathSegList.segmentChanged(this);
}

window.SVGPathSegClosePath = function(owningPathSegList) {
window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_CLOSEPATH, 'z', owningPathSegList);
}
window.SVGPathSegClosePath.prototype = Object.create(window.SVGPathSeg.prototype);
window.SVGPathSegClosePath.prototype.toString = function() { return '[object SVGPathSegClosePath]'; }
window.SVGPathSegClosePath.prototype._asPathString = function() { return this.pathSegTypeAsLetter; }
window.SVGPathSegClosePath.prototype.clone = function() { return new window.SVGPathSegClosePath(undefined); }

window.SVGPathSegMovetoAbs = function(owningPathSegList, x, y) {
window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_MOVETO_ABS, 'M', owningPathSegList);
this._x = x;
this._y = y;
}
window.SVGPathSegMovetoAbs.prototype = Object.create(window.SVGPathSeg.prototype);
window.SVGPathSegMovetoAbs.prototype.toString = function() { return '[object SVGPathSegMovetoAbs]'; }
window.SVGPathSegMovetoAbs.prototype._asPathString = function() { return this.pathSegTypeAsLetter + ' ' + this._x + ' ' + this._y; }
window.SVGPathSegMovetoAbs.prototype.clone = function() { return new window.SVGPathSegMovetoAbs(undefined, this._x, this._y); }
Object.defineProperty(window.SVGPathSegMovetoAbs.prototype, 'x', { get: function() { return this._x; }, set: function(x) { this._x = x; this._segmentChanged(); }, enumerable: true });
Object.defineProperty(window.SVGPathSegMovetoAbs.prototype, 'y', { get: function() { return this._y; }, set: function(y) { this._y = y; this._segmentChanged(); }, enumerable: true });

window.SVGPathSegMovetoRel = function(owningPathSegList, x, y) {
window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_MOVETO_REL, 'm', owningPathSegList);
this._x = x;
this._y = y;
}
window.SVGPathSegMovetoRel.prototype = Object.create(window.SVGPathSeg.prototype);
window.SVGPathSegMovetoRel.prototype.toString = function() { return '[object SVGPathSegMovetoRel]'; }
window.SVGPathSegMovetoRel.prototype._asPathString = function() { return this.pathSegTypeAsLetter + ' ' + this._x + ' ' + this._y; }
window.SVGPathSegMovetoRel.prototype.clone = function() { return new window.SVGPathSegMovetoRel(undefined, this._x, this._y); }
Object.defineProperty(window.SVGPathSegMovetoRel.prototype, 'x', { get: function() { return this._x; }, set: function(x) { this._x = x; this._segmentChanged(); }, enumerable: true });
Object.defineProperty(window.SVGPathSegMovetoRel.prototype, 'y', { get: function() { return this._y; }, set: function(y) { this._y = y; this._segmentChanged(); }, enumerable: true });

window.SVGPathSegLinetoAbs = function(owningPathSegList, x, y) {
window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_LINETO_ABS, 'L', owningPathSegList);
this._x = x;
this._y = y;
}
window.SVGPathSegLinetoAbs.prototype = Object.create(window.SVGPathSeg.prototype);
window.SVGPathSegLinetoAbs.prototype.toString = function() { return '[object SVGPathSegLinetoAbs]'; }
window.SVGPathSegLinetoAbs.prototype._asPathString = function() { return this.pathSegTypeAsLetter + ' ' + this._x + ' ' + this._y; }
window.SVGPathSegLinetoAbs.prototype.clone = function() { return new window.SVGPathSegLinetoAbs(undefined, this._x, this._y); }
Object.defineProperty(window.SVGPathSegLinetoAbs.prototype, 'x', { get: function() { return this._x; }, set: function(x) { this._x = x; this._segmentChanged(); }, enumerable: true });
Object.defineProperty(window.SVGPathSegLinetoAbs.prototype, 'y', { get: function() { return this._y; }, set: function(y) { this._y = y; this._segmentChanged(); }, enumerable: true });

window.SVGPathSegLinetoRel = function(owningPathSegList, x, y) {
window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_LINETO_REL, 'l', owningPathSegList);
this._x = x;
this._y = y;
}
window.SVGPathSegLinetoRel.prototype = Object.create(window.SVGPathSeg.prototype);
window.SVGPathSegLinetoRel.prototype.toString = function() { return '[object SVGPathSegLinetoRel]'; }
window.SVGPathSegLinetoRel.prototype._asPathString = function() { return this.pathSegTypeAsLetter + ' ' + this._x + ' ' + this._y; }
window.SVGPathSegLinetoRel.prototype.clone = function() { return new window.SVGPathSegLinetoRel(undefined, this._x, this._y); }
Object.defineProperty(window.SVGPathSegLinetoRel.prototype, 'x', { get: function() { return this._x; }, set: function(x) { this._x = x; this._segmentChanged(); }, enumerable: true });
Object.defineProperty(window.SVGPathSegLinetoRel.prototype, 'y', { get: function() { return this._y; }, set: function(y) { this._y = y; this._segmentChanged(); }, enumerable: true });

window.SVGPathSegCurvetoCubicAbs = function(owningPathSegList, x, y, x1, y1, x2, y2) {
window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS, 'C', owningPathSegList);
this._x = x;
this._y = y;
this._x1 = x1;
this._y1 = y1;
this._x2 = x2;
this._y2 = y2;
}
window.SVGPathSegCurvetoCubicAbs.prototype = Object.create(window.SVGPathSeg.prototype);
window.SVGPathSegCurvetoCubicAbs.prototype.toString = function() { return '[object SVGPathSegCurvetoCubicAbs]'; }
window.SVGPathSegCurvetoCubicAbs.prototype._asPathString = function() { return this.pathSegTypeAsLetter + ' ' + this._x1 + ' ' + this._y1 + ' ' + this._x2 + ' ' + this._y2 + ' ' + this._x + ' ' + this._y; }
window.SVGPathSegCurvetoCubicAbs.prototype.clone = function() { return new window.SVGPathSegCurvetoCubicAbs(undefined, this._x, this._y, this._x1, this._y1, this._x2, this._y2); }
Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype, 'x', { get: function() { return this._x; }, set: function(x) { this._x = x; this._segmentChanged(); }, enumerable: true });
Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype, 'y', { get: function() { return this._y; }, set: function(y) { this._y = y; this._segmentChanged(); }, enumerable: true });
Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype, 'x1', { get: function() { return this._x1; }, set: function(x1) { this._x1 = x1; this._segmentChanged(); }, enumerable: true });
Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype, 'y1', { get: function() { return this._y1; }, set: function(y1) { this._y1 = y1; this._segmentChanged(); }, enumerable: true });
Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype, 'x2', { get: function() { return this._x2; }, set: function(x2) { this._x2 = x2; this._segmentChanged(); }, enumerable: true });
Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype, 'y2', { get: function() { return this._y2; }, set: function(y2) { this._y2 = y2; this._segmentChanged(); }, enumerable: true });

window.SVGPathSegCurvetoCubicRel = function(owningPathSegList, x, y, x1, y1, x2, y2) {
window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL, 'c', owningPathSegList);
this._x = x;
this._y = y;
this._x1 = x1;
this._y1 = y1;
this._x2 = x2;
this._y2 = y2;
}
window.SVGPathSegCurvetoCubicRel.prototype = Object.create(window.SVGPathSeg.prototype);
window.SVGPathSegCurvetoCubicRel.prototype.toString = function() { return '[object SVGPathSegCurvetoCubicRel]'; }
window.SVGPathSegCurvetoCubicRel.prototype._asPathString = function() { return this.pathSegTypeAsLetter + ' ' + this._x1 + ' ' + this._y1 + ' ' + this._x2 + ' ' + this._y2 + ' ' + this._x + ' ' + this._y; }
window.SVGPathSegCurvetoCubicRel.prototype.clone = function() { return new window.SVGPathSegCurvetoCubicRel(undefined, this._x, this._y, this._x1, this._y1, this._x2, this._y2); }
Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype, 'x', { get: function() { return this._x; }, set: function(x) { this._x = x; this._segmentChanged(); }, enumerable: true });
Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype, 'y', { get: function() { return this._y; }, set: function(y) { this._y = y; this._segmentChanged(); }, enumerable: true });
Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype, 'x1', { get: function() { return this._x1; }, set: function(x1) { this._x1 = x1; this._segmentChanged(); }, enumerable: true });
Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype, 'y1', { get: function() { return this._y1; }, set: function(y1) { this._y1 = y1; this._segmentChanged(); }, enumerable: true });
Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype, 'x2', { get: function() { return this._x2; }, set: function(x2) { this._x2 = x2; this._segmentChanged(); }, enumerable: true });
Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype, 'y2', { get: function() { return this._y2; }, set: function(y2) { this._y2 = y2; this._segmentChanged(); }, enumerable: true });

window.SVGPathSegCurvetoQuadraticAbs = function(owningPathSegList, x, y, x1, y1) {
window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS, 'Q', owningPathSegList);
this._x = x;
this._y = y;
this._x1 = x1;
this._y1 = y1;
}
window.SVGPathSegCurvetoQuadraticAbs.prototype = Object.create(window.SVGPathSeg.prototype);
window.SVGPathSegCurvetoQuadraticAbs.prototype.toString = function() { return '[object SVGPathSegCurvetoQuadraticAbs]'; }
window.SVGPathSegCurvetoQuadraticAbs.prototype._asPathString = function() { return this.pathSegTypeAsLetter + ' ' + this._x1 + ' ' + this._y1 + ' ' + this._x + ' ' + this._y; }
window.SVGPathSegCurvetoQuadraticAbs.prototype.clone = function() { return new window.SVGPathSegCurvetoQuadraticAbs(undefined, this._x, this._y, this._x1, this._y1); }
Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype, 'x', { get: function() { return this._x; }, set: function(x) { this._x = x; this._segmentChanged(); }, enumerable: true });
Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype, 'y', { get: function() { return this._y; }, set: function(y) { this._y = y; this._segmentChanged(); }, enumerable: true });
Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype, 'x1', { get: function() { return this._x1; }, set: function(x1) { this._x1 = x1; this._segmentChanged(); }, enumerable: true });
Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype, 'y1', { get: function() { return this._y1; }, set: function(y1) { this._y1 = y1; this._segmentChanged(); }, enumerable: true });

window.SVGPathSegCurvetoQuadraticRel = function(owningPathSegList, x, y, x1, y1) {
window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL, 'q', owningPathSegList);
this._x = x;
this._y = y;
this._x1 = x1;
this._y1 = y1;
}
window.SVGPathSegCurvetoQuadraticRel.prototype = Object.create(window.SVGPathSeg.prototype);
window.SVGPathSegCurvetoQuadraticRel.prototype.toString = function() { return '[object SVGPathSegCurvetoQuadraticRel]'; }
window.SVGPathSegCurvetoQuadraticRel.prototype._asPathString = function() { return this.pathSegTypeAsLetter + ' ' + this._x1 + ' ' + this._y1 + ' ' + this._x + ' ' + this._y; }
window.SVGPathSegCurvetoQuadraticRel.prototype.clone = function() { return new window.SVGPathSegCurvetoQuadraticRel(undefined, this._x, this._y, this._x1, this._y1); }
Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype, 'x', { get: function() { return this._x; }, set: function(x) { this._x = x; this._segmentChanged(); }, enumerable: true });
Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype, 'y', { get: function() { return this._y; }, set: function(y) { this._y = y; this._segmentChanged(); }, enumerable: true });
Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype, 'x1', { get: function() { return this._x1; }, set: function(x1) { this._x1 = x1; this._segmentChanged(); }, enumerable: true });
Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype, 'y1', { get: function() { return this._y1; }, set: function(y1) { this._y1 = y1; this._segmentChanged(); }, enumerable: true });

window.SVGPathSegArcAbs = function(owningPathSegList, x, y, r1, r2, angle, largeArcFlag, sweepFlag) {
window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_ARC_ABS, 'A', owningPathSegList);
this._x = x;
this._y = y;
this._r1 = r1;
this._r2 = r2;
this._angle = angle;
this._largeArcFlag = largeArcFlag;
this._sweepFlag = sweepFlag;
}
window.SVGPathSegArcAbs.prototype = Object.create(window.SVGPathSeg.prototype);
window.SVGPathSegArcAbs.prototype.toString = function() { return '[object SVGPathSegArcAbs]'; }
window.SVGPathSegArcAbs.prototype._asPathString = function() { return this.pathSegTypeAsLetter + ' ' + this._r1 + ' ' + this._r2 + ' ' + this._angle + ' ' + (this._largeArcFlag ? '1' : '0') + ' ' + (this._sweepFlag ? '1' : '0') + ' ' + this._x + ' ' + this._y; }
window.SVGPathSegArcAbs.prototype.clone = function() { return new window.SVGPathSegArcAbs(undefined, this._x, this._y, this._r1, this._r2, this._angle, this._largeArcFlag, this._sweepFlag); }
Object.defineProperty(window.SVGPathSegArcAbs.prototype, 'x', { get: function() { return this._x; }, set: function(x) { this._x = x; this._segmentChanged(); }, enumerable: true });
Object.defineProperty(window.SVGPathSegArcAbs.prototype, 'y', { get: function() { return this._y; }, set: function(y) { this._y = y; this._segmentChanged(); }, enumerable: true });
Object.defineProperty(window.SVGPathSegArcAbs.prototype, 'r1', { get: function() { return this._r1; }, set: function(r1) { this._r1 = r1; this._segmentChanged(); }, enumerable: true });
Object.defineProperty(window.SVGPathSegArcAbs.prototype, 'r2', { get: function() { return this._r2; }, set: function(r2) { this._r2 = r2; this._segmentChanged(); }, enumerable: true });
Object.defineProperty(window.SVGPathSegArcAbs.prototype, 'angle', { get: function() { return this._angle; }, set: function(angle) { this._angle = angle; this._segmentChanged(); }, enumerable: true });
Object.defineProperty(window.SVGPathSegArcAbs.prototype, 'largeArcFlag', { get: function() { return this._largeArcFlag; }, set: function(largeArcFlag) { this._largeArcFlag = largeArcFlag; this._segmentChanged(); }, enumerable: true });
Object.defineProperty(window.SVGPathSegArcAbs.prototype, 'sweepFlag', { get: function() { return this._sweepFlag; }, set: function(sweepFlag) { this._sweepFlag = sweepFlag; this._segmentChanged(); }, enumerable: true });

window.SVGPathSegArcRel = function(owningPathSegList, x, y, r1, r2, angle, largeArcFlag, sweepFlag) {
window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_ARC_REL, 'a', owningPathSegList);
this._x = x;
this._y = y;
this._r1 = r1;
this._r2 = r2;
this._angle = angle;
this._largeArcFlag = largeArcFlag;
this._sweepFlag = sweepFlag;
}
window.SVGPathSegArcRel.prototype = Object.create(window.SVGPathSeg.prototype);
window.SVGPathSegArcRel.prototype.toString = function() { return '[object SVGPathSegArcRel]'; }
window.SVGPathSegArcRel.prototype._asPathString = function() { return this.pathSegTypeAsLetter + ' ' + this._r1 + ' ' + this._r2 + ' ' + this._angle + ' ' + (this._largeArcFlag ? '1' : '0') + ' ' + (this._sweepFlag ? '1' : '0') + ' ' + this._x + ' ' + this._y; }
window.SVGPathSegArcRel.prototype.clone = function() { return new window.SVGPathSegArcRel(undefined, this._x, this._y, this._r1, this._r2, this._angle, this._largeArcFlag, this._sweepFlag); }
Object.defineProperty(window.SVGPathSegArcRel.prototype, 'x', { get: function() { return this._x; }, set: function(x) { this._x = x; this._segmentChanged(); }, enumerable: true });
Object.defineProperty(window.SVGPathSegArcRel.prototype, 'y', { get: function() { return this._y; }, set: function(y) { this._y = y; this._segmentChanged(); }, enumerable: true });
Object.defineProperty(window.SVGPathSegArcRel.prototype, 'r1', { get: function() { return this._r1; }, set: function(r1) { this._r1 = r1; this._segmentChanged(); }, enumerable: true });
Object.defineProperty(window.SVGPathSegArcRel.prototype, 'r2', { get: function() { return this._r2; }, set: function(r2) { this._r2 = r2; this._segmentChanged(); }, enumerable: true });
Object.defineProperty(window.SVGPathSegArcRel.prototype, 'angle', { get: function() { return this._angle; }, set: function(angle) { this._angle = angle; this._segmentChanged(); }, enumerable: true });
Object.defineProperty(window.SVGPathSegArcRel.prototype, 'largeArcFlag', { get: function() { return this._largeArcFlag; }, set: function(largeArcFlag) { this._largeArcFlag = largeArcFlag; this._segmentChanged(); }, enumerable: true });
Object.defineProperty(window.SVGPathSegArcRel.prototype, 'sweepFlag', { get: function() { return this._sweepFlag; }, set: function(sweepFlag) { this._sweepFlag = sweepFlag; this._segmentChanged(); }, enumerable: true });

window.SVGPathSegLinetoHorizontalAbs = function(owningPathSegList, x) {
window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS, 'H', owningPathSegList);
this._x = x;
}
window.SVGPathSegLinetoHorizontalAbs.prototype = Object.create(window.SVGPathSeg.prototype);
window.SVGPathSegLinetoHorizontalAbs.prototype.toString = function() { return '[object SVGPathSegLinetoHorizontalAbs]'; }
window.SVGPathSegLinetoHorizontalAbs.prototype._asPathString = function() { return this.pathSegTypeAsLetter + ' ' + this._x; }
window.SVGPathSegLinetoHorizontalAbs.prototype.clone = function() { return new window.SVGPathSegLinetoHorizontalAbs(undefined, this._x); }
Object.defineProperty(window.SVGPathSegLinetoHorizontalAbs.prototype, 'x', { get: function() { return this._x; }, set: function(x) { this._x = x; this._segmentChanged(); }, enumerable: true });

window.SVGPathSegLinetoHorizontalRel = function(owningPathSegList, x) {
window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL, 'h', owningPathSegList);
this._x = x;
}
window.SVGPathSegLinetoHorizontalRel.prototype = Object.create(window.SVGPathSeg.prototype);
window.SVGPathSegLinetoHorizontalRel.prototype.toString = function() { return '[object SVGPathSegLinetoHorizontalRel]'; }
window.SVGPathSegLinetoHorizontalRel.prototype._asPathString = function() { return this.pathSegTypeAsLetter + ' ' + this._x; }
window.SVGPathSegLinetoHorizontalRel.prototype.clone = function() { return new window.SVGPathSegLinetoHorizontalRel(undefined, this._x); }
Object.defineProperty(window.SVGPathSegLinetoHorizontalRel.prototype, 'x', { get: function() { return this._x; }, set: function(x) { this._x = x; this._segmentChanged(); }, enumerable: true });

window.SVGPathSegLinetoVerticalAbs = function(owningPathSegList, y) {
window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS, 'V', owningPathSegList);
this._y = y;
}
window.SVGPathSegLinetoVerticalAbs.prototype = Object.create(window.SVGPathSeg.prototype);
window.SVGPathSegLinetoVerticalAbs.prototype.toString = function() { return '[object SVGPathSegLinetoVerticalAbs]'; }
window.SVGPathSegLinetoVerticalAbs.prototype._asPathString = function() { return this.pathSegTypeAsLetter + ' ' + this._y; }
window.SVGPathSegLinetoVerticalAbs.prototype.clone = function() { return new window.SVGPathSegLinetoVerticalAbs(undefined, this._y); }
Object.defineProperty(window.SVGPathSegLinetoVerticalAbs.prototype, 'y', { get: function() { return this._y; }, set: function(y) { this._y = y; this._segmentChanged(); }, enumerable: true });

window.SVGPathSegLinetoVerticalRel = function(owningPathSegList, y) {
window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL, 'v', owningPathSegList);
this._y = y;
}
window.SVGPathSegLinetoVerticalRel.prototype = Object.create(window.SVGPathSeg.prototype);
window.SVGPathSegLinetoVerticalRel.prototype.toString = function() { return '[object SVGPathSegLinetoVerticalRel]'; }
window.SVGPathSegLinetoVerticalRel.prototype._asPathString = function() { return this.pathSegTypeAsLetter + ' ' + this._y; }
window.SVGPathSegLinetoVerticalRel.prototype.clone = function() { return new window.SVGPathSegLinetoVerticalRel(undefined, this._y); }
Object.defineProperty(window.SVGPathSegLinetoVerticalRel.prototype, 'y', { get: function() { return this._y; }, set: function(y) { this._y = y; this._segmentChanged(); }, enumerable: true });

window.SVGPathSegCurvetoCubicSmoothAbs = function(owningPathSegList, x, y, x2, y2) {
window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS, 'S', owningPathSegList);
this._x = x;
this._y = y;
this._x2 = x2;
this._y2 = y2;
}
window.SVGPathSegCurvetoCubicSmoothAbs.prototype = Object.create(window.SVGPathSeg.prototype);
window.SVGPathSegCurvetoCubicSmoothAbs.prototype.toString = function() { return '[object SVGPathSegCurvetoCubicSmoothAbs]'; }
window.SVGPathSegCurvetoCubicSmoothAbs.prototype._asPathString = function() { return this.pathSegTypeAsLetter + ' ' + this._x2 + ' ' + this._y2 + ' ' + this._x + ' ' + this._y; }
window.SVGPathSegCurvetoCubicSmoothAbs.prototype.clone = function() { return new window.SVGPathSegCurvetoCubicSmoothAbs(undefined, this._x, this._y, this._x2, this._y2); }
Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype, 'x', { get: function() { return this._x; }, set: function(x) { this._x = x; this._segmentChanged(); }, enumerable: true });
Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype, 'y', { get: function() { return this._y; }, set: function(y) { this._y = y; this._segmentChanged(); }, enumerable: true });
Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype, 'x2', { get: function() { return this._x2; }, set: function(x2) { this._x2 = x2; this._segmentChanged(); }, enumerable: true });
Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype, 'y2', { get: function() { return this._y2; }, set: function(y2) { this._y2 = y2; this._segmentChanged(); }, enumerable: true });

window.SVGPathSegCurvetoCubicSmoothRel = function(owningPathSegList, x, y, x2, y2) {
window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL, 's', owningPathSegList);
this._x = x;
this._y = y;
this._x2 = x2;
this._y2 = y2;
}
window.SVGPathSegCurvetoCubicSmoothRel.prototype = Object.create(window.SVGPathSeg.prototype);
window.SVGPathSegCurvetoCubicSmoothRel.prototype.toString = function() { return '[object SVGPathSegCurvetoCubicSmoothRel]'; }
window.SVGPathSegCurvetoCubicSmoothRel.prototype._asPathString = function() { return this.pathSegTypeAsLetter + ' ' + this._x2 + ' ' + this._y2 + ' ' + this._x + ' ' + this._y; }
window.SVGPathSegCurvetoCubicSmoothRel.prototype.clone = function() { return new window.SVGPathSegCurvetoCubicSmoothRel(undefined, this._x, this._y, this._x2, this._y2); }
Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype, 'x', { get: function() { return this._x; }, set: function(x) { this._x = x; this._segmentChanged(); }, enumerable: true });
Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype, 'y', { get: function() { return this._y; }, set: function(y) { this._y = y; this._segmentChanged(); }, enumerable: true });
Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype, 'x2', { get: function() { return this._x2; }, set: function(x2) { this._x2 = x2; this._segmentChanged(); }, enumerable: true });
Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype, 'y2', { get: function() { return this._y2; }, set: function(y2) { this._y2 = y2; this._segmentChanged(); }, enumerable: true });

window.SVGPathSegCurvetoQuadraticSmoothAbs = function(owningPathSegList, x, y) {
window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS, 'T', owningPathSegList);
this._x = x;
this._y = y;
}
window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype = Object.create(window.SVGPathSeg.prototype);
window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.toString = function() { return '[object SVGPathSegCurvetoQuadraticSmoothAbs]'; }
window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype._asPathString = function() { return this.pathSegTypeAsLetter + ' ' + this._x + ' ' + this._y; }
window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.clone = function() { return new window.SVGPathSegCurvetoQuadraticSmoothAbs(undefined, this._x, this._y); }
Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype, 'x', { get: function() { return this._x; }, set: function(x) { this._x = x; this._segmentChanged(); }, enumerable: true });
Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype, 'y', { get: function() { return this._y; }, set: function(y) { this._y = y; this._segmentChanged(); }, enumerable: true });

window.SVGPathSegCurvetoQuadraticSmoothRel = function(owningPathSegList, x, y) {
window.SVGPathSeg.call(this, window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL, 't', owningPathSegList);
this._x = x;
this._y = y;
}
window.SVGPathSegCurvetoQuadraticSmoothRel.prototype = Object.create(window.SVGPathSeg.prototype);
window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.toString = function() { return '[object SVGPathSegCurvetoQuadraticSmoothRel]'; }
window.SVGPathSegCurvetoQuadraticSmoothRel.prototype._asPathString = function() { return this.pathSegTypeAsLetter + ' ' + this._x + ' ' + this._y; }
window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.clone = function() { return new window.SVGPathSegCurvetoQuadraticSmoothRel(undefined, this._x, this._y); }
Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype, 'x', { get: function() { return this._x; }, set: function(x) { this._x = x; this._segmentChanged(); }, enumerable: true });
Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype, 'y', { get: function() { return this._y; }, set: function(y) { this._y = y; this._segmentChanged(); }, enumerable: true });

window.SVGPathElement.prototype.createSVGPathSegClosePath = function() { return new window.SVGPathSegClosePath(undefined); }
window.SVGPathElement.prototype.createSVGPathSegMovetoAbs = function(x, y) { return new window.SVGPathSegMovetoAbs(undefined, x, y); }
window.SVGPathElement.prototype.createSVGPathSegMovetoRel = function(x, y) { return new window.SVGPathSegMovetoRel(undefined, x, y); }
window.SVGPathElement.prototype.createSVGPathSegLinetoAbs = function(x, y) { return new window.SVGPathSegLinetoAbs(undefined, x, y); }
window.SVGPathElement.prototype.createSVGPathSegLinetoRel = function(x, y) { return new window.SVGPathSegLinetoRel(undefined, x, y); }
window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicAbs = function(x, y, x1, y1, x2, y2) { return new window.SVGPathSegCurvetoCubicAbs(undefined, x, y, x1, y1, x2, y2); }
window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicRel = function(x, y, x1, y1, x2, y2) { return new window.SVGPathSegCurvetoCubicRel(undefined, x, y, x1, y1, x2, y2); }
window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticAbs = function(x, y, x1, y1) { return new window.SVGPathSegCurvetoQuadraticAbs(undefined, x, y, x1, y1); }
window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticRel = function(x, y, x1, y1) { return new window.SVGPathSegCurvetoQuadraticRel(undefined, x, y, x1, y1); }
window.SVGPathElement.prototype.createSVGPathSegArcAbs = function(x, y, r1, r2, angle, largeArcFlag, sweepFlag) { return new window.SVGPathSegArcAbs(undefined, x, y, r1, r2, angle, largeArcFlag, sweepFlag); }
window.SVGPathElement.prototype.createSVGPathSegArcRel = function(x, y, r1, r2, angle, largeArcFlag, sweepFlag) { return new window.SVGPathSegArcRel(undefined, x, y, r1, r2, angle, largeArcFlag, sweepFlag); }
window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalAbs = function(x) { return new window.SVGPathSegLinetoHorizontalAbs(undefined, x); }
window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalRel = function(x) { return new window.SVGPathSegLinetoHorizontalRel(undefined, x); }
window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalAbs = function(y) { return new window.SVGPathSegLinetoVerticalAbs(undefined, y); }
window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalRel = function(y) { return new window.SVGPathSegLinetoVerticalRel(undefined, y); }
window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothAbs = function(x, y, x2, y2) { return new window.SVGPathSegCurvetoCubicSmoothAbs(undefined, x, y, x2, y2); }
window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothRel = function(x, y, x2, y2) { return new window.SVGPathSegCurvetoCubicSmoothRel(undefined, x, y, x2, y2); }
window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothAbs = function(x, y) { return new window.SVGPathSegCurvetoQuadraticSmoothAbs(undefined, x, y); }
window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothRel = function(x, y) { return new window.SVGPathSegCurvetoQuadraticSmoothRel(undefined, x, y); }

if (!('getPathSegAtLength' in window.SVGPathElement.prototype)) {
window.SVGPathElement.prototype.getPathSegAtLength = function(distance) {
if (distance === undefined || !isFinite(distance))
throw 'Invalid arguments.';

var measurementElement = document.createElementNS('http://www.w3.org/2000/svg', 'path');
measurementElement.setAttribute('d', this.getAttribute('d'));
var lastPathSegment = measurementElement.pathSegList.numberOfItems - 1;

if (lastPathSegment <= 0)
return 0;

do {
measurementElement.pathSegList.removeItem(lastPathSegment);
if (distance > measurementElement.getTotalLength())
break;
lastPathSegment--;
} while (lastPathSegment > 0);
return lastPathSegment;
}
}
}

if (!('SVGPathSegList' in window) || !('appendItem' in window.SVGPathSegList.prototype)) {
window.SVGPathSegList = function(pathElement) {
this._pathElement = pathElement;
this._list = this._parsePath(this._pathElement.getAttribute('d'));

this._mutationObserverConfig = { 'attributes': true, 'attributeFilter': ['d'] };
this._pathElementMutationObserver = new MutationObserver(this._updateListFromPathMutations.bind(this));
this._pathElementMutationObserver.observe(this._pathElement, this._mutationObserverConfig);
}

window.SVGPathSegList.prototype.classname = 'SVGPathSegList';

Object.defineProperty(window.SVGPathSegList.prototype, 'numberOfItems', {
get: function() {
this._checkPathSynchronizedToList();
return this._list.length;
},
enumerable: true
});

Object.defineProperty(window.SVGPathSegList.prototype, 'length', {
get: function() {
this._checkPathSynchronizedToList();
return this._list.length;
},
enumerable: true
});

Object.defineProperty(window.SVGPathElement.prototype, 'pathSegList', {
get: function() {
if (!this._pathSegList)
this._pathSegList = new window.SVGPathSegList(this);
return this._pathSegList;
},
enumerable: true
});
Object.defineProperty(window.SVGPathElement.prototype, 'normalizedPathSegList', { get: function() { return this.pathSegList; }, enumerable: true });
Object.defineProperty(window.SVGPathElement.prototype, 'animatedPathSegList', { get: function() { return this.pathSegList; }, enumerable: true });
Object.defineProperty(window.SVGPathElement.prototype, 'animatedNormalizedPathSegList', { get: function() { return this.pathSegList; }, enumerable: true });

window.SVGPathSegList.prototype._checkPathSynchronizedToList = function() {
this._updateListFromPathMutations(this._pathElementMutationObserver.takeRecords());
}

window.SVGPathSegList.prototype._updateListFromPathMutations = function(mutationRecords) {
if (!this._pathElement)
return;
var hasPathMutations = false;
mutationRecords.forEach(function(record) {
if (record.attributeName == 'd')
hasPathMutations = true;
});
if (hasPathMutations)
this._list = this._parsePath(this._pathElement.getAttribute('d'));
}

window.SVGPathSegList.prototype._writeListToPath = function() {
this._pathElementMutationObserver.disconnect();
this._pathElement.setAttribute('d', window.SVGPathSegList._pathSegArrayAsString(this._list));
this._pathElementMutationObserver.observe(this._pathElement, this._mutationObserverConfig);
}

window.SVGPathSegList.prototype.segmentChanged = function(pathSeg) {
this._writeListToPath();
}

window.SVGPathSegList.prototype.clear = function() {
this._checkPathSynchronizedToList();

this._list.forEach(function(pathSeg) {
pathSeg._owningPathSegList = null;
});
this._list = [];
this._writeListToPath();
}

window.SVGPathSegList.prototype.initialize = function(newItem) {
this._checkPathSynchronizedToList();

this._list = [newItem];
newItem._owningPathSegList = this;
this._writeListToPath();
return newItem;
}

window.SVGPathSegList.prototype._checkValidIndex = function(index) {
if (isNaN(index) || index < 0 || index >= this.numberOfItems)
throw 'INDEX_SIZE_ERR';
}

window.SVGPathSegList.prototype.getItem = function(index) {
this._checkPathSynchronizedToList();

this._checkValidIndex(index);
return this._list[index];
}

window.SVGPathSegList.prototype.insertItemBefore = function(newItem, index) {
this._checkPathSynchronizedToList();

if (index > this.numberOfItems)
index = this.numberOfItems;
if (newItem._owningPathSegList) {
newItem = newItem.clone();
}
this._list.splice(index, 0, newItem);
newItem._owningPathSegList = this;
this._writeListToPath();
return newItem;
}

window.SVGPathSegList.prototype.replaceItem = function(newItem, index) {
this._checkPathSynchronizedToList();

if (newItem._owningPathSegList) {
newItem = newItem.clone();
}
this._checkValidIndex(index);
this._list[index] = newItem;
newItem._owningPathSegList = this;
this._writeListToPath();
return newItem;
}

window.SVGPathSegList.prototype.removeItem = function(index) {
this._checkPathSynchronizedToList();

this._checkValidIndex(index);
var item = this._list[index];
this._list.splice(index, 1);
this._writeListToPath();
return item;
}

window.SVGPathSegList.prototype.appendItem = function(newItem) {
this._checkPathSynchronizedToList();

if (newItem._owningPathSegList) {
newItem = newItem.clone();
}
this._list.push(newItem);
newItem._owningPathSegList = this;
this._writeListToPath();
return newItem;
};

window.SVGPathSegList.prototype.matrixTransform = function(aSVGMatrix) {
this._checkPathSynchronizedToList();

var nLength = this._list.length;
for( var i = 0; i < nLength; ++i )
{
var nX;
var aPathSeg = this._list[i];
switch( aPathSeg.pathSegTypeAsLetter )
{
case 'C':
nX = aPathSeg._x2;
aPathSeg._x2 = aSVGMatrix.a * nX + aSVGMatrix.c * aPathSeg._y2 + aSVGMatrix.e;
aPathSeg._y2 = aSVGMatrix.b * nX + aSVGMatrix.d * aPathSeg._y2 + aSVGMatrix.f;
case 'Q':
nX = aPathSeg._x1;
aPathSeg._x1 = aSVGMatrix.a * nX + aSVGMatrix.c * aPathSeg._y1 + aSVGMatrix.e;
aPathSeg._y1 = aSVGMatrix.b * nX + aSVGMatrix.d * aPathSeg._y1 + aSVGMatrix.f;
case 'M':
case 'L':
nX = aPathSeg._x;
aPathSeg._x = aSVGMatrix.a * nX + aSVGMatrix.c * aPathSeg._y + aSVGMatrix.e;
aPathSeg._y = aSVGMatrix.b * nX + aSVGMatrix.d * aPathSeg._y + aSVGMatrix.f;
break;
default:
log( 'SVGPathSeg.matrixTransform: unexpected path segment type: '
+ aPathSeg.pathSegTypeAsLetter );
}
}

this._writeListToPath();
};

window.SVGPathSegList.prototype.changeOrientation = function() {
this._checkPathSynchronizedToList();

var aPathSegList = this._list;
var nLength = aPathSegList.length;
if( nLength == 0 ) return;

var nCurrentX = 0;
var nCurrentY = 0;

var aPathSeg = aPathSegList[0];
if( aPathSeg.pathSegTypeAsLetter == 'M' )
{
nCurrentX = aPathSeg.x;
nCurrentY = aPathSeg.y;
aPathSegList.shift();
--nLength;
}

var i;
for( i = 0; i < nLength; ++i )
{
aPathSeg = aPathSegList[i];
switch( aPathSeg.pathSegTypeAsLetter )
{
case 'C':
var nX = aPathSeg._x1;
aPathSeg._x1 = aPathSeg._x2;
aPathSeg._x2 = nX;
var nY = aPathSeg._y1;
aPathSeg._y1 = aPathSeg._y2;
aPathSeg._y2 = nY;
case 'M':
case 'L':
case 'Q':
var aPoint = { x: aPathSeg._x, y: aPathSeg._y };
aPathSeg._x = nCurrentX;
aPathSeg._y = nCurrentY;
nCurrentX = aPoint.x;
nCurrentY = aPoint.y;
break;
default:
log( 'SVGPathSegList.changeOrientation: unexpected path segment type: '
+ aPathSeg.pathSegTypeAsLetter );
}

}

aPathSegList.reverse();

var aMovePathSeg = new window.SVGPathSegMovetoAbs( this, nCurrentX, nCurrentY );
aPathSegList.unshift( aMovePathSeg );

this._writeListToPath();
};

window.SVGPathSegList._pathSegArrayAsString = function(pathSegArray) {
var string = '';
var first = true;
pathSegArray.forEach(function(pathSeg) {
if (first) {
first = false;
string += pathSeg._asPathString();
} else {
string += ' ' + pathSeg._asPathString();
}
});
return string;
}

window.SVGPathSegList.prototype._parsePath = function(string) {
if (!string || string.length == 0)
return [];

var owningPathSegList = this;

var Builder = function() {
this.pathSegList = [];
}

Builder.prototype.appendSegment = function(pathSeg) {
this.pathSegList.push(pathSeg);
}

var Source = function(string) {
this._string = string;
this._currentIndex = 0;
this._endIndex = this._string.length;
this._previousCommand = window.SVGPathSeg.PATHSEG_UNKNOWN;

this._skipOptionalSpaces();
}

Source.prototype._isCurrentSpace = function() {
var character = this._string[this._currentIndex];
return character <= ' ' && (character == ' ' || character == '\n' || character == '\t' || character == '\r' || character == '\f');
}

Source.prototype._skipOptionalSpaces = function() {
while (this._currentIndex < this._endIndex && this._isCurrentSpace())
this._currentIndex++;
return this._currentIndex < this._endIndex;
}

Source.prototype._skipOptionalSpacesOrDelimiter = function() {
if (this._currentIndex < this._endIndex && !this._isCurrentSpace() && this._string.charAt(this._currentIndex) != ',')
return false;
if (this._skipOptionalSpaces()) {
if (this._currentIndex < this._endIndex && this._string.charAt(this._currentIndex) == ',') {
this._currentIndex++;
this._skipOptionalSpaces();
}
}
return this._currentIndex < this._endIndex;
}

Source.prototype.hasMoreData = function() {
return this._currentIndex < this._endIndex;
}

Source.prototype.peekSegmentType = function() {
var lookahead = this._string[this._currentIndex];
return this._pathSegTypeFromChar(lookahead);
}

Source.prototype._pathSegTypeFromChar = function(lookahead) {
switch (lookahead) {
case 'Z':
case 'z':
return window.SVGPathSeg.PATHSEG_CLOSEPATH;
case 'M':
return window.SVGPathSeg.PATHSEG_MOVETO_ABS;
case 'm':
return window.SVGPathSeg.PATHSEG_MOVETO_REL;
case 'L':
return window.SVGPathSeg.PATHSEG_LINETO_ABS;
case 'l':
return window.SVGPathSeg.PATHSEG_LINETO_REL;
case 'C':
return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS;
case 'c':
return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL;
case 'Q':
return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS;
case 'q':
return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL;
case 'A':
return window.SVGPathSeg.PATHSEG_ARC_ABS;
case 'a':
return window.SVGPathSeg.PATHSEG_ARC_REL;
case 'H':
return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS;
case 'h':
return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL;
case 'V':
return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS;
case 'v':
return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL;
case 'S':
return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS;
case 's':
return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL;
case 'T':
return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS;
case 't':
return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL;
default:
return window.SVGPathSeg.PATHSEG_UNKNOWN;
}
}

Source.prototype._nextCommandHelper = function(lookahead, previousCommand) {
if ((lookahead == '+' || lookahead == '-' || lookahead == '.' || (lookahead >= '0' && lookahead <= '9')) && previousCommand != window.SVGPathSeg.PATHSEG_CLOSEPATH) {
if (previousCommand == window.SVGPathSeg.PATHSEG_MOVETO_ABS)
return window.SVGPathSeg.PATHSEG_LINETO_ABS;
if (previousCommand == window.SVGPathSeg.PATHSEG_MOVETO_REL)
return window.SVGPathSeg.PATHSEG_LINETO_REL;
return previousCommand;
}
return window.SVGPathSeg.PATHSEG_UNKNOWN;
}

Source.prototype.initialCommandIsMoveTo = function() {
if (!this.hasMoreData())
return true;
var command = this.peekSegmentType();
return command == window.SVGPathSeg.PATHSEG_MOVETO_ABS || command == window.SVGPathSeg.PATHSEG_MOVETO_REL;
}

Source.prototype._parseNumber = function() {
var exponent = 0;
var integer = 0;
var frac = 1;
var decimal = 0;
var sign = 1;
var expsign = 1;

var startIndex = this._currentIndex;

this._skipOptionalSpaces();

if (this._currentIndex < this._endIndex && this._string.charAt(this._currentIndex) == '+')
this._currentIndex++;
else if (this._currentIndex < this._endIndex && this._string.charAt(this._currentIndex) == '-') {
this._currentIndex++;
sign = -1;
}

if (this._currentIndex == this._endIndex || ((this._string.charAt(this._currentIndex) < '0' || this._string.charAt(this._currentIndex) > '9') && this._string.charAt(this._currentIndex) != '.'))
return undefined;

var startIntPartIndex = this._currentIndex;
while (this._currentIndex < this._endIndex && this._string.charAt(this._currentIndex) >= '0' && this._string.charAt(this._currentIndex) <= '9')
this._currentIndex++; // Advance to first non-digit.

if (this._currentIndex != startIntPartIndex) {
var scanIntPartIndex = this._currentIndex - 1;
var multiplier = 1;
while (scanIntPartIndex >= startIntPartIndex) {
integer += multiplier * (this._string.charAt(scanIntPartIndex--) - '0');
multiplier *= 10;
}
}

if (this._currentIndex < this._endIndex && this._string.charAt(this._currentIndex) == '.') {
this._currentIndex++;

if (this._currentIndex >= this._endIndex || this._string.charAt(this._currentIndex) < '0' || this._string.charAt(this._currentIndex) > '9')
return undefined;
while (this._currentIndex < this._endIndex && this._string.charAt(this._currentIndex) >= '0' && this._string.charAt(this._currentIndex) <= '9') {
frac *= 10;
decimal += (this._string.charAt(this._currentIndex) - '0') / frac;
this._currentIndex += 1;
}
}

if (this._currentIndex != startIndex && this._currentIndex + 1 < this._endIndex && (this._string.charAt(this._currentIndex) == 'e' || this._string.charAt(this._currentIndex) == 'E') && (this._string.charAt(this._currentIndex + 1) != 'x' && this._string.charAt(this._currentIndex + 1) != 'm')) {
this._currentIndex++;

if (this._string.charAt(this._currentIndex) == '+') {
this._currentIndex++;
} else if (this._string.charAt(this._currentIndex) == '-') {
this._currentIndex++;
expsign = -1;
}

if (this._currentIndex >= this._endIndex || this._string.charAt(this._currentIndex) < '0' || this._string.charAt(this._currentIndex) > '9')
return undefined;

while (this._currentIndex < this._endIndex && this._string.charAt(this._currentIndex) >= '0' && this._string.charAt(this._currentIndex) <= '9') {
exponent *= 10;
exponent += (this._string.charAt(this._currentIndex) - '0');
this._currentIndex++;
}
}

var number = integer + decimal;
number *= sign;

if (exponent)
number *= Math.pow(10, expsign * exponent);

if (startIndex == this._currentIndex)
return undefined;

this._skipOptionalSpacesOrDelimiter();

return number;
}

Source.prototype._parseArcFlag = function() {
if (this._currentIndex >= this._endIndex)
return undefined;
var flag = false;
var flagChar = this._string.charAt(this._currentIndex++);
if (flagChar == '0')
flag = false;
else if (flagChar == '1')
flag = true;
else
return undefined;

this._skipOptionalSpacesOrDelimiter();
return flag;
}

Source.prototype.parseSegment = function() {
var lookahead = this._string[this._currentIndex];
var command = this._pathSegTypeFromChar(lookahead);
if (command == window.SVGPathSeg.PATHSEG_UNKNOWN) {
if (this._previousCommand == window.SVGPathSeg.PATHSEG_UNKNOWN)
return null;
command = this._nextCommandHelper(lookahead, this._previousCommand);
if (command == window.SVGPathSeg.PATHSEG_UNKNOWN)
return null;
} else {
this._currentIndex++;
}

this._previousCommand = command;

switch (command) {
case window.SVGPathSeg.PATHSEG_MOVETO_REL:
return new window.SVGPathSegMovetoRel(owningPathSegList, this._parseNumber(), this._parseNumber());
case window.SVGPathSeg.PATHSEG_MOVETO_ABS:
return new window.SVGPathSegMovetoAbs(owningPathSegList, this._parseNumber(), this._parseNumber());
case window.SVGPathSeg.PATHSEG_LINETO_REL:
return new window.SVGPathSegLinetoRel(owningPathSegList, this._parseNumber(), this._parseNumber());
case window.SVGPathSeg.PATHSEG_LINETO_ABS:
return new window.SVGPathSegLinetoAbs(owningPathSegList, this._parseNumber(), this._parseNumber());
case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:
return new window.SVGPathSegLinetoHorizontalRel(owningPathSegList, this._parseNumber());
case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:
return new window.SVGPathSegLinetoHorizontalAbs(owningPathSegList, this._parseNumber());
case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL:
return new window.SVGPathSegLinetoVerticalRel(owningPathSegList, this._parseNumber());
case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS:
return new window.SVGPathSegLinetoVerticalAbs(owningPathSegList, this._parseNumber());
case window.SVGPathSeg.PATHSEG_CLOSEPATH:
this._skipOptionalSpaces();
return new window.SVGPathSegClosePath(owningPathSegList);
case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL:
var points = {x1: this._parseNumber(), y1: this._parseNumber(), x2: this._parseNumber(), y2: this._parseNumber(), x: this._parseNumber(), y: this._parseNumber()};
return new window.SVGPathSegCurvetoCubicRel(owningPathSegList, points.x, points.y, points.x1, points.y1, points.x2, points.y2);
case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS:
var points = {x1: this._parseNumber(), y1: this._parseNumber(), x2: this._parseNumber(), y2: this._parseNumber(), x: this._parseNumber(), y: this._parseNumber()};
return new window.SVGPathSegCurvetoCubicAbs(owningPathSegList, points.x, points.y, points.x1, points.y1, points.x2, points.y2);
case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:
var points = {x2: this._parseNumber(), y2: this._parseNumber(), x: this._parseNumber(), y: this._parseNumber()};
return new window.SVGPathSegCurvetoCubicSmoothRel(owningPathSegList, points.x, points.y, points.x2, points.y2);
case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:
var points = {x2: this._parseNumber(), y2: this._parseNumber(), x: this._parseNumber(), y: this._parseNumber()};
return new window.SVGPathSegCurvetoCubicSmoothAbs(owningPathSegList, points.x, points.y, points.x2, points.y2);
case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL:
var points = {x1: this._parseNumber(), y1: this._parseNumber(), x: this._parseNumber(), y: this._parseNumber()};
return new window.SVGPathSegCurvetoQuadraticRel(owningPathSegList, points.x, points.y, points.x1, points.y1);
case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS:
var points = {x1: this._parseNumber(), y1: this._parseNumber(), x: this._parseNumber(), y: this._parseNumber()};
return new window.SVGPathSegCurvetoQuadraticAbs(owningPathSegList, points.x, points.y, points.x1, points.y1);
case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:
return new window.SVGPathSegCurvetoQuadraticSmoothRel(owningPathSegList, this._parseNumber(), this._parseNumber());
case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:
return new window.SVGPathSegCurvetoQuadraticSmoothAbs(owningPathSegList, this._parseNumber(), this._parseNumber());
case window.SVGPathSeg.PATHSEG_ARC_REL:
var points = {x1: this._parseNumber(), y1: this._parseNumber(), arcAngle: this._parseNumber(), arcLarge: this._parseArcFlag(), arcSweep: this._parseArcFlag(), x: this._parseNumber(), y: this._parseNumber()};
return new window.SVGPathSegArcRel(owningPathSegList, points.x, points.y, points.x1, points.y1, points.arcAngle, points.arcLarge, points.arcSweep);
case window.SVGPathSeg.PATHSEG_ARC_ABS:
var points = {x1: this._parseNumber(), y1: this._parseNumber(), arcAngle: this._parseNumber(), arcLarge: this._parseArcFlag(), arcSweep: this._parseArcFlag(), x: this._parseNumber(), y: this._parseNumber()};
return new window.SVGPathSegArcAbs(owningPathSegList, points.x, points.y, points.x1, points.y1, points.arcAngle, points.arcLarge, points.arcSweep);
default:
throw 'Unknown path seg type.'
}
}

var builder = new Builder();
var source = new Source(string);

if (!source.initialCommandIsMoveTo())
return [];
while (source.hasMoreData()) {
var pathSeg = source.parseSegment();
if (!pathSeg)
return [];
builder.appendSegment(pathSeg);
}

return builder.pathSegList;
}
}
}());

/*****
* @svgpathend
*
*  The above code is a derivative work of some part of the SVGPathSeg API.
*
*  This API is a drop-in replacement for the SVGPathSeg and SVGPathSegList APIs that were removed from
*  SVG2 (https://lists.w3.org/Archives/Public/www-svg/2015Jun/0044.html), including the latest spec
*  changes which were implemented in Firefox 43 and Chrome 46.
*
*  @source https://github.com/progers/pathseg
*/


/*****
* @licstart
*
* The following is the license notice for the part of JavaScript code  of
* this page included between the '@libreofficestart' and the '@libreofficeend'
* notes.
*/

/*****  ******************************************************************
*
* This file is part of the LibreOffice project.
*
* This Source Code Form is subject to the terms of the Mozilla Public
* License, v. 2.0. If a copy of the MPL was not distributed with this
* file, You can obtain one at http://mozilla.org/MPL/2.0/.
*
* This file incorporates work covered by the following license notice:
*
*   Licensed to the Apache Software Foundation (ASF) under one or more
*   contributor license agreements. See the NOTICE file distributed
*   with this work for additional information regarding copyright
*   ownership. The ASF licenses this file to you under the Apache
*   License, Version 2.0 (the 'License'); you may not use this file
*   except in compliance with the License. You may obtain a copy of
*   the License at http://www.apache.org/licenses/LICENSE-2.0 .
*
************************************************************************/

/*****
* @licend
*
* The above is the license notice for the part of JavaScript code  of
* this page included between the '@libreofficestart' and the '@libreofficeend'
* notes.
*/


/*****
* @libreofficestart
*
* Several parts of the following code are the result of the porting,
* started on August 2011, of the C++ code included in the source
* files placed under the folder '/slideshow/source' and
* sub-folders. This got later rebased onto the AL2-licensed versions
* of those files in early 2013.
* @source https://cgit.freedesktop.org/libreoffice/core/tree/slideshow/source
*
*/


window.onload = init;


var aOOOElemMetaSlides = 'ooo:meta_slides';
var aOOOElemMetaSlide = 'ooo:meta_slide';
var aOOOElemTextField = 'ooo:text_field';
var aPresentationClipPathId = 'presentation_clip_path';
var aPresentationClipPathShrinkId = 'presentation_clip_path_shrink';

var aOOOAttrNumberOfSlides = 'number-of-slides';
var aOOOAttrStartSlideNumber= 'start-slide-number';
var aOOOAttrNumberingType = 'page-numbering-type';
var aOOOAttrListItemNumberingType= 'numbering-type';
var aOOOAttrUsePositionedChars = 'use-positioned-chars';

var aOOOAttrSlide = 'slide';
var aOOOAttrMaster = 'master';
var aOOOAttrHasTransition = 'has-transition';
var aOOOAttrBackgroundVisibility = 'background-visibility';
var aOOOAttrMasterObjectsVisibility = 'master-objects-visibility';
var aOOOAttrPageNumberVisibility = 'page-number-visibility';
var aOOOAttrDateTimeVisibility = 'date-time-visibility';
var aOOOAttrFooterVisibility = 'footer-visibility';
var aOOOAttrHeaderVisibility = 'header-visibility';
var aOOOAttrDateTimeField = 'date-time-field';
var aOOOAttrFooterField = 'footer-field';
var aOOOAttrHeaderField = 'header-field';

var aOOOAttrDateTimeFormat = 'date-time-format';

var aOOOAttrTextAdjust = 'text-adjust';

var aClipPathGroupClassName = 'ClipPathGroup';
var aPageClassName = 'Page';
var aSlideNumberClassName = 'Slide_Number';
var aDateTimeClassName = 'Date/Time';
var aFooterClassName = 'Footer';
var aHeaderClassName = 'Header';

var NSS = {};
NSS['svg']='http://www.w3.org/2000/svg';
NSS['rdf']='http://www.w3.org/1999/02/22-rdf-syntax-ns#';
NSS['xlink']='http://www.w3.org/1999/xlink';
NSS['xml']='http://www.w3.org/XML/1998/namespace';
NSS['ooo'] = 'http://xml.openoffice.org/svg/export';
NSS['presentation'] = 'http://sun.com/xmlns/staroffice/presentation';
NSS['smil'] = 'http://www.w3.org/2001/SMIL20/';
NSS['anim'] = 'urn:oasis:names:tc:opendocument:xmlns:animation:1.0';

var SLIDE_MODE = 1;
var INDEX_MODE = 2;

var MOUSE_UP = 1;
var MOUSE_DOWN = 2; // eslint-disable-line no-unused-vars
var MOUSE_MOVE = 3; // eslint-disable-line no-unused-vars
var MOUSE_WHEEL = 4;

var LEFT_KEY = 37;          // cursor left keycode
var UP_KEY = 38;            // cursor up keycode
var RIGHT_KEY = 39;         // cursor right keycode
var DOWN_KEY = 40;          // cursor down keycode
var PAGE_UP_KEY = 33;       // page up keycode
var PAGE_DOWN_KEY = 34;     // page down keycode
var HOME_KEY = 36;          // home keycode
var END_KEY = 35;           // end keycode
var ENTER_KEY = 13;
var SPACE_KEY = 32;
var ESCAPE_KEY = 27;
var Q_KEY = 81;

var HIDDEN = 0;
var VISIBLE = 1;
var INHERIT = 2;
var aVisibilityAttributeValue = [ 'hidden', 'visible', 'inherit' ];  // eslint-disable-line no-unused-vars
var aVisibilityValue = { 'hidden' : HIDDEN, 'visible' : VISIBLE, 'inherit' : INHERIT };

var ROOT_NODE = document.getElementsByTagNameNS( NSS['svg'], 'svg' )[0];
var WIDTH = 0;
var HEIGHT = 0;
var INDEX_COLUMNS_DEFAULT = 3;
var INDEX_OFFSET = 0;

var Detect = configureDetectionTools();
var theMetaDoc;
var theSlideIndexPage;
var currentMode = SLIDE_MODE;
var processingEffect = false;
var nCurSlide = undefined;
var bTextHasBeenSelected = false;
var sLastSelectedText = '';


var charCodeDictionary = getDefaultCharCodeDictionary();
var keyCodeDictionary = getDefaultKeyCodeDictionary();

var mouseHandlerDictionary = getDefaultMouseHandlerDictionary();


function object( aObject )
{
var F = function() {};
F.prototype = aObject;
return new F();
}


function extend( aSubType, aSuperType )
{
if (!aSuperType || !aSubType)
{
alert('extend failed, verify dependencies');
}
var OP = Object.prototype;
var sp = aSuperType.prototype;
var rp = object( sp );
aSubType.prototype = rp;

rp.constructor = aSubType;
aSubType.superclass = sp;

if (aSuperType != Object && sp.constructor == OP.constructor)
{
sp.constructor = aSuperType;
}

return aSubType;
}


function instantiate( TemplateClass, BaseType )
{
if( !TemplateClass.instanceSet )
TemplateClass.instanceSet = [];

var nSize = TemplateClass.instanceSet.length;

for( var i = 0; i < nSize; ++i )
{
if( TemplateClass.instanceSet[i].base === BaseType )
return TemplateClass.instanceSet[i].instance;
}

TemplateClass.instanceSet[ nSize ] = {};
TemplateClass.instanceSet[ nSize ].base = BaseType;
TemplateClass.instanceSet[ nSize ].instance = TemplateClass( BaseType );

return TemplateClass.instanceSet[ nSize ].instance;
}


function Rectangle( aSVGRectElem )
{
var x = parseInt( aSVGRectElem.getAttribute( 'x' ) );
var y = parseInt( aSVGRectElem.getAttribute( 'y' ) );
var width = parseInt( aSVGRectElem.getAttribute( 'width' ) );
var height = parseInt( aSVGRectElem.getAttribute( 'height' ) );

this.left = x;
this.right = x + width;
this.top = y;
this.bottom = y + height;
}

function getKeyByValue(aObj, value) {
for(var key in aObj) {
if(aObj[key] == value)
return key;
}
return null;
}

function log( message )
{
if( typeof console == 'object' )
{
console.log( message );
}
else if( typeof opera == 'object' )
{
opera.postError( message );
}
else if( typeof java == 'object' && typeof java.lang == 'object' )
{
java.lang.System.out.println( message );
}
}

function getNSAttribute( sNSPrefix, aElem, sAttrName )
{
if( !aElem ) return null;
if( 'getAttributeNS' in aElem )
{
return aElem.getAttributeNS( NSS[sNSPrefix], sAttrName );
}
else
{
return aElem.getAttribute( sNSPrefix + ':' + sAttrName );
}
}

function getOOOAttribute( aElem, sAttrName )
{
return getNSAttribute( 'ooo', aElem, sAttrName );
}

function setNSAttribute( sNSPrefix, aElem, sAttrName, aValue )
{
if( !aElem ) return false;
if( 'setAttributeNS' in aElem )
{
aElem.setAttributeNS( NSS[sNSPrefix], sAttrName, aValue );
return true;
}
else
{
aElem.setAttribute(sNSPrefix + ':' + sAttrName, aValue );
return true;
}
}

function getElementsByClassName( aElem, sClassName )
{

var aElementSet = [];
if( 'getElementsByClassName' in aElem )
{
aElementSet = aElem.getElementsByClassName( sClassName );
}
else
{
var aElementSetByClassProperty = getElementsByProperty( aElem, 'class' );
for( var i = 0; i < aElementSetByClassProperty.length; ++i )
{
var sAttrClassName = aElementSetByClassProperty[i].getAttribute( 'class' );
if( sAttrClassName == sClassName )
{
aElementSet.push( aElementSetByClassProperty[i] );
}
}
}
return aElementSet;
}

function getElementByClassName( aElem, sClassName /*, sTagName */)
{
var aElementSet = getElementsByClassName( aElem, sClassName );
if ( aElementSet.length == 1 )
return aElementSet[0];
else
return null;
}

function getClassAttribute(  aElem )
{
if( aElem )
return aElem.getAttribute( 'class' );
return '';
}

function createElementGroup( aParentElement, aElementList, nFrom, nCount, sGroupClass, sGroupId )
{
var nTo = nFrom + nCount;
if( nCount < 1 || aElementList.length < nTo )
{
log( 'createElementGroup: not enough elements available.' );
return;
}
var firstElement = aElementList[nFrom];
if( !firstElement )
{
log( 'createElementGroup: element not found.' );
return;
}
var aGroupElement = document.createElementNS( NSS['svg'], 'g' );
if( sGroupId )
aGroupElement.setAttribute( 'id', sGroupId );
if( sGroupClass )
aGroupElement.setAttribute( 'class', sGroupClass );
aParentElement.insertBefore( aGroupElement, firstElement );
var i = nFrom;
for( ; i < nTo; ++i )
{
aParentElement.removeChild( aElementList[i] );
aGroupElement.appendChild( aElementList[i] );
}
}

function initVisibilityProperty( aElement )
{
var nVisibility = VISIBLE;
var sVisibility = aElement.getAttribute( 'visibility' );
if( sVisibility ) nVisibility = aVisibilityValue[ sVisibility ];
return nVisibility;
}

function getSafeIndex( nIndex, nMin, nMax )
{
if( nIndex < nMin )
return nMin;
else if( nIndex > nMax )
return nMax;
else
return nIndex;
}

function getRandomInt( nMax )
{
return Math.floor( Math.random() * nMax );
}

function isTextFieldElement( aElement ) // eslint-disable-line no-unused-vars
{
var sClassName = aElement.getAttribute( 'class' );
return ( sClassName === aSlideNumberClassName ) ||
( sClassName === aFooterClassName ) ||
( sClassName === aHeaderClassName ) ||
( sClassName === aDateTimeClassName );
}


function DebugPrinter()
{
this.bEnabled = false;
}


DebugPrinter.prototype.on = function()
{
this.bEnabled = true;
};

DebugPrinter.prototype.off = function()
{
this.bEnabled = false;
};

DebugPrinter.prototype.isEnabled = function()
{
return this.bEnabled;
};

DebugPrinter.prototype.print = function( sMessage, nTime )
{
if( this.isEnabled() )
{
var sInfo = 'DBG: ' + sMessage;
if( nTime )
sInfo += ' (at: ' + String( nTime / 1000 ) + 's)';
log( sInfo );
}
};


var aGenericDebugPrinter = new DebugPrinter();
aGenericDebugPrinter.off();
var DBGLOG = bind2( DebugPrinter.prototype.print, aGenericDebugPrinter );

var NAVDBG = new DebugPrinter();
NAVDBG.off();

var ANIMDBG = new DebugPrinter();
ANIMDBG.off();

var aRegisterEventDebugPrinter = new DebugPrinter();
aRegisterEventDebugPrinter.off();

var aTimerEventQueueDebugPrinter = new DebugPrinter();
aTimerEventQueueDebugPrinter.off();

var aEventMultiplexerDebugPrinter = new DebugPrinter();
aEventMultiplexerDebugPrinter.off();

var aNextEffectEventArrayDebugPrinter = new DebugPrinter();
aNextEffectEventArrayDebugPrinter.off();

var aActivityQueueDebugPrinter = new DebugPrinter();
aActivityQueueDebugPrinter.off();

var aAnimatedElementDebugPrinter = new DebugPrinter();
aAnimatedElementDebugPrinter.off();


function MetaDocument()
{
var aMetaDocElem = document.getElementById( aOOOElemMetaSlides );
assert( aMetaDocElem, 'MetaDocument: the svg element with id:' + aOOOElemMetaSlides + 'is not valid.');

this.nNumberOfSlides = parseInt( aMetaDocElem.getAttributeNS( NSS['ooo'], aOOOAttrNumberOfSlides ) );
assert( typeof this.nNumberOfSlides == 'number' && this.nNumberOfSlides > 0,
'MetaDocument: number of slides is zero or undefined.' );
this.nStartSlideNumber = parseInt( aMetaDocElem.getAttributeNS( NSS['ooo'], aOOOAttrStartSlideNumber ) ) || 0;
this.sPageNumberingType = aMetaDocElem.getAttributeNS( NSS['ooo'], aOOOAttrNumberingType ) || 'arabic';
this.bIsUsePositionedChars = ( aMetaDocElem.getAttributeNS( NSS['ooo'], aOOOAttrUsePositionedChars ) === 'true' );

this.aClipPathGroup = getElementByClassName( ROOT_NODE, aClipPathGroupClassName );
assert( this.aClipPathGroup, 'MetaDocument: the clip path group element is not valid.');

this.aPresentationClipPath = document.getElementById( aPresentationClipPathId );
assert( this.aPresentationClipPath,
'MetaDocument: the presentation clip path element element is not valid.');

this.aMetaSlideSet = [];
this.aMasterPageSet = {};
this.aTextFieldHandlerSet = {};
this.aTextFieldContentProviderSet = [];
this.aSlideNumberProvider = new SlideNumberProvider( this.nStartSlideNumber + 1, this.sPageNumberingType );

this.bIsAnimated = false;
this.aSlideAnimationsMap = {};
this.initSlideAnimationsMap();

this.theMetaDummySlide = new MetaSlide( 'ooo:meta_dummy_slide', this );

for( var i = 0; i < this.nNumberOfSlides; ++i )
{
var sMetaSlideId = aOOOElemMetaSlide + '_' + i;
this.aMetaSlideSet.push( new MetaSlide( sMetaSlideId, this ) );
}
assert( this.aMetaSlideSet.length == this.nNumberOfSlides,
'MetaDocument: aMetaSlideSet.length != nNumberOfSlides.' );
}

MetaDocument.prototype =
{

getCurrentSlide : function()
{
return this.aMetaSlideSet[nCurSlide];
},

setCurrentSlide : function( nSlideIndex )
{
if( nSlideIndex >= 0 &&  nSlideIndex < this.nNumberOfSlides )
{
if( nCurSlide !== undefined )
this.aMetaSlideSet[nCurSlide].hide();
this.aMetaSlideSet[nSlideIndex].show();
nCurSlide = nSlideIndex;
}
else
{
log('MetaDocument.setCurrentSlide: slide index out of range: ' + nSlideIndex );
}
},


initSlideAnimationsMap : function()
{
var aAnimationsSection = document.getElementById( 'presentation-animations' );
if( aAnimationsSection )
{
var aAnimationsDefSet = aAnimationsSection.getElementsByTagName( 'defs' );

this.bIsAnimated = ( typeof aAnimationsDefSet.length =='number' &&
aAnimationsDefSet.length > 0 );

for( var i = 0; i < aAnimationsDefSet.length; ++i )
{
var sSlideId = aAnimationsDefSet[i].getAttributeNS( NSS['ooo'], aOOOAttrSlide );
var aChildSet = getElementChildren( aAnimationsDefSet[i] );
if( sSlideId && ( aChildSet.length === 1 ) )
{
this.aSlideAnimationsMap[ sSlideId ] = aChildSet[0];
}
}
}
}

}; // end MetaDocument prototype

function MetaSlide( sMetaSlideId, aMetaDoc )
{
this.theDocument = document;
this.id = sMetaSlideId;
this.theMetaDoc = aMetaDoc;

this.element = this.theDocument.getElementById( this.id );
assert( this.element,
'MetaSlide: meta_slide element <' + this.id + '> not found.' );

this.slideId = this.element.getAttributeNS( NSS['ooo'], aOOOAttrSlide );
this.slideElement = this.theDocument.getElementById( this.slideId );
assert( this.slideElement,
'MetaSlide: slide element <' + this.slideId + '> not found.' );

if( this.slideId !== 'dummy_slide' )
this.nSlideNumber = parseInt( this.slideId.substr(2) );
else
this.nSlideNumber= -1;

this.aContainerElement = this.slideElement.parentNode;
this.slideContainerId = this.aContainerElement.getAttribute( 'id' );
this.aVisibilityStatusElement = this.aContainerElement.parentNode;

this.pageElement = getElementByClassName( this.slideElement, aPageClassName );
assert( this.pageElement,
'MetaSlide: page element <' + this.slideId + '> not found.' );

this.masterPage = this.initMasterPage();

this.nAreMasterObjectsVisible     = this.initVisibilityProperty( aOOOAttrMasterObjectsVisibility,  VISIBLE );
this.nIsBackgroundVisible         = this.initVisibilityProperty( aOOOAttrBackgroundVisibility,     VISIBLE );
this.nIsPageNumberVisible         = this.initVisibilityProperty( aOOOAttrPageNumberVisibility,     HIDDEN );
this.nIsDateTimeVisible           = this.initVisibilityProperty( aOOOAttrDateTimeVisibility,       VISIBLE );
this.nIsFooterVisible             = this.initVisibilityProperty( aOOOAttrFooterVisibility,         VISIBLE );
this.nIsHeaderVisible             = this.initVisibilityProperty( aOOOAttrHeaderVisibility,         VISIBLE );

this.bIsDateTimeVariable = undefined;

this.aTextFieldContentProviderSet = {};
this.aTextFieldContentProviderSet[aSlideNumberClassName]   = this.initSlideNumberFieldContentProvider();
this.aTextFieldContentProviderSet[aDateTimeClassName]      = this.initDateTimeFieldContentProvider( aOOOAttrDateTimeField );
this.aTextFieldContentProviderSet[aFooterClassName]        = this.initFixedTextFieldContentProvider( aOOOAttrFooterField );
this.aTextFieldContentProviderSet[aHeaderClassName]        = this.initFixedTextFieldContentProvider( aOOOAttrHeaderField );

this.aTransitionHandler = null;
this.bHasTransition = this.initHasTransition() || true;
if( this.bHasTransition )
{
this.aTransitionHandler = new SlideTransition( this.getSlideAnimationsRoot(), this.slideId );
}

this.aSlideAnimationsHandler = new SlideAnimations( aSlideShow.getContext() );
this.aSlideAnimationsHandler.importAnimations( this.getSlideAnimationsRoot() );
this.aSlideAnimationsHandler.parseElements();

if( false && this.aSlideAnimationsHandler.aRootNode )
log( this.aSlideAnimationsHandler.aRootNode.info( true ) );

this.aTextShapeSet = this.collectTextShapes();

this.aHyperlinkSet = this.initHyperlinks();

}

MetaSlide.prototype =
{

show : function()
{
this.updateMasterPageView();
this.aVisibilityStatusElement.setAttribute( 'visibility', 'inherit' );
},

hide : function()
{
this.aVisibilityStatusElement.setAttribute( 'visibility', 'hidden' );
},

updateMasterPageView : function()
{
if( !this.aMasterPageView )
{
this.aMasterPageView = new MasterPageView( this );
this.aMasterPageView.attachToSlide();
}
this.aMasterPageView.update();
},

initMasterPage : function()
{
var sMasterPageId = this.element.getAttributeNS( NSS['ooo'], aOOOAttrMaster );

if( !this.theMetaDoc.aMasterPageSet.hasOwnProperty( sMasterPageId ) )
{
this.theMetaDoc.aMasterPageSet[ sMasterPageId ] = new MasterPage( sMasterPageId, this );

this.theMetaDoc.aTextFieldHandlerSet[ sMasterPageId ] = {};
}
return this.theMetaDoc.aMasterPageSet[ sMasterPageId ];
},

initHasTransition : function()
{
var sHasTransition = this.element.getAttributeNS( NSS['ooo'], aOOOAttrHasTransition );
return ( sHasTransition === 'true' );
},

initVisibilityProperty : function( aVisibilityAttribute, nDefaultValue )
{
var nVisibility = nDefaultValue;
var sVisibility = getOOOAttribute( this.element, aVisibilityAttribute );
if( sVisibility )
nVisibility = aVisibilityValue[ sVisibility ];
return nVisibility;
},

initSlideNumberFieldContentProvider : function()
{
return this.theMetaDoc.aSlideNumberProvider;
},

initDateTimeFieldContentProvider : function( aOOOAttrDateTimeField )
{
var sTextFieldId = getOOOAttribute( this.element, aOOOAttrDateTimeField );
if( !sTextFieldId )  return null;

var nLength = aOOOElemTextField.length + 1;
var nIndex = parseInt(sTextFieldId.substring( nLength ) );
if( typeof nIndex != 'number') return null;

if( !this.theMetaDoc.aTextFieldContentProviderSet[ nIndex ] )
{
var aTextField;
var aTextFieldElem = document.getElementById( sTextFieldId );
var sClassName = getClassAttribute( aTextFieldElem );
if( sClassName == 'FixedDateTimeField' )
{
aTextField = new FixedTextProvider( aTextFieldElem );
this.bIsDateTimeVariable = false;
}
else if( sClassName == 'VariableDateTimeField' )
{
aTextField = new CurrentDateTimeProvider( aTextFieldElem );
this.bIsDateTimeVariable = true;
}
else
{
aTextField = null;
}
this.theMetaDoc.aTextFieldContentProviderSet[ nIndex ] = aTextField;
}
return this.theMetaDoc.aTextFieldContentProviderSet[ nIndex ];
},

initFixedTextFieldContentProvider : function( aOOOAttribute )
{
var sTextFieldId = getOOOAttribute( this.element, aOOOAttribute );
if( !sTextFieldId ) return null;

var nLength = aOOOElemTextField.length + 1;
var nIndex = parseInt( sTextFieldId.substring( nLength ) );
if( typeof nIndex != 'number') return null;

if( !this.theMetaDoc.aTextFieldContentProviderSet[ nIndex ] )
{
var aTextFieldElem = document.getElementById( sTextFieldId );
this.theMetaDoc.aTextFieldContentProviderSet[ nIndex ]
= new FixedTextProvider( aTextFieldElem );
}
return this.theMetaDoc.aTextFieldContentProviderSet[ nIndex ];
},

collectTextShapes : function()
{
var aTextShapeSet = [];
var aTextShapeIndexElem = getElementByClassName( document, 'TextShapeIndex' );
if( aTextShapeIndexElem )
{
var aIndexEntryList = getElementChildren( aTextShapeIndexElem );
var i;
for( i = 0; i < aIndexEntryList.length; ++i )
{
var sSlideId = getOOOAttribute( aIndexEntryList[i], 'slide' );
if( sSlideId === this.slideId )
{
var sTextShapeIds = getOOOAttribute( aIndexEntryList[i], 'id-list' );
if( sTextShapeIds )
{
var aTextShapeIdSet =  sTextShapeIds.split( ' ' );
var j;
for( j = 0; j < aTextShapeIdSet.length; ++j )
{
var aTextShapeElem = document.getElementById( aTextShapeIdSet[j] );
if( aTextShapeElem )
{
aTextShapeSet.push( aTextShapeElem );
}
else
{
log( 'warning: MetaSlide.collectTextShapes: text shape with id <' + aTextShapeIdSet[j] + '> is not valid.'  );
}
}
}
break;
}
}
}
return aTextShapeSet;
},

initHyperlinks : function()
{
var aHyperlinkSet = {};
var i;
for( i = 0; i < this.aTextShapeSet.length; ++i )
{
if( this.aTextShapeSet[i] )
{
var aHyperlinkIdList = getElementByClassName( this.aTextShapeSet[i], 'HyperlinkIdList' );
if( aHyperlinkIdList )
{
var sHyperlinkIds = aHyperlinkIdList.textContent;
if( sHyperlinkIds )
{
var aHyperlinkIdSet = sHyperlinkIds.trim().split( ' ' );
var j;
for( j = 0; j < aHyperlinkIdSet.length; ++j )
{
var sId = aHyperlinkIdSet[j];
aHyperlinkSet[ sId ] = new HyperlinkElement( sId, this.aSlideAnimationsHandler.aEventMultiplexer );
}
}
}
}
}
return aHyperlinkSet;
},

getSlideAnimationsRoot : function()
{
return this.theMetaDoc.aSlideAnimationsMap[ this.slideId ];
}

}; // end MetaSlide prototype

function MasterPage( sMasterPageId, aMetaSlide )
{
this.id = sMasterPageId;
this.metaSlide = aMetaSlide;

this.element = document.getElementById( this.id );
assert( this.element,
'MasterPage: master page element <' + this.id + '> not found.' );

this.background = getElementByClassName( this.element, 'Background' );
if( this.background )
{
this.backgroundId = this.background.getAttribute( 'id' );
this.backgroundVisibility = initVisibilityProperty( this.background );
}
else
{
this.backgroundId = '';
log( 'MasterPage: the background element is not valid.' );
}

this.backgroundObjects = getElementByClassName( this.element, 'BackgroundObjects' );
if( this.backgroundObjects )
{
this.backgroundObjectsId = this.backgroundObjects.getAttribute( 'id' );
this.backgroundObjectsVisibility = initVisibilityProperty( this.backgroundObjects );

if( this.backgroundObjectsVisibility != HIDDEN )
{
var aBackgroundObjectList = getElementChildren( this.backgroundObjects );
var nFrom = 0;
var nCount = 0;
var nSubGroupId = 1;
var sClass;
var sId = '';
this.aBackgroundObjectSubGroupIdList = [];
var i = 0;
for( ; i < aBackgroundObjectList.length; ++i )
{
sClass = aBackgroundObjectList[i].getAttribute( 'class' );
if( !sClass || ( ( sClass !== aDateTimeClassName ) && ( sClass !== aFooterClassName )
&& ( sClass !== aHeaderClassName ) && ( sClass !== aSlideNumberClassName ) ) )
{
if( nCount === 0 )
{
nFrom = i;
sId = this.backgroundObjectsId + '.' + nSubGroupId;
++nSubGroupId;
this.aBackgroundObjectSubGroupIdList.push( sId );
}
++nCount;
}
else
{
this.aBackgroundObjectSubGroupIdList.push( sClass );
if( nCount !== 0 )
{
createElementGroup( this.backgroundObjects, aBackgroundObjectList, nFrom, nCount, 'BackgroundObjectSubgroup', sId );
nCount = 0;
}
}
}
if( nCount !== 0 )
{
createElementGroup( this.backgroundObjects, aBackgroundObjectList, nFrom, nCount, 'BackgroundObjectSubgroup', sId );
}
}
}
else
{
this.backgroundObjectsId = '';
log( 'MasterPage: the background objects element is not valid.' );
}

this.aPlaceholderShapeSet = {};
this.initPlaceholderShapes();
}

MasterPage.prototype =
{

initPlaceholderShapes : function()
{
this.aPlaceholderShapeSet[ aSlideNumberClassName ] = new PlaceholderShape( this, aSlideNumberClassName );
this.aPlaceholderShapeSet[ aDateTimeClassName ] = new PlaceholderShape( this, aDateTimeClassName );
this.aPlaceholderShapeSet[ aFooterClassName ] = new PlaceholderShape( this, aFooterClassName );
this.aPlaceholderShapeSet[ aHeaderClassName ] = new PlaceholderShape( this, aHeaderClassName );
}

}; // end MasterPage prototype

function PlaceholderShape( aMasterPage, sClassName )
{
this.masterPage = aMasterPage;
this.className = sClassName;

this.element = null;
this.textElement = null;
this.init();
}

PlaceholderShape.prototype.isValid = function()
{
return ( this.element && this.textElement );
};


PlaceholderShape.prototype.init = function()
{

var aTextFieldElement = getElementByClassName( this.masterPage.backgroundObjects, this.className );
if( aTextFieldElement )
{
var aPlaceholderElement = getElementByClassName( aTextFieldElement, 'PlaceholderText' );
if( aPlaceholderElement )
{
var aSVGRectElem = getElementByClassName( aTextFieldElement, 'BoundingBox' );
if( aSVGRectElem )
{
var aRect = new Rectangle( aSVGRectElem );
var sTextAdjust = getOOOAttribute( aTextFieldElement, aOOOAttrTextAdjust ) || 'left';
var sTextAnchor, sX;
if( sTextAdjust == 'left' )
{
sTextAnchor = 'start';
sX = String( aRect.left );
}
else if( sTextAdjust == 'right' )
{
sTextAnchor = 'end';
sX = String( aRect.right );
}
else if( sTextAdjust == 'center' )
{
sTextAnchor = 'middle';
var nMiddle = ( aRect.left + aRect.right ) / 2;
sX = String( parseInt( String( nMiddle ) ) );
}
if( sTextAnchor )
aPlaceholderElement.setAttribute( 'text-anchor', sTextAnchor );
if( sX )
aPlaceholderElement.setAttribute( 'x', sX );
}

if( this.masterPage.metaSlide.theMetaDoc.bIsUsePositionedChars )
{
var aTextLineGroupElem = aPlaceholderElement.parentNode.parentNode;
if( aTextLineGroupElem )
{
var sFontFamilyAttr = aTextLineGroupElem.getAttribute( 'font-family' );
if( sFontFamilyAttr )
{
var aChildSet = getElementChildren( aTextLineGroupElem );
if( aChildSet.length > 1  )
var i = 1;
for( ; i < aChildSet.length; ++i )
{
aTextLineGroupElem.removeChild( aChildSet[i] );
}
}
}
}
this.element = aTextFieldElement;
this.textElement = aPlaceholderElement;
}
}
};

function MasterPageView( aMetaSlide )
{
this.aMetaSlide = aMetaSlide;
this.aSlideElement = aMetaSlide.slideElement;
this.aPageElement = aMetaSlide.pageElement;
this.aMasterPage = aMetaSlide.masterPage;
this.aMPVElement = this.createElement();
this.bIsAttached = false;
}


MasterPageView.prototype.attachToSlide = function()
{
if( !this.bIsAttached )
{
var aInsertedElement = this.aSlideElement.insertBefore( this.aMPVElement, this.aPageElement );
assert( aInsertedElement === this.aMPVElement,
'MasterPageView.attachToSlide: aInsertedElement != this.aMPVElement' );

this.bIsAttached = true;
}
};

MasterPageView.prototype.detachFromSlide = function()
{
if( this.bIsAttached )
{
this.aSlideElement.removeChild( this.aMPVElement );
this.bIsAttached = false;
}
};

MasterPageView.prototype.update = function()
{
if( this.aDateTimeFieldHandler && this.aMetaSlide.bIsDateTimeVariable )
this.aDateTimeFieldHandler.update();
};


MasterPageView.prototype.createElement = function()
{
var theDocument = document;
var aMasterPageViewElement = theDocument.createElementNS( NSS['svg'], 'g' );
assert( aMasterPageViewElement,
'MasterPageView.createElement: failed to create a master page view element.' );
aMasterPageViewElement.setAttribute( 'class', 'MasterPageView' );

var aWhiteRect = theDocument.createElementNS( NSS['svg'], 'rect' );
var nWidthExt = WIDTH / 1000;
var nHeightExt = HEIGHT / 1000;
aWhiteRect.setAttribute( 'x', String( -nWidthExt / 2 ) );
aWhiteRect.setAttribute( 'y', String( -nHeightExt / 2 ) );
aWhiteRect.setAttribute( 'width', String( WIDTH + nWidthExt ) );
aWhiteRect.setAttribute( 'height', String( HEIGHT + nHeightExt ) );
aWhiteRect.setAttribute( 'fill', '#FFFFFF' );
aMasterPageViewElement.appendChild( aWhiteRect );

if( this.aMetaSlide.nIsBackgroundVisible )
{
this.aBackgroundElement = theDocument.createElementNS( NSS['svg'], 'use' );
this.aBackgroundElement.setAttribute( 'class', 'Background' );
setNSAttribute( 'xlink', this.aBackgroundElement,
'href', '#' + this.aMasterPage.backgroundId );

aMasterPageViewElement.appendChild( this.aBackgroundElement );
}

if( this.aMetaSlide.nAreMasterObjectsVisible )
{
this.aBackgroundObjectsElement = theDocument.createElementNS( NSS['svg'], 'g' );
this.aBackgroundObjectsElement.setAttribute( 'class', 'BackgroundObjects' );

var aBackgroundObjectSubGroupIdList = this.aMasterPage.aBackgroundObjectSubGroupIdList;
this.aBackgroundSubGroupElementSet = [];
var aPlaceholderShapeSet = this.aMasterPage.aPlaceholderShapeSet;
var aTextFieldContentProviderSet = this.aMetaSlide.aTextFieldContentProviderSet;
var aDefsElement = this.aMetaSlide.element.parentNode;
var aTextFieldHandlerSet = this.aMetaSlide.theMetaDoc.aTextFieldHandlerSet;
var sMasterSlideId = this.aMasterPage.id;

var i = 0;
var sId;
for( ; i < aBackgroundObjectSubGroupIdList.length; ++i )
{
sId = aBackgroundObjectSubGroupIdList[i];
if( sId === aSlideNumberClassName )
{
if( aPlaceholderShapeSet[aSlideNumberClassName] &&
aPlaceholderShapeSet[aSlideNumberClassName].isValid() &&
this.aMetaSlide.nIsPageNumberVisible &&
aTextFieldContentProviderSet[aSlideNumberClassName] )
{
this.aSlideNumberFieldHandler =
new SlideNumberFieldHandler( aPlaceholderShapeSet[aSlideNumberClassName],
aTextFieldContentProviderSet[aSlideNumberClassName] );
this.aSlideNumberFieldHandler.update( this.aMetaSlide.nSlideNumber );
this.aSlideNumberFieldHandler.appendTo( this.aBackgroundObjectsElement );
}
}
else if( sId === aDateTimeClassName )
{
if( this.aMetaSlide.nIsDateTimeVisible )
{
this.aDateTimeFieldHandler =
this.initTextFieldHandler( aDateTimeClassName, aPlaceholderShapeSet,
aTextFieldContentProviderSet, aDefsElement,
aTextFieldHandlerSet, sMasterSlideId );
}
}
else if( sId === aFooterClassName )
{
if( this.aMetaSlide.nIsFooterVisible )
{
this.aFooterFieldHandler =
this.initTextFieldHandler( aFooterClassName, aPlaceholderShapeSet,
aTextFieldContentProviderSet, aDefsElement,
aTextFieldHandlerSet, sMasterSlideId );
}
}
else if( sId === aHeaderClassName )
{
if( this.aMetaSlide.nIsHeaderVisible )
{
this.aHeaderFieldHandler =
this.initTextFieldHandler( aHeaderClassName, aPlaceholderShapeSet,
aTextFieldContentProviderSet, aDefsElement,
aTextFieldHandlerSet, sMasterSlideId );
}
}
else
{
var aBackgroundSubGroupElement = theDocument.createElementNS( NSS['svg'], 'use' );
aBackgroundSubGroupElement.setAttribute( 'class', 'BackgroundObjectSubGroup' );
setNSAttribute( 'xlink', aBackgroundSubGroupElement,
'href', '#' + sId );
this.aBackgroundSubGroupElementSet.push( aBackgroundSubGroupElement );
this.aBackgroundObjectsElement.appendChild( aBackgroundSubGroupElement );
}

}
aMasterPageViewElement.appendChild( this.aBackgroundObjectsElement );
}

return aMasterPageViewElement;
};

MasterPageView.prototype.initTextFieldHandler =
function( sClassName, aPlaceholderShapeSet, aTextFieldContentProviderSet,
aDefsElement, aTextFieldHandlerSet, sMasterSlideId )
{
var aTextFieldHandler = null;
if( aPlaceholderShapeSet[sClassName] &&
aPlaceholderShapeSet[sClassName].isValid()
&& aTextFieldContentProviderSet[sClassName] )
{
var sTextFieldContentProviderId = aTextFieldContentProviderSet[sClassName].sId;
if ( !aTextFieldHandlerSet[ sMasterSlideId ][ sTextFieldContentProviderId ] )
{
aTextFieldHandlerSet[ sMasterSlideId ][ sTextFieldContentProviderId ] =
new TextFieldHandler( aPlaceholderShapeSet[sClassName],
aTextFieldContentProviderSet[sClassName] );
aTextFieldHandler = aTextFieldHandlerSet[ sMasterSlideId ][ sTextFieldContentProviderId ];
aTextFieldHandler.update();
aTextFieldHandler.appendTo( aDefsElement );
}
else
{
aTextFieldHandler = aTextFieldHandlerSet[ sMasterSlideId ][ sTextFieldContentProviderId ];
}

var aTextFieldElement = document.createElementNS( NSS['svg'], 'use' );
aTextFieldElement.setAttribute( 'class', sClassName );
setNSAttribute( 'xlink', aTextFieldElement,
'href', '#' + aTextFieldHandler.sId );
this.aBackgroundObjectsElement.appendChild( aTextFieldElement );
}
return aTextFieldHandler;
};

function TextFieldHandler( aPlaceholderShape, aTextContentProvider )
{
this.aPlaceHolderShape = aPlaceholderShape;
this.aTextContentProvider = aTextContentProvider;
assert( this.aTextContentProvider,
'TextFieldHandler: text content provider not defined.' );
this.sId = 'tf' + String( TextFieldHandler.getUniqueId() );
this.aTextFieldElement = null;
this.aTextPlaceholderElement = null;
this.cloneElement();
}


TextFieldHandler.CURR_UNIQUE_ID = 0;

TextFieldHandler.getUniqueId = function()
{
++TextFieldHandler.CURR_UNIQUE_ID;
return TextFieldHandler.CURR_UNIQUE_ID;
};

TextFieldHandler.prototype.cloneElement = function()
{
assert( this.aPlaceHolderShape && this.aPlaceHolderShape.isValid(),
'TextFieldHandler.cloneElement: placeholder shape is not valid.' );
this.aTextFieldElement = this.aPlaceHolderShape.element.cloneNode( true /* deep clone */ );
assert( this.aTextFieldElement,
'TextFieldHandler.cloneElement: aTextFieldElement is not defined' );
this.aTextFieldElement.setAttribute( 'id', this.sId );
this.aTextFieldElement.removeAttribute( 'visibility' );
this.aTextPlaceholderElement = getElementByClassName( this.aTextFieldElement, 'PlaceholderText' );
assert( this.aTextPlaceholderElement,
'TextFieldHandler.cloneElement: aTextPlaceholderElement is not defined' );
};


TextFieldHandler.prototype.appendTo = function( aParentNode )
{
if( !this.aTextFieldElement )
{
log( 'TextFieldHandler.appendTo: aTextFieldElement is not defined' );
return;
}
if( !aParentNode )
{
log( 'TextFieldHandler.appendTo: parent node is not defined' );
return;
}

aParentNode.appendChild( this.aTextFieldElement );
};

TextFieldHandler.prototype.setTextContent = function( sText )
{
if( !this.aTextPlaceholderElement )
{
log( 'PlaceholderShape.setTextContent: text element is not valid in placeholder of type '
+ this.className + ' that belongs to master slide ' + this.masterPage.id );
return;
}
this.aTextPlaceholderElement.textContent = sText;
};

TextFieldHandler.prototype.update = function()
{
if( !this.aTextContentProvider )
log('TextFieldHandler.update: text content provider not defined.');
else
this.aTextContentProvider.update( this );
};

function SlideNumberFieldHandler( aPlaceholderShape, aTextContentProvider )
{
SlideNumberFieldHandler.superclass.constructor.call( this, aPlaceholderShape, aTextContentProvider );
}
extend( SlideNumberFieldHandler, TextFieldHandler );


SlideNumberFieldHandler.prototype.update = function( nPageNumber )
{
if( !this.aTextContentProvider )
log('TextFieldHandler.update: text content provider not defined.');
else
this.aTextContentProvider.update( this, nPageNumber );
};


function TextFieldContentProvider( aTextFieldContentElement )
{
if( aTextFieldContentElement )
this.sId = aTextFieldContentElement.getAttribute( 'id' );
}

function FixedTextProvider( aTextFieldContentElement )
{
FixedTextProvider.superclass.constructor.call( this, aTextFieldContentElement );
this.text = aTextFieldContentElement.textContent;
}
extend( FixedTextProvider, TextFieldContentProvider );


FixedTextProvider.prototype.update = function( aFixedTextField )
{
aFixedTextField.setTextContent( this.text );
};

function CurrentDateTimeProvider( aTextFieldContentElement )
{
CurrentDateTimeProvider.superclass.constructor.call( this, aTextFieldContentElement );
this.dateTimeFormat = getOOOAttribute( aTextFieldContentElement, aOOOAttrDateTimeFormat );
}
extend( CurrentDateTimeProvider, TextFieldContentProvider );


CurrentDateTimeProvider.prototype.update = function( aDateTimeField )
{
var sText = this.createDateTimeText( this.dateTimeFormat );
aDateTimeField.setTextContent( sText );
};


CurrentDateTimeProvider.prototype.createDateTimeText = function( /*sDateTimeFormat*/ )
{
var aDate = new Date();
var sDate = aDate.toLocaleString();
return sDate;
};

function SlideNumberProvider( nInitialSlideNumber, sPageNumberingType )
{
SlideNumberProvider.superclass.constructor.call( this, null );
this.nInitialSlideNumber = nInitialSlideNumber;
this.pageNumberingType = sPageNumberingType;

}
extend( SlideNumberProvider, TextFieldContentProvider );


SlideNumberProvider.prototype.getNumberingType = function()
{
return this.pageNumberingType;
};


SlideNumberProvider.prototype.update = function( aSlideNumberField, nSlideNumber )
{
if( nSlideNumber === undefined )
{
if( nCurSlide === undefined )
nSlideNumber = this.nInitialSlideNumber;
else
nSlideNumber = nCurSlide + 1;
}
var sText = this.createSlideNumberText( nSlideNumber, this.getNumberingType() );
aSlideNumberField.setTextContent( sText );
};


SlideNumberProvider.prototype.createSlideNumberText = function( nSlideNumber /*, sNumberingType*/ )
{
return String( nSlideNumber );
};


function SlideIndexPage()
{
this.pageElementId = 'slide_index';
this.pageBgColor = 'rgb(252,252,252)';
this.pageElement = this.createPageElement();
assert( this.pageElement, 'SlideIndexPage: pageElement is not valid' );
this.indexColumns = INDEX_COLUMNS_DEFAULT;
this.totalThumbnails = this.indexColumns * this.indexColumns;
this.selectedSlideIndex = undefined;

this.xSpacingFactor = 600/28000;
this.ySpacingFactor = 450/21000;
this.xSpacing = WIDTH * this.xSpacingFactor;
this.ySpacing = HEIGHT * this.ySpacingFactor;
this.halfBorderWidthFactor = ( 300/28000 ) * ( this.indexColumns / 3 );
this.halfBorderWidth = WIDTH * this.halfBorderWidthFactor;
this.borderWidth = 2 * this.halfBorderWidth;
this.scaleFactor = ( 1 - ( this.indexColumns + 1 ) * this.xSpacingFactor ) /
( this.indexColumns * ( 1 + 2 * this.halfBorderWidthFactor ) );

this.thumbnailMouseAreaTemplateId = 'thumbnail_mouse_area';
this.thumbnailMouseAreaTemplateElement = null;
this.thumbnailBorderTemplateId = 'thumbnail_border';
this.thumbnailBorderTemplateElement = null;
this.createTemplateElements();

this.aThumbnailSet = new Array( this.totalThumbnails );
for( var i = 0; i < this.totalThumbnails; ++i )
{
this.aThumbnailSet[i] = new Thumbnail( this, i );
this.aThumbnailSet[i].updateView();
}

this.curThumbnailIndex = 0;
}


SlideIndexPage.prototype.getTotalThumbnails = function()
{
return this.totalThumbnails;
};

SlideIndexPage.prototype.show = function()
{
this.pageElement.setAttribute( 'display', 'inherit' );
};

SlideIndexPage.prototype.hide = function()
{
this.pageElement.setAttribute( 'display', 'none' );
};

SlideIndexPage.prototype.setSelection = function( nIndex )
{
nIndex = getSafeIndex( nIndex, 0, this.getTotalThumbnails() - 1 );
if( this.curThumbnailIndex != nIndex )
{
this.aThumbnailSet[ this.curThumbnailIndex ].unselect();
this.aThumbnailSet[ nIndex ].select();
this.curThumbnailIndex = nIndex;
}
this.selectedSlideIndex = this.aThumbnailSet[ nIndex ].slideIndex;
};

SlideIndexPage.prototype.createPageElement = function()
{
var aPageElement = document.createElementNS( NSS['svg'], 'g' );
aPageElement.setAttribute( 'id', this.pageElementId );
aPageElement.setAttribute( 'display', 'none' );
aPageElement.setAttribute( 'visibility', 'visible' );

var sPageBgColor = this.pageBgColor + ';';
var aRectElement = document.createElementNS( NSS['svg'], 'rect' );
aRectElement.setAttribute( 'x', 0 );
aRectElement.setAttribute( 'y', 0 );
aRectElement.setAttribute( 'width', WIDTH );
aRectElement.setAttribute( 'height', HEIGHT );
aRectElement.setAttribute( 'style', 'stroke:none;fill:' + sPageBgColor );

aPageElement.appendChild( aRectElement );
ROOT_NODE.appendChild( aPageElement );
return( document.getElementById( this.pageElementId ) );
};

SlideIndexPage.prototype.createTemplateElements = function()
{
var aDefsElement = document.createElementNS( NSS['svg'], 'defs' );
var aRectElement = document.createElementNS( NSS['svg'], 'rect' );
aRectElement.setAttribute( 'id', this.thumbnailBorderTemplateId );
aRectElement.setAttribute( 'x', -this.halfBorderWidth );
aRectElement.setAttribute( 'y', -this.halfBorderWidth );
aRectElement.setAttribute( 'rx', this.halfBorderWidth );
aRectElement.setAttribute( 'ry', this.halfBorderWidth );
aRectElement.setAttribute( 'width', WIDTH + this.halfBorderWidth );
aRectElement.setAttribute( 'height', HEIGHT + this.halfBorderWidth );
aRectElement.setAttribute( 'stroke-width', this.borderWidth );
aRectElement.setAttribute( 'fill', 'none' );
aDefsElement.appendChild( aRectElement );

aRectElement = document.createElementNS( NSS['svg'], 'rect' );
aRectElement.setAttribute( 'id', this.thumbnailMouseAreaTemplateId );
aRectElement.setAttribute( 'x', 0 );
aRectElement.setAttribute( 'y', 0 );
aRectElement.setAttribute( 'width', WIDTH );
aRectElement.setAttribute( 'height', HEIGHT );
aRectElement.setAttribute( 'fill', this.pageBgColor );
aDefsElement.appendChild( aRectElement );

this.pageElement.appendChild( aDefsElement );

this.thumbnailMouseAreaTemplateElement = document.getElementById( this.thumbnailMouseAreaTemplateId );
this.thumbnailBorderTemplateElement = document.getElementById( this.thumbnailBorderTemplateId );
};

SlideIndexPage.prototype.decreaseNumberOfColumns  = function()
{
this.setNumberOfColumns( this.indexColumns - 1 );
};

SlideIndexPage.prototype.increaseNumberOfColumns  = function()
{
this.setNumberOfColumns( this.indexColumns + 1 );
};

SlideIndexPage.prototype.resetNumberOfColumns  = function()
{
this.setNumberOfColumns( INDEX_COLUMNS_DEFAULT );
};

SlideIndexPage.prototype.setNumberOfColumns  = function( nNumberOfColumns )
{
if( this.indexColumns == nNumberOfColumns )  return;
if( nNumberOfColumns < 2 || nNumberOfColumns > 6 ) return;

var suspendHandle = ROOT_NODE.suspendRedraw(500);

var nOldTotalThumbnails = this.totalThumbnails;
this.indexColumns = nNumberOfColumns;
this.totalThumbnails = nNumberOfColumns * nNumberOfColumns;

this.aThumbnailSet[this.curThumbnailIndex].unselect();

var i;
for( i = this.totalThumbnails; i < nOldTotalThumbnails; ++i )
{
this.aThumbnailSet[i].removeElement();
}

for( i = nOldTotalThumbnails; i < this.totalThumbnails; ++i )
{
this.aThumbnailSet[i] = new Thumbnail( this, i );
}

this.halfBorderWidthFactor = ( 300/28000 ) * ( this.indexColumns / 3 );
this.halfBorderWidth = WIDTH * this.halfBorderWidthFactor;
this.borderWidth = 2 * this.halfBorderWidth;
this.scaleFactor = ( 1 - ( this.indexColumns + 1 ) * this.xSpacingFactor ) /
( this.indexColumns * ( 1 + 2 * this.halfBorderWidthFactor ) );

var aRectElement = this.thumbnailBorderTemplateElement;
aRectElement.setAttribute( 'x', -this.halfBorderWidth );
aRectElement.setAttribute( 'y', -this.halfBorderWidth );
aRectElement.setAttribute( 'rx', this.halfBorderWidth );
aRectElement.setAttribute( 'ry', this.halfBorderWidth );
aRectElement.setAttribute( 'width', WIDTH + this.halfBorderWidth );
aRectElement.setAttribute( 'height', HEIGHT + this.halfBorderWidth );
aRectElement.setAttribute( 'stroke-width', this.borderWidth );

for( i = 0; i < this.totalThumbnails; ++i )
{
this.aThumbnailSet[i].updateView();
}

this.curThumbnailIndex = this.selectedSlideIndex % this.totalThumbnails;
this.aThumbnailSet[this.curThumbnailIndex].select();

INDEX_OFFSET = -1;
indexSetPageSlide( this.selectedSlideIndex );

ROOT_NODE.unsuspendRedraw( suspendHandle );
ROOT_NODE.forceRedraw();
};


function Thumbnail( aSlideIndexPage, nIndex )
{
this.container = aSlideIndexPage;
this.index = nIndex;//= getSafeIndex( nIndex, 0, this.container.getTotalThumbnails() );
this.pageElement = this.container.pageElement;
this.thumbnailId = 'thumbnail' + this.index;
this.thumbnailElement = this.createThumbnailElement();
this.slideElement = getElementByClassName( this.thumbnailElement, 'Slide' );
this.borderElement = getElementByClassName( this.thumbnailElement, 'Border' );
this.mouseAreaElement = getElementByClassName( this.thumbnailElement, 'MouseArea' );
this.aTransformSet = new Array( 3 );
this.visibility = VISIBLE;
this.isSelected = false;
}

Thumbnail.prototype.sNormalBorderColor = 'rgb(216,216,216)';
Thumbnail.prototype.sSelectionBorderColor = 'rgb(92,92,255)';

Thumbnail.prototype.removeElement = function()
{
if( this.thumbnailElement )
this.container.pageElement.removeChild( this.thumbnailElement );
};

Thumbnail.prototype.show = function()
{
if( this.visibility == HIDDEN )
{
this.thumbnailElement.setAttribute( 'display', 'inherit' );
this.visibility = VISIBLE;
}
};

Thumbnail.prototype.hide = function()
{
if( this.visibility == VISIBLE )
{
this.thumbnailElement.setAttribute( 'display', 'none' );
this.visibility = HIDDEN;
}
};

Thumbnail.prototype.select = function()
{
if( !this.isSelected )
{
this.borderElement.setAttribute( 'stroke', this.sSelectionBorderColor );
this.isSelected = true;
}
};

Thumbnail.prototype.unselect = function()
{
if( this.isSelected )
{
this.borderElement.setAttribute( 'stroke', this.sNormalBorderColor );
this.isSelected = false;
}
};

Thumbnail.prototype.updateView = function()
{
this.column = this.index % this.container.indexColumns;
this.row = ( this.index - this.column ) / this.container.indexColumns;
this.halfBorderWidth = this.container.halfBorderWidth;
this.borderWidth = this.container.borderWidth;
this.width = ( WIDTH + this.borderWidth ) * this.container.scaleFactor;
this.height = ( HEIGHT + this.borderWidth ) * this.container.scaleFactor;
this.aTransformSet[2] = 'translate(' + this.halfBorderWidth + ' ' + this.halfBorderWidth + ')';
this.aTransformSet[1] = 'scale(' + this.container.scaleFactor + ')';
var sTransformAttrValue = this.computeTransform();
this.thumbnailElement.setAttribute( 'transform', sTransformAttrValue );
this.mouseAreaElement.setAttribute( 'onmouseover', 'theSlideIndexPage.aThumbnailSet[' + this.index  + '].onMouseOver()' );
};

Thumbnail.prototype.update = function( nIndex )
{
if( this.slideIndex == nIndex )  return;

var aMetaSlide = theMetaDoc.aMetaSlideSet[nIndex];
aMetaSlide.updateMasterPageView();
setNSAttribute( 'xlink', this.slideElement, 'href', '#' + aMetaSlide.slideId );
this.slideIndex = nIndex;
};

Thumbnail.prototype.clear = function( )
{
setNSAttribute( 'xlink', this.slideElement, 'href', '' );
};

Thumbnail.prototype.createThumbnailElement = function()
{
var aThumbnailElement = document.createElementNS( NSS['svg'], 'g' );
aThumbnailElement.setAttribute( 'id', this.thumbnailId );
aThumbnailElement.setAttribute( 'display', 'inherit' );

var aSlideElement = document.createElementNS( NSS['svg'], 'use' );
setNSAttribute( 'xlink', aSlideElement, 'href', '' );
aSlideElement.setAttribute( 'class', 'Slide' );
aThumbnailElement.appendChild( aSlideElement );

var aMouseAreaElement = document.createElementNS( NSS['svg'], 'use' );
setNSAttribute( 'xlink', aMouseAreaElement, 'href', '#' + this.container.thumbnailMouseAreaTemplateId );
aMouseAreaElement.setAttribute( 'class', 'MouseArea' );
aMouseAreaElement.setAttribute( 'opacity', 0.0 );
aThumbnailElement.appendChild( aMouseAreaElement );

var aBorderElement = document.createElementNS( NSS['svg'], 'use' );
setNSAttribute( 'xlink', aBorderElement, 'href', '#' + this.container.thumbnailBorderTemplateId );
aBorderElement.setAttribute( 'stroke', this.sNormalBorderColor );
aBorderElement.setAttribute( 'class', 'Border' );
aThumbnailElement.appendChild( aBorderElement );

this.container.pageElement.appendChild( aThumbnailElement );
return( document.getElementById( this.thumbnailId ) );
};

Thumbnail.prototype.computeTransform = function()
{
var nXSpacing = this.container.xSpacing;
var nYSpacing = this.container.ySpacing;

var nXOffset = nXSpacing + ( this.width + nXSpacing ) * this.column;
var nYOffset = nYSpacing + ( this.height + nYSpacing ) * this.row;

this.aTransformSet[0] = 'translate(' + nXOffset + ' ' + nYOffset + ')';

var sTransform = this.aTransformSet.join( ' ' );

return sTransform;
};

Thumbnail.prototype.onMouseOver = function()
{
if( ( currentMode == INDEX_MODE ) && ( this.container.curThumbnailIndex !=  this.index ) )
{
this.container.setSelection( this.index );
}
};


function init()
{
var VIEWBOX = ROOT_NODE.getAttribute('viewBox');

if( VIEWBOX )
{
WIDTH = ROOT_NODE.viewBox.animVal.width;
HEIGHT = ROOT_NODE.viewBox.animVal.height;
}

aSlideShow = new SlideShow();
theMetaDoc =  new MetaDocument();
aSlideShow.bIsEnabled = theMetaDoc.bIsAnimated;
theSlideIndexPage = new SlideIndexPage();
aSlideShow.displaySlide( theMetaDoc.nStartSlideNumber, false );

var ua = navigator.userAgent;
if (ua.indexOf(' AppleWebKit/') !== -1 &&
ua.indexOf(' Mobile/') !== -1) {
var hammer = new Hammer(ROOT_NODE);
hammer.on('swipeleft', function() {
switchSlide(1, false);
});
hammer.on('swiperight', function() {
switchSlide(-1, false);
});
hammer.get('swipe').set({ direction: Hammer.DIRECTION_ALL });
hammer.on('swipeup', function() {
aSlideShow.exitSlideShowInApp();
});
hammer.on('swipedown', function() {
aSlideShow.exitSlideShowInApp();
});
}
}

function presentationEngineStop(message)
{
alert( message + '\nThe presentation engine will be stopped' );
document.onkeydown = null;
document.onkeypress = null;
document.onclick = null;
window.onmousewheel = null;
}

function assert( condition, message )
{
if (!condition)
{
presentationEngineStop( message );
if (typeof console == 'object')
console.trace();
throw new Error( message );
}
}

function dispatchEffects(dir)
{

if( dir == 1 )
{
var bRet = aSlideShow.nextEffect();

if( !bRet )
{
switchSlide( 1, false );
}
}
else
{
switchSlide( dir, false );
}
}

function skipAllEffects()
{
var bRet = aSlideShow.skipAllEffects();
if( !bRet )
{
switchSlide( 1, true );
}
}

function skipEffects(dir)
{
if( dir == 1 )
{
var bRet = aSlideShow.skipPlayingOrNextEffect();

if( !bRet )
{
switchSlide( 1, true );
}
}
else
{
switchSlide( dir, true );
}
}

function switchSlide( nOffset, bSkipTransition )
{
var nNextSlide = nCurSlide + nOffset;
aSlideShow.displaySlide( nNextSlide, bSkipTransition );
}

function displayIndex( offsetNumber )
{
var aMetaSlideSet = theMetaDoc.aMetaSlideSet;
offsetNumber = getSafeIndex( offsetNumber, 0, aMetaSlideSet.length - 1 );

var nTotalThumbnails = theSlideIndexPage.getTotalThumbnails();
var nEnd = Math.min( offsetNumber + nTotalThumbnails, aMetaSlideSet.length);

var aThumbnailSet = theSlideIndexPage.aThumbnailSet;
var j = 0;
for( var i = offsetNumber; i < nEnd; ++i, ++j )
{
aThumbnailSet[j].update( i );
aThumbnailSet[j].show();
}
for( ; j < nTotalThumbnails; ++j )
{
aThumbnailSet[j].hide();
}

if (INDEX_OFFSET != offsetNumber)
INDEX_OFFSET = offsetNumber;
}

function toggleSlideIndex()
{
if( currentMode == SLIDE_MODE )
{

theMetaDoc.getCurrentSlide().hide();
INDEX_OFFSET = -1;
indexSetPageSlide( nCurSlide );
theSlideIndexPage.show();
currentMode = INDEX_MODE;
}
else if( currentMode == INDEX_MODE )
{
theSlideIndexPage.hide();
var nNewSlide = theSlideIndexPage.selectedSlideIndex;

aSlideShow.displaySlide( nNewSlide, true );
currentMode = SLIDE_MODE;
}
}

function abandonIndexMode()
{
theSlideIndexPage.selectedSlideIndex = nCurSlide;
toggleSlideIndex();
}


var CURR_UNIQUE_ID = 0;

function getUniqueId()
{
++CURR_UNIQUE_ID;
return CURR_UNIQUE_ID;
}

function mem_fn( sMethodName )
{
return  function( aObject )
{
var aMethod = aObject[ sMethodName ];
if( aMethod )
aMethod.call( aObject );
else
log( 'method sMethodName not found' );
};
}

function bind( aObject, aMethod )
{
return  function()
{
return aMethod.call( aObject, arguments[0] );
};
}

function bind2( aFunction )
{
if( !aFunction  )
log( 'bind2: passed function is not valid.' );

var aBoundArgList = arguments;

var aResultFunction = null;

switch( aBoundArgList.length )
{
case 1: aResultFunction = function()
{
return aFunction.call( arguments[0], arguments[1],
arguments[2], arguments[3],
arguments[4] );
};
break;
case 2: aResultFunction = function()
{
return aFunction.call( aBoundArgList[1], arguments[0],
arguments[1], arguments[2],
arguments[3] );
};
break;
case 3: aResultFunction = function()
{
return aFunction.call( aBoundArgList[1], aBoundArgList[2],
arguments[0], arguments[1],
arguments[2] );
};
break;
case 4: aResultFunction = function()
{
return aFunction.call( aBoundArgList[1], aBoundArgList[2],
aBoundArgList[3], arguments[0],
arguments[1] );
};
break;
case 5: aResultFunction = function()
{
return aFunction.call( aBoundArgList[1], aBoundArgList[2],
aBoundArgList[3], aBoundArgList[4],
arguments[0] );
};
break;
default:
log( 'bind2: arity not handled.' );
}

return aResultFunction;
}

function getCurrentSystemTime()
{
return ( new Date() ).getTime();
}

function getSlideAnimationsRoot( sSlideId )
{
return theMetaDoc.aSlideAnimationsMap[ sSlideId ];
}

function getElementChildren( aElement )
{
var aChildrenArray = [];

var nSize = aElement.childNodes.length;

for( var i = 0; i < nSize; ++i )
{
if( aElement.childNodes[i].nodeType == 1 )
aChildrenArray.push( aElement.childNodes[i] );
}

return aChildrenArray;
}

function removeWhiteSpaces( str )
{
if( !str )
return '';

var re = / */;
var aSplitString = str.split( re );
return aSplitString.join('');
}

function clamp( nValue, nMinimum, nMaximum )
{
if( nValue < nMinimum )
{
return nMinimum;
}
else if( nValue > nMaximum )
{
return nMaximum;
}
else
{
return nValue;
}
}

function makeMatrixString( a, b, c, d, e, f )
{
var s = 'matrix(';
s += a + ', ';
s += b + ', ';
s += c + ', ';
s += d + ', ';
s += e + ', ';
s += f + ')';

return s;
}

function matrixToString( aSVGMatrix )
{
return makeMatrixString( aSVGMatrix.a, aSVGMatrix.b, aSVGMatrix.c,
aSVGMatrix.d, aSVGMatrix.e, aSVGMatrix.f );
}


function numberParser( sValue )
{
if( sValue === '.' )
return undefined;
var reFloatNumber = /^[+-]?[0-9]*[.]?[0-9]*$/;

if( reFloatNumber.test( sValue ) )
return parseFloat( sValue );
else
return undefined;
}

function booleanParser( sValue )
{
sValue = sValue.toLowerCase();
if( sValue === 'true' )
return true;
else if( sValue === 'false' )
return false;
else
return undefined;
}

function colorParser( sValue )
{

function hsl( nHue, nSaturation, nLuminance )
{
return new HSLColor( nHue, nSaturation / 100, nLuminance / 100 );
}

function rgb( nRed, nGreen, nBlue )
{
return new RGBColor( nRed / 255, nGreen / 255, nBlue / 255 );
}

function prgb( nRed, nGreen, nBlue )
{
return new RGBColor( nRed / 100, nGreen / 100, nBlue / 100 );
}

var sCommaPattern = ' *[,] *';
var sIntegerPattern = '[+-]?[0-9]+';
var sHexDigitPattern = '[0-9A-Fa-f]';

var sHexColorPattern = '#(' + sHexDigitPattern + '{2})('
+ sHexDigitPattern + '{2})('
+ sHexDigitPattern + '{2})';

var sRGBIntegerPattern = 'rgb[(] *' + sIntegerPattern + sCommaPattern
+ sIntegerPattern + sCommaPattern
+ sIntegerPattern + ' *[)]';

var sRGBPercentPattern = 'rgb[(] *' + sIntegerPattern + '%' + sCommaPattern
+ sIntegerPattern + '%' + sCommaPattern
+ sIntegerPattern + '%' + ' *[)]';

var sHSLPercentPattern = 'hsl[(] *' + sIntegerPattern + sCommaPattern
+ sIntegerPattern + '%' + sCommaPattern
+ sIntegerPattern + '%' + ' *[)]';

var reHexColor = new RegExp( sHexColorPattern );
var reRGBInteger = new RegExp( sRGBIntegerPattern );
var reRGBPercent = new RegExp( sRGBPercentPattern );
var reHSLPercent = new RegExp( sHSLPercentPattern );

if( reHexColor.test( sValue ) )
{
var aRGBTriple = reHexColor.exec( sValue );

var nRed    = parseInt( aRGBTriple[1], 16 ) / 255;
var nGreen  = parseInt( aRGBTriple[2], 16 ) / 255;
var nBlue   = parseInt( aRGBTriple[3], 16 ) / 255;

return new RGBColor( nRed, nGreen, nBlue );
}
else if( reHSLPercent.test( sValue ) )
{
sValue = sValue.replace( '%', '' ).replace( '%', '' );
return eval( sValue );
}
else if( reRGBInteger.test( sValue ) )
{
return eval( sValue );
}
else if( reRGBPercent.test( sValue ) )
{
sValue = 'p' + sValue.replace( '%', '' ).replace( '%', '' ).replace( '%', '' );
return eval( sValue );
}
else
{
return null;
}
}


function RGBColor( nRed, nGreen, nBlue )
{
this.eColorSpace = COLOR_SPACE_RGB;
this.nRed = nRed;
this.nGreen = nGreen;
this.nBlue = nBlue;
}


RGBColor.prototype.clone = function()
{
return new RGBColor( this.nRed, this.nGreen, this.nBlue );
};

RGBColor.prototype.equal = function( aRGBColor )
{
return ( this.nRed == aRGBColor.nRed ) &&
( this.nGreen == aRGBColor.nGreen ) &&
( this.nBlue == aRGBColor.nBlue );
};

RGBColor.prototype.add = function( aRGBColor )
{
this.nRed += aRGBColor.nRed;
this.nGreen += aRGBColor.nGreen;
this.nBlue += aRGBColor.nBlue;
return this;
};

RGBColor.prototype.scale = function( aT )
{
this.nRed *= aT;
this.nGreen *= aT;
this.nBlue *= aT;
return this;
};

RGBColor.clamp = function( aRGBColor )
{
var aClampedRGBColor = new RGBColor( 0, 0, 0 );

aClampedRGBColor.nRed   = clamp( aRGBColor.nRed, 0.0, 1.0 );
aClampedRGBColor.nGreen = clamp( aRGBColor.nGreen, 0.0, 1.0 );
aClampedRGBColor.nBlue  = clamp( aRGBColor.nBlue, 0.0, 1.0 );

return aClampedRGBColor;
};

RGBColor.prototype.convertToHSL = function()
{
var nRed   = clamp( this.nRed, 0.0, 1.0 );
var nGreen = clamp( this.nGreen, 0.0, 1.0 );
var nBlue  = clamp( this.nBlue, 0.0, 1.0 );

var nMax = Math.max( nRed, nGreen, nBlue );
var nMin = Math.min( nRed, nGreen, nBlue );
var nDelta = nMax - nMin;

var nLuminance  = ( nMax + nMin ) / 2.0;
var nSaturation = 0.0;
var nHue = 0.0;
if( nDelta !== 0 )
{
nSaturation = ( nLuminance > 0.5 ) ?
( nDelta / ( 2.0 - nMax - nMin) ) :
( nDelta / ( nMax + nMin ) );

if( nRed == nMax )
nHue = ( nGreen - nBlue ) / nDelta;
else if( nGreen == nMax )
nHue = 2.0 + ( nBlue - nRed ) / nDelta;
else if( nBlue == nMax )
nHue = 4.0 + ( nRed - nGreen ) / nDelta;

nHue *= 60.0;

if( nHue < 0.0 )
nHue += 360.0;
}

return new HSLColor( nHue, nSaturation, nLuminance );

};

RGBColor.prototype.toString = function( bClamped )
{
var aRGBColor;
if( bClamped )
{
aRGBColor = RGBColor.clamp( this );
}
else
{
aRGBColor = this;
}

var nRed = Math.round( aRGBColor.nRed * 255 );
var nGreen = Math.round( aRGBColor.nGreen * 255 );
var nBlue = Math.round( aRGBColor.nBlue * 255 );

return ( 'rgb(' + nRed + ',' + nGreen + ',' + nBlue + ')' );
};

RGBColor.interpolate = function( aStartRGB , aEndRGB, nT )
{
var aResult = aStartRGB.clone();
var aTEndRGB = aEndRGB.clone();
aResult.scale( 1.0 - nT );
aTEndRGB.scale( nT );
aResult.add( aTEndRGB );

return aResult;
};


function HSLColor( nHue, nSaturation, nLuminance )
{
this.eColorSpace = COLOR_SPACE_HSL;
this.nHue = nHue;
this.nSaturation = nSaturation;
this.nLuminance = nLuminance;

this.normalizeHue();
}


HSLColor.prototype.clone = function()
{
return new HSLColor( this.nHue, this.nSaturation, this.nLuminance );
};

HSLColor.prototype.equal = function( aHSLColor )
{
return ( this.nHue == aHSLColor.nHue ) &&
( this.nSaturation += aHSLColor.nSaturation ) &&
( this.nLuminance += aHSLColor.nLuminance );
};

HSLColor.prototype.add = function( aHSLColor )
{
this.nHue += aHSLColor.nHue;
this.nSaturation += aHSLColor.nSaturation;
this.nLuminance += aHSLColor.nLuminance;
this.normalizeHue();
return this;
};

HSLColor.prototype.scale = function( aT )
{
this.nHue *= aT;
this.nSaturation *= aT;
this.nLuminance *= aT;
this.normalizeHue();
return this;
};

HSLColor.clamp = function( aHSLColor )
{
var aClampedHSLColor = new HSLColor( 0, 0, 0 );

aClampedHSLColor.nHue = aHSLColor.nHue % 360;
if( aClampedHSLColor.nHue < 0 )
aClampedHSLColor.nHue += 360;
aClampedHSLColor.nSaturation = clamp( aHSLColor.nSaturation, 0.0, 1.0 );
aClampedHSLColor.nLuminance = clamp( aHSLColor.nLuminance, 0.0, 1.0 );
};

HSLColor.prototype.normalizeHue = function()
{
this.nHue = this.nHue % 360;
if( this.nHue < 0 ) this.nHue += 360;
};

HSLColor.prototype.toString = function()
{
return 'hsl(' + this.nHue.toFixed( 3 ) + ','
+ this.nSaturation.toFixed( 3 ) + ','
+ this.nLuminance.toFixed( 3 ) + ')';
};

HSLColor.prototype.convertToRGB = function()
{

var nHue = this.nHue % 360;
if( nHue < 0 ) nHue += 360;
var nSaturation =  clamp( this.nSaturation, 0.0, 1.0 );
var nLuminance = clamp( this.nLuminance, 0.0, 1.0 );


if( nSaturation === 0 )
{
return new RGBColor( nLuminance, nLuminance, nLuminance );
}

var nVal1 = ( nLuminance <= 0.5 ) ?
( nLuminance * (1.0 + nSaturation) ) :
( nLuminance + nSaturation - nLuminance * nSaturation );

var nVal2 = 2.0 * nLuminance - nVal1;

var nRed    = HSLColor.hsl2rgbHelper( nVal2, nVal1, nHue + 120 );
var nGreen  = HSLColor.hsl2rgbHelper( nVal2, nVal1, nHue );
var nBlue   = HSLColor.hsl2rgbHelper( nVal2, nVal1, nHue - 120 );

return new RGBColor( nRed, nGreen, nBlue );
};

HSLColor.hsl2rgbHelper = function( nValue1, nValue2, nHue )
{
nHue = nHue % 360;
if( nHue < 0 )
nHue += 360;

if( nHue < 60.0 )
return nValue1 + ( nValue2 - nValue1 ) * nHue / 60.0;
else if( nHue < 180.0 )
return nValue2;
else if( nHue < 240.0 )
return ( nValue1 + ( nValue2 - nValue1 ) * ( 240.0 - nHue ) / 60.0 );
else
return nValue1;
};

HSLColor.interpolate = function( aFrom, aTo, nT, bCCW )
{
var nS = 1.0 - nT;

var nHue = 0.0;
if( aFrom.nHue <= aTo.nHue && !bCCW )
{
nHue = nS * (aFrom.nHue + 360.0) + nT * aTo.nHue;
}
else if( aFrom.nHue > aTo.nHue && bCCW )
{
nHue = nS * aFrom.nHue + nT * (aTo.nHue + 360.0);
}
else
{
nHue = nS * aFrom.nHue + nT * aTo.nHue;
}

var nSaturation = nS * aFrom.nSaturation + nT * aTo.nSaturation;
var nLuminance = nS * aFrom.nLuminance + nT * aTo.nLuminance;

return new HSLColor( nHue, nSaturation, nLuminance );
};


var SVGIdentityMatrix = document.documentElement.createSVGMatrix();

SVGMatrix.prototype.setToIdentity = function()
{
this.a = this.d = 1;
this.b = this.c = this.d = this.e = 0;
};

SVGMatrix.prototype.setToRotationAroundPoint = function( nX, nY, nAngle )
{
nAngle = Math.PI * nAngle / 180;
var nSin = Math.sin( nAngle );
var nCos = Math.cos( nAngle );

this.a = nCos; this.c = -nSin; this.e = nX * (1 - nCos) + nY * nSin;
this.b = nSin; this.d =  nCos; this.f = nY * (1 - nCos) - nX * nSin;
};


SVGPathElement.prototype.prependPath = function( aPath )
{
var sPathData = aPath.getAttribute( 'd' );
sPathData += ( ' ' + this.getAttribute( 'd' ) );
this.setAttribute( 'd', sPathData );
};

SVGPathElement.prototype.appendPath = function( aPath )
{
var sPathData = this.getAttribute( 'd' );
sPathData += ( ' ' + aPath.getAttribute( 'd' ) );
this.setAttribute( 'd', sPathData );
};

function flipOnYAxis( aPath )
{
var aPolyPath = aPath.cloneNode(true);
var aTransform = document.documentElement.createSVGMatrix();
aTransform.a = -1;
aTransform.e = 1;
aPolyPath.matrixTransform(aTransform);
return aPolyPath;
}

function flipOnXAxis( aPath )
{
var aPolyPath = aPath.cloneNode(true);
var aTransform = document.documentElement.createSVGMatrix();
aTransform.d = -1;
aTransform.f = 1;
aPolyPath.matrixTransform(aTransform);
return aPolyPath;
}

SVGPathElement.prototype.matrixTransform = function( aSVGMatrix )
{
if( SVGPathSegList.prototype.matrixTransform )
{
this.pathSegList.matrixTransform( aSVGMatrix );
return;
}

var aPathSegList = this.pathSegList;
var nLength = aPathSegList.numberOfItems;
var i;
for( i = 0; i < nLength; ++i )
{
aPathSegList.getItem( i ).matrixTransform( aSVGMatrix );
}
};

SVGPathElement.prototype.changeOrientation = function()
{
var aPathSegList = this.pathSegList;
var nLength = aPathSegList.numberOfItems;
if( nLength == 0 ) return;

if( SVGPathSegList.prototype.changeOrientation )
{
aPathSegList.changeOrientation();
return;
}

var nCurrentX = 0;
var nCurrentY = 0;

var aPathSeg = aPathSegList.getItem( 0 );
if( aPathSeg.pathSegTypeAsLetter == 'M' )
{
nCurrentX = aPathSeg.x;
nCurrentY = aPathSeg.y;
aPathSegList.removeItem( 0 );
--nLength;
}

var i;
for( i = 0; i < nLength; ++i )
{
aPathSeg = aPathSegList.getItem( i );
var aPoint = aPathSeg.changeOrientation( nCurrentX, nCurrentY );
nCurrentX = aPoint.x;
nCurrentY = aPoint.y;
}


for( i = nLength - 2; i >= 0; --i )
{
aPathSeg = aPathSegList.removeItem( i );
aPathSegList.appendItem( aPathSeg );
}

var aMovePathSeg = this.createSVGPathSegMovetoAbs( nCurrentX, nCurrentY );
aPathSegList.insertItemBefore( aMovePathSeg, 0 );

};


try
{   // Firefox, Google Chrome, Internet Explorer, Safari.

SVGPathSegMovetoAbs.prototype.matrixTransform = function( aSVGMatrix )
{
SVGPathMatrixTransform( this, aSVGMatrix );
};

SVGPathSegLinetoAbs.prototype.matrixTransform = function( aSVGMatrix )
{
SVGPathMatrixTransform( this, aSVGMatrix );
};

SVGPathSegCurvetoQuadraticAbs.prototype.matrixTransform = function( aSVGMatrix )
{
SVGPathMatrixTransform( this, aSVGMatrix );
var nX = this.x1;
this.x1 = aSVGMatrix.a * nX + aSVGMatrix.c * this.y1 + aSVGMatrix.e;
this.y1 = aSVGMatrix.b * nX + aSVGMatrix.d * this.y1 + aSVGMatrix.f;
};

SVGPathSegCurvetoCubicAbs.prototype.matrixTransform = function( aSVGMatrix )
{
SVGPathMatrixTransform( this, aSVGMatrix );
var nX = this.x1;
this.x1 = aSVGMatrix.a * nX + aSVGMatrix.c * this.y1 + aSVGMatrix.e;
this.y1 = aSVGMatrix.b * nX + aSVGMatrix.d * this.y1 + aSVGMatrix.f;
nX = this.x2;
this.x2 = aSVGMatrix.a * nX + aSVGMatrix.c * this.y2 + aSVGMatrix.e;
this.y2 = aSVGMatrix.b * nX + aSVGMatrix.d * this.y2 + aSVGMatrix.f;
};


SVGPathSegMovetoAbs.prototype.changeOrientation = function( nCurrentX, nCurrentY )
{
var aPoint = { x: this.x, y: this.y };
this.x = nCurrentX;
this.y = nCurrentY;
return aPoint;
};

SVGPathSegLinetoAbs.prototype.changeOrientation = function( nCurrentX, nCurrentY )
{
var aPoint = { x: this.x, y: this.y };
this.x = nCurrentX;
this.y = nCurrentY;
return aPoint;
};

SVGPathSegCurvetoQuadraticAbs.prototype.changeOrientation = function( nCurrentX, nCurrentY )
{
var aPoint = { x: this.x, y: this.y };
this.x = nCurrentX;
this.y = nCurrentY;
return aPoint;
};

SVGPathSegCurvetoCubicAbs.prototype.changeOrientation = function( nCurrentX, nCurrentY )
{
var aPoint = { x: this.x, y: this.y };
this.x = nCurrentX;
this.y = nCurrentY;
var nX = this.x1;
this.x1 = this.x2;
this.x2 = nX;
var nY = this.y1;
this.y1 = this.y2;
this.y2 = nY;
return aPoint;
};

}
catch( e )
{   // Opera

if( e.name == 'ReferenceError' )
{
SVGPathSeg.prototype.matrixTransform = function( aSVGMatrix )
{
var nX;
switch( this.pathSegTypeAsLetter )
{
case 'C':
nX = this.x2;
this.x2 = aSVGMatrix.a * nX + aSVGMatrix.c * this.y2 + aSVGMatrix.e;
this.y2 = aSVGMatrix.b * nX + aSVGMatrix.d * this.y2 + aSVGMatrix.f;
case 'Q':
nX = this.x1;
this.x1 = aSVGMatrix.a * nX + aSVGMatrix.c * this.y1 + aSVGMatrix.e;
this.y1 = aSVGMatrix.b * nX + aSVGMatrix.d * this.y1 + aSVGMatrix.f;
case 'M':
case 'L':
SVGPathMatrixTransform( this, aSVGMatrix );
break;
default:
log( 'SVGPathSeg.matrixTransform: unexpected path segment type: '
+ this.pathSegTypeAsLetter );
}
};

SVGPathSeg.prototype.changeOrientation = function( nCurrentX, nCurrentY )
{
switch( this.pathSegTypeAsLetter )
{
case 'C':
var nX = this.x1;
this.x1 = this.x2;
this.x2 = nX;
var nY = this.y1;
this.y1 = this.y2;
this.y2 = nY;
case 'M':
case 'L':
case 'Q':
var aPoint = { x: this.x, y: this.y };
this.x = nCurrentX;
this.y = nCurrentY;
return aPoint;
default:
log( 'SVGPathSeg.changeOrientation: unexpected path segment type: '
+ this.pathSegTypeAsLetter );
return null;
}
}
}
else throw e;
}

function SVGPathMatrixTransform( aPath, aSVGMatrix )
{
var nX = aPath.x;
aPath.x = aSVGMatrix.a * nX + aSVGMatrix.c * aPath.y + aSVGMatrix.e;
aPath.y = aSVGMatrix.b * nX + aSVGMatrix.d * aPath.y + aSVGMatrix.f;
}


function PriorityQueue( aCompareFunc )
{
this.aSequence = [];
this.aCompareFunc = aCompareFunc;
}

PriorityQueue.prototype.clone = function()
{
var aCopy = new PriorityQueue( this.aCompareFunc );
var src = this.aSequence;
var dest = [];
var i, l;
for( i = 0, l = src.length; i < l; ++i )
{
if( i in src )
{
dest.push( src[i] );
}
}
aCopy.aSequence = dest;
return aCopy;
};

PriorityQueue.prototype.top = function()
{
return this.aSequence[this.aSequence.length - 1];
};

PriorityQueue.prototype.isEmpty = function()
{
return ( this.aSequence.length === 0 );
};

PriorityQueue.prototype.push = function( aValue )
{
this.aSequence.unshift( aValue );
this.aSequence.sort(this.aCompareFunc);
};

PriorityQueue.prototype.clear = function()
{
this.aSequence = [];
};

PriorityQueue.prototype.pop = function()
{
return this.aSequence.pop();
};


var ANIMATION_NODE_CUSTOM               = 0;
var ANIMATION_NODE_PAR                  = 1;
var ANIMATION_NODE_SEQ                  = 2;
var ANIMATION_NODE_ITERATE              = 3;
var ANIMATION_NODE_ANIMATE              = 4;
var ANIMATION_NODE_SET                  = 5;
var ANIMATION_NODE_ANIMATEMOTION        = 6;
var ANIMATION_NODE_ANIMATECOLOR         = 7;
var ANIMATION_NODE_ANIMATETRANSFORM     = 8;
var ANIMATION_NODE_TRANSITIONFILTER     = 9;
var ANIMATION_NODE_AUDIO                = 10;
var ANIMATION_NODE_COMMAND              = 11;

var aAnimationNodeTypeInMap = {
'par'               : ANIMATION_NODE_PAR,
'seq'               : ANIMATION_NODE_SEQ,
'iterate'           : ANIMATION_NODE_ITERATE,
'animate'           : ANIMATION_NODE_ANIMATE,
'set'               : ANIMATION_NODE_SET,
'animatemotion'     : ANIMATION_NODE_ANIMATEMOTION,
'animatecolor'      : ANIMATION_NODE_ANIMATECOLOR,
'animatetransform'  : ANIMATION_NODE_ANIMATETRANSFORM,
'transitionfilter'  : ANIMATION_NODE_TRANSITIONFILTER,
'audio'             : ANIMATION_NODE_AUDIO,
'command'           : ANIMATION_NODE_COMMAND
};


function getAnimationElementType( aElement )
{
var sName = aElement.localName.toLowerCase();

if( sName && aAnimationNodeTypeInMap[ sName ] )
return aAnimationNodeTypeInMap[ sName ];
else
return ANIMATION_NODE_CUSTOM;
}


var INVALID_NODE                = 0;
var UNRESOLVED_NODE             = 1;
var RESOLVED_NODE               = 2;
var ACTIVE_NODE                 = 4;
var FROZEN_NODE                 = 8;
var ENDED_NODE                  = 16;

function getNodeStateName( eNodeState )
{
switch( eNodeState )
{
case INVALID_NODE:
return 'INVALID';
case UNRESOLVED_NODE:
return 'UNRESOLVED';
case RESOLVED_NODE:
return 'RESOLVED';
case ACTIVE_NODE:
return 'ACTIVE';
case FROZEN_NODE:
return 'FROZEN';
case ENDED_NODE:
return 'ENDED';
default:
return 'UNKNOWN';
}
}


var IMPRESS_DEFAULT_NODE                    = 0;
var IMPRESS_ON_CLICK_NODE                   = 1;
var IMPRESS_WITH_PREVIOUS_NODE              = 2;
var IMPRESS_AFTER_PREVIOUS_NODE             = 3;
var IMPRESS_MAIN_SEQUENCE_NODE              = 4;
var IMPRESS_TIMING_ROOT_NODE                = 5;
var IMPRESS_INTERACTIVE_SEQUENCE_NODE       = 6;

var aImpressNodeTypeInMap = {
'on-click'                  : IMPRESS_ON_CLICK_NODE,
'with-previous'             : IMPRESS_WITH_PREVIOUS_NODE,
'after-previous'            : IMPRESS_AFTER_PREVIOUS_NODE,
'main-sequence'             : IMPRESS_MAIN_SEQUENCE_NODE,
'timing-root'               : IMPRESS_TIMING_ROOT_NODE,
'interactive-sequence'      : IMPRESS_INTERACTIVE_SEQUENCE_NODE
};

var aImpressNodeTypeOutMap = [ 'default', 'on-click', 'with-previous', 'after-previous',
'main-sequence', 'timing-root', 'interactive-sequence' ];


var aPresetClassInMap = {};


var aPresetIdInMap = {};


var RESTART_MODE_DEFAULT            = 0;
var RESTART_MODE_INHERIT            = 0; // eslint-disable-line no-unused-vars
var RESTART_MODE_ALWAYS             = 1;
var RESTART_MODE_WHEN_NOT_ACTIVE    = 2;
var RESTART_MODE_NEVER              = 3;

var aRestartModeInMap = {
'inherit'       : RESTART_MODE_DEFAULT,
'always'        : RESTART_MODE_ALWAYS,
'whenNotActive' : RESTART_MODE_WHEN_NOT_ACTIVE,
'never'         : RESTART_MODE_NEVER
};

var aRestartModeOutMap = [ 'inherit','always', 'whenNotActive', 'never' ];


var FILL_MODE_DEFAULT           = 0;
var FILL_MODE_INHERIT           = 0; // eslint-disable-line no-unused-vars
var FILL_MODE_REMOVE            = 1;
var FILL_MODE_FREEZE            = 2;
var FILL_MODE_HOLD              = 3;
var FILL_MODE_TRANSITION        = 4;
var FILL_MODE_AUTO              = 5;

var aFillModeInMap = {
'inherit'       : FILL_MODE_DEFAULT,
'remove'        : FILL_MODE_REMOVE,
'freeze'        : FILL_MODE_FREEZE,
'hold'          : FILL_MODE_HOLD,
'transition'    : FILL_MODE_TRANSITION,
'auto'          : FILL_MODE_AUTO
};

var aFillModeOutMap = [ 'inherit', 'remove', 'freeze', 'hold', 'transition', 'auto' ];


var ADDITIVE_MODE_UNKNOWN       = 0; // eslint-disable-line no-unused-vars
var ADDITIVE_MODE_BASE          = 1;
var ADDITIVE_MODE_SUM           = 2;
var ADDITIVE_MODE_REPLACE       = 3;
var ADDITIVE_MODE_MULTIPLY      = 4;
var ADDITIVE_MODE_NONE          = 5;

var aAddittiveModeInMap = {
'base'          : ADDITIVE_MODE_BASE,
'sum'           : ADDITIVE_MODE_SUM,
'replace'       : ADDITIVE_MODE_REPLACE,
'multiply'      : ADDITIVE_MODE_MULTIPLY,
'none'          : ADDITIVE_MODE_NONE
};

var aAddittiveModeOutMap = [ 'unknown', 'base', 'sum', 'replace', 'multiply', 'none' ];


var ACCUMULATE_MODE_NONE        = 0;
var ACCUMULATE_MODE_SUM         = 1;

var aAccumulateModeOutMap = [ 'none', 'sum' ];

var CALC_MODE_DISCRETE          = 1;
var CALC_MODE_LINEAR            = 2;
var CALC_MODE_PACED             = 3;
var CALC_MODE_SPLINE            = 4;

var aCalcModeInMap = {
'discrete'      : CALC_MODE_DISCRETE,
'linear'        : CALC_MODE_LINEAR,
'paced'         : CALC_MODE_PACED,
'spline'        : CALC_MODE_SPLINE
};

var aCalcModeOutMap = [ 'unknown', 'discrete', 'linear', 'paced', 'spline' ];


var COLOR_SPACE_RGB = 0;
var COLOR_SPACE_HSL = 1;

var aColorSpaceInMap = { 'rgb': COLOR_SPACE_RGB, 'hsl': COLOR_SPACE_HSL };

var aColorSpaceOutMap = [ 'rgb', 'hsl' ];


var CLOCKWISE               = 0;
var COUNTERCLOCKWISE        = 1;

var aClockDirectionInMap = { 'clockwise': CLOCKWISE, 'counter-clockwise': COUNTERCLOCKWISE };

var aClockDirectionOutMap = [ 'clockwise', 'counter-clockwise' ];


var UNKNOWN_PROPERTY        = 0; // eslint-disable-line no-unused-vars
var NUMBER_PROPERTY         = 1;
var ENUM_PROPERTY           = 2;
var COLOR_PROPERTY          = 3;
var STRING_PROPERTY         = 4;
var BOOL_PROPERTY           = 5;

var aValueTypeOutMap = [ 'unknown', 'number', 'enum', 'color', 'string', 'boolean' ];


var aAttributeMap =
{
'height':           {   'type':         NUMBER_PROPERTY,
'get':          'getHeight',
'set':          'setHeight',
'getmod':       'makeScaler( 1/nHeight )',
'setmod':       'makeScaler( nHeight)'          },

'opacity':          {   'type':         NUMBER_PROPERTY,
'get':          'getOpacity',
'set':          'setOpacity'                    },

'rotate':           {   'type':         NUMBER_PROPERTY,
'get':          'getRotationAngle',
'set':          'setRotationAngle'              },

'width':            {   'type':         NUMBER_PROPERTY,
'get':          'getWidth',
'set':          'setWidth',
'getmod':       'makeScaler( 1/nWidth )',
'setmod':       'makeScaler( nWidth)'           },

'x':                {   'type':         NUMBER_PROPERTY,
'get':          'getX',
'set':          'setX',
'getmod':       'makeScaler( 1/nWidth )',
'setmod':       'makeScaler( nWidth)'           },

'y':                {   'type':         NUMBER_PROPERTY,
'get':          'getY',
'set':          'setY',
'getmod':       'makeScaler( 1/nHeight )',
'setmod':       'makeScaler( nHeight)'          },

'fill':             {   'type':         ENUM_PROPERTY,
'get':          'getFillStyle',
'set':          'setFillStyle'                  },

'stroke':           {   'type':         ENUM_PROPERTY,
'get':          'getStrokeStyle',
'set':          'setStrokeStyle'                },

'visibility':       {   'type':         ENUM_PROPERTY,
'get':          'getVisibility',
'set':          'setVisibility'                 },

'fill-color':       {   'type':         COLOR_PROPERTY,
'get':          'getFillColor',
'set':          'setFillColor'                  },

'stroke-color':     {   'type':         COLOR_PROPERTY,
'get':          'getStrokeColor',
'set':          'setStrokeColor'                },

'color':            {   'type':         COLOR_PROPERTY,
'get':          'getFontColor',
'set':          'setFontColor'                  }

};


var TRANSITION_INVALID              = 0;    // Invalid type
var TRANSITION_CLIP_POLYPOLYGON     = 1;    // Transition expressed by parametric clip polygon
var TRANSITION_SPECIAL              = 2;    // Transition expressed by hand-crafted function


var BARWIPE_TRANSITION              = 1;
var BOXWIPE_TRANSITION              = 2;
var FOURBOXWIPE_TRANSITION          = 3;
var ELLIPSEWIPE_TRANSITION          = 4; // 17
var CLOCKWIPE_TRANSITION            = 5; // 22
var PINWHEELWIPE_TRANSITION         = 6; // 23
var PUSHWIPE_TRANSITION             = 7; // 35
var SLIDEWIPE_TRANSITION            = 8; // 36
var FADE_TRANSITION                 = 9; // 37
var RANDOMBARWIPE_TRANSITION        = 10; // 38
var CHECKERBOARDWIPE_TRANSITION     = 11; // 39
var DISSOLVE_TRANSITION             = 12; // 40
var SNAKEWIPE_TRANSITION            = 13; // 30
var PARALLELSNAKESWIPE_TRANSITION   = 14; // 32
var IRISWIPE_TRANSITION             = 15; // 12
var BARNDOORWIPE_TRANSITION         = 16; // 4
var VEEWIPE_TRANSITION              = 17; // 8
var ZIGZAGWIPE_TRANSITION           = 18; // 10
var BARNZIGZAGWIPE_TRANSITION       = 19; // 11
var FANWIPE_TRANSITION              = 20; // 25
var SINGLESWEEPWIPE_TRANSITION      = 21; // 24
var WATERFALLWIPE_TRANSITION        = 22; // 34
var SPIRALWIPE_TRANSITION           = 23; // 31
var MISCDIAGONALWIPE_TRANSITION     = 24; // 7
var BOXSNAKESWIPE_TRANSITION        = 25; // 33

var aTransitionTypeInMap = {
'barWipe'           : BARWIPE_TRANSITION,
'boxWipe'           : BOXWIPE_TRANSITION,
'barnDoorWipe'      : BARNDOORWIPE_TRANSITION,
'fourBoxWipe'       : FOURBOXWIPE_TRANSITION,
'ellipseWipe'       : ELLIPSEWIPE_TRANSITION,
'clockWipe'         : CLOCKWIPE_TRANSITION,
'pinWheelWipe'      : PINWHEELWIPE_TRANSITION,
'miscDiagonalWipe'  : MISCDIAGONALWIPE_TRANSITION,
'pushWipe'          : PUSHWIPE_TRANSITION,
'slideWipe'         : SLIDEWIPE_TRANSITION,
'fade'              : FADE_TRANSITION,
'fanWipe'           : FANWIPE_TRANSITION,
'randomBarWipe'     : RANDOMBARWIPE_TRANSITION,
'checkerBoardWipe'  : CHECKERBOARDWIPE_TRANSITION,
'dissolve'          : DISSOLVE_TRANSITION,
'singleSweepWipe'   : SINGLESWEEPWIPE_TRANSITION,
'snakeWipe'         : SNAKEWIPE_TRANSITION,
'parallelSnakesWipe': PARALLELSNAKESWIPE_TRANSITION,
'spiralWipe'        : SPIRALWIPE_TRANSITION,
'boxSnakesWipe'     : BOXSNAKESWIPE_TRANSITION,
'irisWipe'          : IRISWIPE_TRANSITION,
'veeWipe'           : VEEWIPE_TRANSITION,
'zigZagWipe'        : ZIGZAGWIPE_TRANSITION,
'barnZigZagWipe'    : BARNZIGZAGWIPE_TRANSITION,
'waterfallWipe'     : WATERFALLWIPE_TRANSITION
};

var DEFAULT_TRANS_SUBTYPE                       = 0;
var LEFTTORIGHT_TRANS_SUBTYPE                   = 1;
var TOPTOBOTTOM_TRANS_SUBTYPE                   = 2;
var CORNERSIN_TRANS_SUBTYPE                     = 3; // 11
var CORNERSOUT_TRANS_SUBTYPE                    = 4;
var VERTICAL_TRANS_SUBTYPE                      = 5;
var HORIZONTAL_TRANS_SUBTYPE                    = 6; // 14
var DOWN_TRANS_SUBTYPE                          = 7; // 19
var CIRCLE_TRANS_SUBTYPE                        = 8; // 27
var CLOCKWISETWELVE_TRANS_SUBTYPE               = 9; // 33
var CLOCKWISETHREE_TRANS_SUBTYPE                = 10;
var CLOCKWISESIX_TRANS_SUBTYPE                  = 11;
var CLOCKWISENINE_TRANS_SUBTYPE                 = 12;
var TWOBLADEVERTICAL_TRANS_SUBTYPE              = 13;
var TWOBLADEHORIZONTAL_TRANS_SUBTYPE            = 14;
var FOURBLADE_TRANS_SUBTYPE                     = 15; // 39
var FROMLEFT_TRANS_SUBTYPE                      = 16; // 97
var FROMTOP_TRANS_SUBTYPE                       = 17;
var FROMRIGHT_TRANS_SUBTYPE                     = 18;
var FROMBOTTOM_TRANS_SUBTYPE                    = 19;
var CROSSFADE_TRANS_SUBTYPE                     = 20;
var FADETOCOLOR_TRANS_SUBTYPE                   = 21;
var FADEFROMCOLOR_TRANS_SUBTYPE                 = 22;
var FADEOVERCOLOR_TRANS_SUBTYPE                 = 23;
var THREEBLADE_TRANS_SUBTYPE                    = 24;
var EIGHTBLADE_TRANS_SUBTYPE                    = 25;
var ONEBLADE_TRANS_SUBTYPE                      = 26; // 107
var ACROSS_TRANS_SUBTYPE                        = 27;
var TOPLEFTVERTICAL_TRANS_SUBTYPE               = 28; // 109
var TOPLEFTHORIZONTAL_TRANS_SUBTYPE             = 29; // 64
var TOPLEFTDIAGONAL_TRANS_SUBTYPE               = 30; // 65
var TOPRIGHTDIAGONAL_TRANS_SUBTYPE              = 31; // 66
var BOTTOMRIGHTDIAGONAL_TRANS_SUBTYPE           = 32; // 67
var BOTTOMLEFTDIAGONAL_TRANS_SUBTYPE            = 33; // 68
var RECTANGLE_TRANS_SUBTYPE                     = 34; // 101
var DIAMOND_TRANS_SUBTYPE                       = 35; // 102
var TOPLEFT_TRANS_SUBTYPE                       = 36; // 3
var TOPRIGHT_TRANS_SUBTYPE                      = 37; // 4
var BOTTOMRIGHT_TRANS_SUBTYPE                   = 38; // 5
var BOTTOMLEFT_TRANS_SUBTYPE                    = 39; // 6
var TOPCENTER_TRANS_SUBTYPE                     = 40; // 7
var RIGHTCENTER_TRANS_SUBTYPE                   = 41; // 8
var BOTTOMCENTER_TRANS_SUBTYPE                  = 42; // 9
var LEFTCENTER_TRANS_SUBTYPE                    = 43; // 10
var LEFT_TRANS_SUBTYPE                          = 44; // 20
var UP_TRANS_SUBTYPE                            = 45; // 21
var RIGHT_TRANS_SUBTYPE                         = 46; // 22
var DIAGONALBOTTOMLEFT_TRANS_SUBTYPE            = 47; // 15
var DIAGONALTOPLEFT_TRANS_SUBTYPE               = 48; // 16
var CENTERTOP_TRANS_SUBTYPE                     = 49; // 48
var CENTERRIGHT_TRANS_SUBTYPE                   = 50; // 49
var TOP_TRANS_SUBTYPE                           = 51; // 50
var BOTTOM_TRANS_SUBTYPE                        = 52; // 52
var CLOCKWISETOP_TRANS_SUBTYPE                  = 53; // 40
var CLOCKWISERIGHT_TRANS_SUBTYPE                = 54; // 41
var CLOCKWISEBOTTOM_TRANS_SUBTYPE               = 55; // 42
var CLOCKWISELEFT_TRANS_SUBTYPE                 = 56; // 43
var CLOCKWISETOPLEFT_TRANS_SUBTYPE              = 57; // 44
var COUNTERCLOCKWISEBOTTOMLEFT_TRANS_SUBTYPE    = 58; // 45
var CLOCKWISEBOTTOMRIGHT_TRANS_SUBTYPE          = 59; // 46
var COUNTERCLOCKWISETOPRIGHT_TRANS_SUBTYPE      = 60; // 47
var VERTICALLEFT_TRANS_SUBTYPE                  = 61; // 93
var VERTICALRIGHT_TRANS_SUBTYPE                 = 62; // 94
var HORIZONTALLEFT_TRANS_SUBTYPE                = 63; // 95
var HORIZONTALRIGHT_TRANS_SUBTYPE               = 64; // 96
var TOPLEFTCLOCKWISE_TRANS_SUBTYPE              = 65; // 69
var TOPRIGHTCLOCKWISE_TRANS_SUBTYPE             = 66; // 70
var BOTTOMRIGHTCLOCKWISE_TRANS_SUBTYPE          = 67; // 71
var BOTTOMLEFTCLOCKWISE_TRANS_SUBTYPE           = 68; // 72
var TOPLEFTCOUNTERCLOCKWISE_TRANS_SUBTYPE       = 69; // 73
var TOPRIGHTCOUNTERCLOCKWISE_TRANS_SUBTYPE      = 70; // 74
var BOTTOMRIGHTCOUNTERCLOCKWISE_TRANS_SUBTYPE   = 71; // 75
var BOTTOMLEFTCOUNTERCLOCKWISE_TRANS_SUBTYPE    = 72; // 76
var DOUBLEBARNDOOR_TRANS_SUBTYPE                = 73; // 17
var DOUBLEDIAMOND_TRANS_SUBTYPE                 = 74; // 18
var VERTICALTOPSAME_TRANS_SUBTYPE               = 75; // 77
var VERTICALBOTTOMSAME_TRANS_SUBTYPE            = 76; // 78
var VERTICALTOPLEFTOPPOSITE_TRANS_SUBTYPE       = 77; // 79
var VERTICALBOTTOMLEFTOPPOSITE_TRANS_SUBTYPE    = 78; // 80
var HORIZONTALLEFTSAME_TRANS_SUBTYPE            = 79; // 81
var HORIZONTALRIGHTSAME_TRANS_SUBTYPE           = 80; // 82
var HORIZONTALTOPLEFTOPPOSITE_TRANS_SUBTYPE     = 81; // 83
var HORIZONTALTOPRIGHTOPPOSITE_TRANS_SUBTYPE    = 82; // 84
var DIAGONALBOTTOMLEFTOPPOSITE_TRANS_SUBTYPE    = 83; // 85
var DIAGONALTOPLEFTOPPOSITE_TRANS_SUBTYPE       = 84; // 86
var TWOBOXTOP_TRANS_SUBTYPE                     = 85; // 87
var TWOBOXBOTTOM_TRANS_SUBTYPE                  = 86; // 88
var TWOBOXLEFT_TRANS_SUBTYPE                    = 87; // 89
var TWOBOXRIGHT_TRANS_SUBTYPE                   = 88; // 90
var FOURBOXVERTICAL_TRANS_SUBTYPE               = 89; // 91
var FOURBOXHORIZONTAL_TRANS_SUBTYPE             = 90; // 92

var aTransitionSubtypeInMap = {
'default'                       : DEFAULT_TRANS_SUBTYPE,
'leftToRight'                   : LEFTTORIGHT_TRANS_SUBTYPE,
'topToBottom'                   : TOPTOBOTTOM_TRANS_SUBTYPE,
'cornersIn'                     : CORNERSIN_TRANS_SUBTYPE,
'cornersOut'                    : CORNERSOUT_TRANS_SUBTYPE,
'vertical'                      : VERTICAL_TRANS_SUBTYPE,
'centerTop'                     : CENTERTOP_TRANS_SUBTYPE,
'centerRight'                   : CENTERRIGHT_TRANS_SUBTYPE,
'top'                           : TOP_TRANS_SUBTYPE,
'right'                         : RIGHT_TRANS_SUBTYPE,
'bottom'                        : BOTTOM_TRANS_SUBTYPE,
'left'                          : LEFT_TRANS_SUBTYPE,
'horizontal'                    : HORIZONTAL_TRANS_SUBTYPE,
'down'                          : DOWN_TRANS_SUBTYPE,
'circle'                        : CIRCLE_TRANS_SUBTYPE,
'clockwiseTwelve'               : CLOCKWISETWELVE_TRANS_SUBTYPE,
'clockwiseThree'                : CLOCKWISETHREE_TRANS_SUBTYPE,
'clockwiseSix'                  : CLOCKWISESIX_TRANS_SUBTYPE,
'clockwiseNine'                 : CLOCKWISENINE_TRANS_SUBTYPE,
'clockwiseRight'                : CLOCKWISERIGHT_TRANS_SUBTYPE,
'clockwiseTop'                  : CLOCKWISETOP_TRANS_SUBTYPE,
'clockwiseBottom'               : CLOCKWISEBOTTOM_TRANS_SUBTYPE,
'clockwiseLeft'                 : CLOCKWISELEFT_TRANS_SUBTYPE,
'clockwiseTopLeft'              : CLOCKWISETOPLEFT_TRANS_SUBTYPE,
'counterClockwiseBottomLeft'    : COUNTERCLOCKWISEBOTTOMLEFT_TRANS_SUBTYPE,
'clockwiseBottomRight'          : CLOCKWISEBOTTOMRIGHT_TRANS_SUBTYPE,
'counterClockwiseTopRight'      : COUNTERCLOCKWISETOPRIGHT_TRANS_SUBTYPE,
'twoBladeVertical'              : TWOBLADEVERTICAL_TRANS_SUBTYPE,
'twoBladeHorizontal'            : TWOBLADEHORIZONTAL_TRANS_SUBTYPE,
'fourBlade'                     : FOURBLADE_TRANS_SUBTYPE,
'fromLeft'                      : FROMLEFT_TRANS_SUBTYPE,
'fromTop'                       : FROMTOP_TRANS_SUBTYPE,
'fromRight'                     : FROMRIGHT_TRANS_SUBTYPE,
'fromBottom'                    : FROMBOTTOM_TRANS_SUBTYPE,
'crossfade'                     : CROSSFADE_TRANS_SUBTYPE,
'fadeToColor'                   : FADETOCOLOR_TRANS_SUBTYPE,
'fadeFromColor'                 : FADEFROMCOLOR_TRANS_SUBTYPE,
'fadeOverColor'                 : FADEOVERCOLOR_TRANS_SUBTYPE,
'threeBlade'                    : THREEBLADE_TRANS_SUBTYPE,
'eightBlade'                    : EIGHTBLADE_TRANS_SUBTYPE,
'oneBlade'                      : ONEBLADE_TRANS_SUBTYPE,
'across'                        : ACROSS_TRANS_SUBTYPE,
'topLeftVertical'               : TOPLEFTVERTICAL_TRANS_SUBTYPE,
'topLeftHorizontal'             : TOPLEFTHORIZONTAL_TRANS_SUBTYPE,
'topLeftDiagonal'               : TOPLEFTDIAGONAL_TRANS_SUBTYPE,
'topRightDiagonal'              : TOPRIGHTDIAGONAL_TRANS_SUBTYPE,
'bottomRightDiagonal'           : BOTTOMRIGHTDIAGONAL_TRANS_SUBTYPE,
'topLeftClockwise'              : TOPLEFTCLOCKWISE_TRANS_SUBTYPE,
'topRightClockwise'             : TOPRIGHTCLOCKWISE_TRANS_SUBTYPE,
'bottomRightClockwise'          : BOTTOMRIGHTCLOCKWISE_TRANS_SUBTYPE,
'bottomLeftClockwise'           : BOTTOMLEFTCLOCKWISE_TRANS_SUBTYPE,
'topLeftCounterClockwise'       : TOPLEFTCOUNTERCLOCKWISE_TRANS_SUBTYPE,
'topRightCounterClockwise'      : TOPRIGHTCOUNTERCLOCKWISE_TRANS_SUBTYPE,
'bottomRightCounterClockwise'   : BOTTOMRIGHTCOUNTERCLOCKWISE_TRANS_SUBTYPE,
'bottomLeftCounterClockwise'    : BOTTOMLEFTCOUNTERCLOCKWISE_TRANS_SUBTYPE,
'bottomLeftDiagonal'            : BOTTOMLEFTDIAGONAL_TRANS_SUBTYPE,
'rectangle'                     : RECTANGLE_TRANS_SUBTYPE,
'diamond'                       : DIAMOND_TRANS_SUBTYPE,
'topLeft'                       : TOPLEFT_TRANS_SUBTYPE,
'topRight'                      : TOPRIGHT_TRANS_SUBTYPE,
'bottomRight'                   : BOTTOMRIGHT_TRANS_SUBTYPE,
'bottomLeft'                    : BOTTOMLEFT_TRANS_SUBTYPE,
'topCenter'                     : TOPCENTER_TRANS_SUBTYPE,
'rightCenter'                   : RIGHTCENTER_TRANS_SUBTYPE,
'bottomCenter'                  : BOTTOMCENTER_TRANS_SUBTYPE,
'leftCenter'                    : LEFTCENTER_TRANS_SUBTYPE,
'up'                            : UP_TRANS_SUBTYPE,
'diagonalBottomLeft'            : DIAGONALBOTTOMLEFT_TRANS_SUBTYPE,
'diagonalTopLeft'               : DIAGONALTOPLEFT_TRANS_SUBTYPE,
'verticalLeft'                  : VERTICALLEFT_TRANS_SUBTYPE,
'verticalRight'                 : VERTICALRIGHT_TRANS_SUBTYPE,
'horizontalLeft'                : HORIZONTALLEFT_TRANS_SUBTYPE,
'horizontalRight'               : HORIZONTALRIGHT_TRANS_SUBTYPE,
'doubleBarnDoor'                : DOUBLEBARNDOOR_TRANS_SUBTYPE,
'doubleDiamond'                 : DOUBLEDIAMOND_TRANS_SUBTYPE,
'verticalTopSame'               : VERTICALTOPSAME_TRANS_SUBTYPE,
'verticalBottomSame'            : VERTICALBOTTOMSAME_TRANS_SUBTYPE,
'verticalTopLeftOpposite'       : VERTICALTOPLEFTOPPOSITE_TRANS_SUBTYPE,
'verticalBottomLeftOpposite'    : VERTICALBOTTOMLEFTOPPOSITE_TRANS_SUBTYPE,
'horizontalLeftSame'            : HORIZONTALLEFTSAME_TRANS_SUBTYPE,
'horizontalRightSame'           : HORIZONTALRIGHTSAME_TRANS_SUBTYPE,
'horizontalTopLeftOpposite'     : HORIZONTALTOPLEFTOPPOSITE_TRANS_SUBTYPE,
'horizontalTopRightOpposite'    : HORIZONTALTOPRIGHTOPPOSITE_TRANS_SUBTYPE,
'diagonalBottomLeftOpposite'    : DIAGONALBOTTOMLEFTOPPOSITE_TRANS_SUBTYPE,
'diagonalTopLeftOpposite'       : DIAGONALTOPLEFTOPPOSITE_TRANS_SUBTYPE,
'twoBoxTop'                     : TWOBOXTOP_TRANS_SUBTYPE,
'twoBoxBottom'                  : TWOBOXBOTTOM_TRANS_SUBTYPE,
'twoBoxLeft'                    : TWOBOXLEFT_TRANS_SUBTYPE,
'twoBoxRight'                   : TWOBOXRIGHT_TRANS_SUBTYPE,
'fourBoxVertical'               : FOURBOXVERTICAL_TRANS_SUBTYPE,
'fourBoxHorizontal'             : FOURBOXHORIZONTAL_TRANS_SUBTYPE
};

var TRANSITION_MODE_IN  = 1;
var TRANSITION_MODE_OUT = 0;

var aTransitionModeOutMap = [ 'out', 'in' ];


var REVERSEMETHOD_IGNORE                    = 0;
var REVERSEMETHOD_INVERT_SWEEP              = 1;
var REVERSEMETHOD_SUBTRACT_POLYGON          = 2;
var REVERSEMETHOD_SUBTRACT_AND_INVERT       = 3;
var REVERSEMETHOD_ROTATE_180                = 4;
var REVERSEMETHOD_FLIP_X                    = 5;
var REVERSEMETHOD_FLIP_Y                    = 6;

var aReverseMethodOutMap = ['ignore', 'invert sweep', 'subtract polygon',
'subtract and invert', 'rotate 180', 'flip x', 'flip y'];


var aTransitionInfoTable = {};

aTransitionInfoTable[0] = {};
aTransitionInfoTable[0][0] =
{
'class' : TRANSITION_INVALID,
'rotationAngle' : 0.0,
'scaleX' : 0.0,
'scaleY' : 0.0,
'reverseMethod' : REVERSEMETHOD_IGNORE,
'outInvertsSweep' : false,
'scaleIsotropically' : false
};

aTransitionInfoTable[SNAKEWIPE_TRANSITION] = {};
aTransitionInfoTable[SNAKEWIPE_TRANSITION][TOPLEFTVERTICAL_TRANS_SUBTYPE] =
{
'class' : TRANSITION_CLIP_POLYPOLYGON,
'rotationAngle' : -90.0,
'scaleX' : 1.0,
'scaleY' : 1.0,
'reverseMethod' : REVERSEMETHOD_ROTATE_180,
'outInvertsSweep' : true,
'scaleIsotropically' : false
};
aTransitionInfoTable[SNAKEWIPE_TRANSITION][TOPLEFTHORIZONTAL_TRANS_SUBTYPE] =
{
'class' : TRANSITION_CLIP_POLYPOLYGON,
'rotationAngle' : 0.0,
'scaleX' : 1.0,
'scaleY' : 1.0,
'reverseMethod' : REVERSEMETHOD_ROTATE_180,
'outInvertSweep' : true,
'scaleIsotropically' : false
};
aTransitionInfoTable[SNAKEWIPE_TRANSITION][TOPLEFTDIAGONAL_TRANS_SUBTYPE] =
{
'class' : TRANSITION_CLIP_POLYPOLYGON,
'rotationAngle' : 0.0,
'scaleX' : 1.0,
'scaleY' : 1.0,
'reverseMethod' : REVERSEMETHOD_ROTATE_180,
'outInvertSweep' : true,
'scaleIsotropically' : false
};
aTransitionInfoTable[SNAKEWIPE_TRANSITION][TOPRIGHTDIAGONAL_TRANS_SUBTYPE] =
{
'class' : TRANSITION_CLIP_POLYPOLYGON,
'rotationAngle' : 0.0,
'scaleX' : 1.0,
'scaleY' : 1.0,
'reverseMethod' : REVERSEMETHOD_ROTATE_180,
'outInvertSweep' : true,
'scaleIsotropically' : false
};
aTransitionInfoTable[SNAKEWIPE_TRANSITION][BOTTOMRIGHTDIAGONAL_TRANS_SUBTYPE] =
{
'class' : TRANSITION_CLIP_POLYPOLYGON,
'rotationAngle' : 180.0,
'scaleX' : 1.0,
'scaleY' : 1.0,
'reverseMethod' : REVERSEMETHOD_ROTATE_180,
'outInvertSweep' : true,
'scaleIsotropically' : false
};
aTransitionInfoTable[SNAKEWIPE_TRANSITION][BOTTOMLEFTDIAGONAL_TRANS_SUBTYPE] =
{
'class' : TRANSITION_CLIP_POLYPOLYGON,
'rotationAngle' : 180.0,
'scaleX' : 1.0,
'scaleY' : 1.0,
'reverseMethod' : REVERSEMETHOD_ROTATE_180,
'outInvertSweep' : true,
'scaleIsotropically' : false
}

aTransitionInfoTable[PARALLELSNAKESWIPE_TRANSITION] = {};
aTransitionInfoTable[PARALLELSNAKESWIPE_TRANSITION][VERTICALTOPSAME_TRANS_SUBTYPE] =
{
'class' : TRANSITION_CLIP_POLYPOLYGON,
'rotationAngle' : 0.0,
'scaleX' : 1.0,
'scaleY' : 1.0,
'reverseMethod' : REVERSEMETHOD_IGNORE,
'outInvertSweep' : true,
'scaleIsotropically' : false
};
aTransitionInfoTable[PARALLELSNAKESWIPE_TRANSITION][VERTICALBOTTOMSAME_TRANS_SUBTYPE] =
{
'class' : TRANSITION_CLIP_POLYPOLYGON,
'rotationAngle' : 180.0,
'scaleX' : 1.0,
'scaleY' : 1.0,
'reverseMethod' : REVERSEMETHOD_IGNORE,
'outInvertSweep' : true,
'scaleIsotropically' : false
};
aTransitionInfoTable[PARALLELSNAKESWIPE_TRANSITION][VERTICALTOPLEFTOPPOSITE_TRANS_SUBTYPE] =
{
'class' : TRANSITION_CLIP_POLYPOLYGON,
'rotationAngle' : 0.0,
'scaleX' : 1.0,
'scaleY' : 1.0,
'reverseMethod' : REVERSEMETHOD_IGNORE,
'outInvertSweep' : true,
'scaleIsotropically' : false
};
aTransitionInfoTable[PARALLELSNAKESWIPE_TRANSITION][VERTICALBOTTOMLEFTOPPOSITE_TRANS_SUBTYPE] =
{
'class' : TRANSITION_CLIP_POLYPOLYGON,
'rotationAngle' : 0.0,
'scaleX' : 1.0,
'scaleY' : 1.0,
'reverseMethod' : REVERSEMETHOD_IGNORE,
'outInvertSweep' : true,
'scaleIsotropically' : false
};
aTransitionInfoTable[PARALLELSNAKESWIPE_TRANSITION][HORIZONTALLEFTSAME_TRANS_SUBTYPE] =
{
'class' : TRANSITION_CLIP_POLYPOLYGON,
'rotationAngle' : -90.0,
'scaleX' : 1.0,
'scaleY' : 1.0,
'reverseMethod' : REVERSEMETHOD_IGNORE,
'outInvertSweep' : true,
'scaleIsotropically' : false
};
aTransitionInfoTable[PARALLELSNAKESWIPE_TRANSITION][HORIZONTALRIGHTSAME_TRANS_SUBTYPE] =
{
'class' : TRANSITION_CLIP_POLYPOLYGON,
'rotationAngle' : 90.0,
'scaleX' : 1.0,
'scaleY' : 1.0,
'reverseMethod' : REVERSEMETHOD_IGNORE,
'outInvertSweep' : true,
'scaleIsotropically' : false
};
aTransitionInfoTable[PARALLELSNAKESWIPE_TRANSITION][HORIZONTALTOPLEFTOPPOSITE_TRANS_SUBTYPE] =
{
'class' : TRANSITION_CLIP_POLYPOLYGON,
'rotationAngle' : -90.0,
'scaleX' : 1.0,
'scaleY' : 1.0,
'reverseMethod' : REVERSEMETHOD_IGNORE,
'outInvertSweep' : true,
'scaleIsotropically' : false
};
aTransitionInfoTable[PARALLELSNAKESWIPE_TRANSITION][HORIZONTALTOPRIGHTOPPOSITE_TRANS_SUBTYPE] =
{
'class' : TRANSITION_CLIP_POLYPOLYGON,
'rotationAngle' : -90.0,
'scaleX' : 1.0,
'scaleY' : 1.0,
'reverseMethod' : REVERSEMETHOD_IGNORE,
'outInvertSweep' : true,
'scaleIsotropically' : false
};
aTransitionInfoTable[PARALLELSNAKESWIPE_TRANSITION][DIAGONALTOPLEFTOPPOSITE_TRANS_SUBTYPE] =
{
'class' : TRANSITION_CLIP_POLYPOLYGON,
'rotationAngle' : 0.0,
'scaleX' : 1.0,
'scaleY' : 1.0,
'reverseMethod' : REVERSEMETHOD_IGNORE,
'outInvertSweep' : true,
'scaleIsotropically' : false
};
aTransitionInfoTable[PARALLELSNAKESWIPE_TRANSITION][DIAGONALBOTTOMLEFTOPPOSITE_TRANS_SUBTYPE] =
{
'class' : TRANSITION_CLIP_POLYPOLYGON,
'rotationAngle' : 0.0,
'scaleX' : 1.0,
'scaleY' : 1.0,
'reverseMethod' : REVERSEMETHOD_IGNORE,
'outInvertSweep' : true,
'scaleIsotropically' : false
};

aTransitionInfoTable[SPIRALWIPE_TRANSITION] = {};
aTransitionInfoTable[SPIRALWIPE_TRANSITION][TOPLEFTCLOCKWISE_TRANS_SUBTYPE] =
{
'class' : TRANSITION_CLIP_POLYPOLYGON,
'rotationAngle' : 0.0,
'scaleX' : 1.0,
'scaleY' : 1.0,
'reverseMethod' : REVERSEMETHOD_SUBTRACT_AND_INVERT,
'outInvertSweep' : true,
'scaleIsotropically' : false
};
aTransitionInfoTable[SPIRALWIPE_TRANSITION][TOPRIGHTCLOCKWISE_TRANS_SUBTYPE] =
{
'class' : TRANSITION_CLIP_POLYPOLYGON,
'rotationAngle' : 90.0,
'scaleX' : 1.0,
'scaleY' : 1.0,
'reverseMethod' : REVERSEMETHOD_SUBTRACT_AND_INVERT,
'outInvertSweep' : true,
'scaleIsotropically' : false
};
aTransitionInfoTable[SPIRALWIPE_TRANSITION][BOTTOMRIGHTCLOCKWISE_TRANS_SUBTYPE] =
{
'class' : TRANSITION_CLIP_POLYPOLYGON,
'rotationAngle' : 180.0,
'scaleX' : 1.0,
'scaleY' : 1.0,
'reverseMethod' : REVERSEMETHOD_SUBTRACT_AND_INVERT,
'outInvertSweep' : true,
'scaleIsotropically' : false
};
aTransitionInfoTable[SPIRALWIPE_TRANSITION][BOTTOMLEFTCLOCKWISE_TRANS_SUBTYPE] =
{
'class' : TRANSITION_CLIP_POLYPOLYGON,
'rotationAngle' : 270.0,
'scaleX' : 1.0,
'scaleY' : 1.0,
'reverseMethod' : REVERSEMETHOD_SUBTRACT_AND_INVERT,
'outInvertSweep' : true,
'scaleIsotropically' : false
};
aTransitionInfoTable[SPIRALWIPE_TRANSITION][TOPLEFTCOUNTERCLOCKWISE_TRANS_SUBTYPE] =
{
'class' : TRANSITION_CLIP_POLYPOLYGON,
'rotationAngle' : 90.0,
'scaleX' : 1.0,
'scaleY' : 1.0,
'reverseMethod' : REVERSEMETHOD_SUBTRACT_AND_INVERT,
'outInvertSweep' : true,
'scaleIsotropically' : false
};
aTransitionInfoTable[SPIRALWIPE_TRANSITION][TOPRIGHTCOUNTERCLOCKWISE_TRANS_SUBTYPE] =
{
'class' : TRANSITION_CLIP_POLYPOLYGON,
'rotationAngle' : 180.0,
'scaleX' : 1.0,
'scaleY' : 1.0,
'reverseMethod' : REVERSEMETHOD_SUBTRACT_AND_INVERT,
'outInvertSweep' : true,
'scaleIsotropically' : false
};
aTransitionInfoTable[SPIRALWIPE_TRANSITION][BOTTOMRIGHTCOUNTERCLOCKWISE_TRANS_SUBTYPE] =
{
'class' : TRANSITION_CLIP_POLYPOLYGON,
'rotationAngle' : 270.0,
'scaleX' : 1.0,
'scaleY' : 1.0,
'reverseMethod' : REVERSEMETHOD_SUBTRACT_AND_INVERT,
'outInvertSweep' : true,
'scaleIsotropically' : false
};
aTransitionInfoTable[SPIRALWIPE_TRANSITION][BOTTOMLEFTCOUNTERCLOCKWISE_TRANS_SUBTYPE] =
{
'class' : TRANSITION_CLIP_POLYPOLYGON,
'rotationAngle' : 0.0,
'scaleX' : 1.0,
'scaleY' : 1.0,
'reverseMethod' : REVERSEMETHOD_SUBTRACT_AND_INVERT,
'outInvertSweep' : true,
'scaleIsotropically' : false
};

aTransitionInfoTable[BOXSNAKESWIPE_TRANSITION] = {};
aTransitionInfoTable[BOXSNAKESWIPE_TRANSITION][TWOBOXTOP_TRANS_SUBTYPE] =
{
'class' : TRANSITION_CLIP_POLYPOLYGON,
'rotationAngle' : 90.0,
'scaleX' : 1.0,
'scaleY' : 1.0,
'reverseMethod' : REVERSEMETHOD_IGNORE,
'outInvertSweep' : true,
'scaleIsotropically' : false
};
aTransitionInfoTable[BOXSNAKESWIPE_TRANSITION][TWOBOXBOTTOM_TRANS_SUBTYPE] =
{
'class' : TRANSITION_CLIP_POLYPOLYGON,
'rotationAngle' : -90.0,
'scaleX' : 1.0,
'scaleY' : 1.0,
'reverseMethod' : REVERSEMETHOD_IGNORE,
'outInvertSweep' : true,
'scaleIsotropically' : false
};
aTransitionInfoTable[BOXSNAKESWIPE_TRANSITION][TWOBOXLEFT_TRANS_SUBTYPE] =
{
'class' : TRANSITION_CLIP_POLYPOLYGON,
'rotationAngle' : 0.0,
'scaleX' : 1.0,
'scaleY' : 1.0,
'reverseMethod' : REVERSEMETHOD_IGNORE,
'outInvertSweep' : true,
'scaleIsotropically' : false
};
aTransitionInfoTable[BOXSNAKESWIPE_TRANSITION][TWOBOXRIGHT_TRANS_SUBTYPE] =
{
'class' : TRANSITION_CLIP_POLYPOLYGON,
'rotationAngle' : 180.0,
'scaleX' : 1.0,
'scaleY' : 1.0,
'reverseMethod' : REVERSEMETHOD_IGNORE,
'outInvertSweep' : true,
'scaleIsotropically' : false
};
aTransitionInfoTable[BOXSNAKESWIPE_TRANSITION][FOURBOXVERTICAL_TRANS_SUBTYPE] =
{
'class' : TRANSITION_CLIP_POLYPOLYGON,
'rotationAngle' : 90.0,
'scaleX' : 1.0,
'scaleY' : 1.0,
'reverseMethod' : REVERSEMETHOD_IGNORE,
'outInvertSweep' : true,
'scaleIsotropically' : false
};
aTransitionInfoTable[BOXSNAKESWIPE_TRANSITION][FOURBOXHORIZONTAL_TRANS_SUBTYPE] =
{
'class' : TRANSITION_CLIP_POLYPOLYGON,
'rotationAngle' : 0.0,
'scaleX' : 1.0,
'scaleY' : 1.0,
'reverseMethod' : REVERSEMETHOD_IGNORE,
'outInvertSweep' : true,
'scaleIsotropically' : false
};

aTransitionInfoTable[BARNDOORWIPE_TRANSITION] = {};
aTransitionInfoTable[BARNDOORWIPE_TRANSITION][VERTICAL_TRANS_SUBTYPE] =
{
'class' : TRANSITION_CLIP_POLYPOLYGON,
'rotationAngle': 0.0,
'scaleX': 1.0,
'scaleY': 1.0,
'reverseMethod': REVERSEMETHOD_SUBTRACT_AND_INVERT,
'outInvertsSweep': true,
'scaleIsotropically': false
};
aTransitionInfoTable[BARNDOORWIPE_TRANSITION][HORIZONTAL_TRANS_SUBTYPE] =
{
'class' : TRANSITION_CLIP_POLYPOLYGON,
'rotationAngle': 90.0,
'scaleX': 1.0,
'scaleY': 1.0,
'reverseMethod': REVERSEMETHOD_SUBTRACT_AND_INVERT,
'outInvertsSweep': true,
'scaleIsotropically': false
};
aTransitionInfoTable[BARNDOORWIPE_TRANSITION][DIAGONALBOTTOMLEFT_TRANS_SUBTYPE] =
{
'class' : TRANSITION_CLIP_POLYPOLYGON,
'rotationAngle': 45.0,
'scaleX': Math.SQRT2,
'scaleY': Math.SQRT2,
'reverseMethod': REVERSEMETHOD_SUBTRACT_AND_INVERT,
'outInvertsSweep': true,
'scaleIsotropically': false
};
aTransitionInfoTable[BARNDOORWIPE_TRANSITION][DIAGONALTOPLEFT_TRANS_SUBTYPE] =
{
'class' : TRANSITION_CLIP_POLYPOLYGON,
'rotationAngle': -45.0,
'scaleX': Math.SQRT2,
'scaleY': Math.SQRT2,
'reverseMethod': REVERSEMETHOD_SUBTRACT_AND_INVERT,
'outInvertsSweep': true,
'scaleIsotropically': false
};

aTransitionInfoTable[MISCDIAGONALWIPE_TRANSITION] = {};
aTransitionInfoTable[MISCDIAGONALWIPE_TRANSITION][DOUBLEBARNDOOR_TRANS_SUBTYPE] =
{
'class' : TRANSITION_CLIP_POLYPOLYGON,
'rotationAngle': 45.0,
'scaleX': Math.SQRT2,
'scaleY': Math.SQRT2,
'reverseMethod': REVERSEMETHOD_IGNORE,
'outInvertsSweep': true,
'scaleIsotropically': false
};
aTransitionInfoTable[MISCDIAGONALWIPE_TRANSITION][DOUBLEDIAMOND_TRANS_SUBTYPE] =
{
'class' : TRANSITION_CLIP_POLYPOLYGON,
'rotationAngle': 0.0,
'scaleX': 1,
'scaleY': 1,
'reverseMethod': REVERSEMETHOD_IGNORE,
'outInvertsSweep': true,
'scaleIsotropically': false
};

aTransitionInfoTable[IRISWIPE_TRANSITION] = {};
aTransitionInfoTable[IRISWIPE_TRANSITION][RECTANGLE_TRANS_SUBTYPE] =
{
'class' : TRANSITION_CLIP_POLYPOLYGON,
'rotationAngle': 0.0,
'scaleX': 1.0,
'scaleY': 1.0,
'reverseMethod': REVERSEMETHOD_SUBTRACT_AND_INVERT,
'outInvertsSweep': true,
'scaleIsotropically': false
};

aTransitionInfoTable[IRISWIPE_TRANSITION][DIAMOND_TRANS_SUBTYPE] =
{
'class' : TRANSITION_CLIP_POLYPOLYGON,
'rotationAngle': 45.0,
'scaleX': Math.SQRT2,
'scaleY': Math.SQRT2,
'reverseMethod': REVERSEMETHOD_SUBTRACT_AND_INVERT,
'outInvertsSweep': true,
'scaleIsotropically': false
};

aTransitionInfoTable[ZIGZAGWIPE_TRANSITION] = {};
aTransitionInfoTable[ZIGZAGWIPE_TRANSITION][LEFTTORIGHT_TRANS_SUBTYPE] =
{
'class' : TRANSITION_CLIP_POLYPOLYGON,
'rotationAngle' : 0.0,
'scaleX' : 1.0,
'scaleY' : 1.0,
'reverseMethod' : REVERSEMETHOD_FLIP_X,
'outInvertsSweep' : true,
'scaleIsotropically' : false
};
aTransitionInfoTable[ZIGZAGWIPE_TRANSITION][TOPTOBOTTOM_TRANS_SUBTYPE] =
{
'class' : TRANSITION_CLIP_POLYPOLYGON,
'rotationAngle' : 90.0,
'scaleX' : 1.0,
'scaleY' : 1.0,
'reverseMethod' : REVERSEMETHOD_FLIP_Y,
'outInvertsSweep' : true,
'scaleIsotropically' : false
};

aTransitionInfoTable[BARNZIGZAGWIPE_TRANSITION] = {};
aTransitionInfoTable[BARNZIGZAGWIPE_TRANSITION][VERTICAL_TRANS_SUBTYPE] =
{
'class' : TRANSITION_CLIP_POLYPOLYGON,
'rotationAngle' : 0.0,
'scaleX' : 1.0,
'scaleY' : 1.0,
'reverseMethod' : REVERSEMETHOD_IGNORE,
'outInvertsSweep' : true,
'scaleIsotropically' : false
};
aTransitionInfoTable[BARNZIGZAGWIPE_TRANSITION][HORIZONTAL_TRANS_SUBTYPE] =
{
'class' : TRANSITION_CLIP_POLYPOLYGON,
'rotationAngle' : 90.0,
'scaleX' : 1.0,
'scaleY' : 1.0,
'reverseMethod' : REVERSEMETHOD_IGNORE,
'outInvertsSweep' : true,
'scaleIsotropically' : false
};

aTransitionInfoTable[BARWIPE_TRANSITION] = {};
aTransitionInfoTable[BARWIPE_TRANSITION][LEFTTORIGHT_TRANS_SUBTYPE] =
{
'class' : TRANSITION_CLIP_POLYPOLYGON,
'rotationAngle' : 0.0,
'scaleX' : 1.0,
'scaleY' : 1.0,
'reverseMethod' : REVERSEMETHOD_FLIP_X,
'outInvertsSweep' : false,
'scaleIsotropically' : false
};
aTransitionInfoTable[BARWIPE_TRANSITION][TOPTOBOTTOM_TRANS_SUBTYPE] =
{
'class' : TRANSITION_CLIP_POLYPOLYGON,
'rotationAngle' : 90.0,
'scaleX' : 1.0,
'scaleY' : 1.0,
'reverseMethod' : REVERSEMETHOD_FLIP_Y,
'outInvertsSweep' : false,
'scaleIsotropically' : false
};

aTransitionInfoTable[WATERFALLWIPE_TRANSITION] = {};
aTransitionInfoTable[WATERFALLWIPE_TRANSITION][VERTICALLEFT_TRANS_SUBTYPE] =
{
'class' : TRANSITION_CLIP_POLYPOLYGON,
'rotationAngle' : 0.0,
'scaleX' : 1.0,
'scaleY' : 1.0,
'reverseMethod' : REVERSEMETHOD_ROTATE_180,
'outInvertsSweep' : true,
'scaleIsotropically' : false
};
aTransitionInfoTable[WATERFALLWIPE_TRANSITION][VERTICALRIGHT_TRANS_SUBTYPE] =
{
'class' : TRANSITION_CLIP_POLYPOLYGON,
'rotationAngle' : 0.0,
'scaleX' : 1.0,
'scaleY' : 1.0,
'reverseMethod' : REVERSEMETHOD_ROTATE_180,
'outInvertsSweep' : true,
'scaleIsotropically' : false
};
aTransitionInfoTable[WATERFALLWIPE_TRANSITION][HORIZONTALLEFT_TRANS_SUBTYPE] =
{
'class' : TRANSITION_CLIP_POLYPOLYGON,
'rotationAngle' : -90.0,
'scaleX' : 1.0,
'scaleY' : 1.0,
'reverseMethod' : REVERSEMETHOD_ROTATE_180,
'outInvertsSweep' : true,
'scaleIsotropically' : false
};
aTransitionInfoTable[WATERFALLWIPE_TRANSITION][HORIZONTALRIGHT_TRANS_SUBTYPE] =
{
'class' : TRANSITION_CLIP_POLYPOLYGON,
'rotationAngle' : 90.0,
'scaleX' : 1.0,
'scaleY' : 1.0,
'reverseMethod' : REVERSEMETHOD_ROTATE_180,
'outInvertsSweep' : true,
'scaleIsotropically' : false
};

aTransitionInfoTable[BOXWIPE_TRANSITION] = {};
aTransitionInfoTable[BOXWIPE_TRANSITION][TOPLEFT_TRANS_SUBTYPE] =
{
'class' : TRANSITION_CLIP_POLYPOLYGON,
'rotationAngle' : 0.0,
'scaleX' : 1.0,
'scaleY' : 1.0,
'reverseMethod' : REVERSEMETHOD_IGNORE,
'outInvertsSweep' : true,
'scaleIsotropically' : false
};
aTransitionInfoTable[BOXWIPE_TRANSITION][TOPRIGHT_TRANS_SUBTYPE] =
{
'class' : TRANSITION_CLIP_POLYPOLYGON,
'rotationAngle' : 90.0,
'scaleX' : 1.0,
'scaleY' : 1.0,
'reverseMethod' : REVERSEMETHOD_IGNORE,
'outInvertsSweep' : true,
'scaleIsotropically' : false
};
aTransitionInfoTable[BOXWIPE_TRANSITION][BOTTOMRIGHT_TRANS_SUBTYPE] =
{
'class' : TRANSITION_CLIP_POLYPOLYGON,
'rotationAngle' : 180.0,
'scaleX' : 1.0,
'scaleY' : 1.0,
'reverseMethod' : REVERSEMETHOD_IGNORE,
'outInvertsSweep' : true,
'scaleIsotropically' : false
};
aTransitionInfoTable[BOXWIPE_TRANSITION][BOTTOMLEFT_TRANS_SUBTYPE] =
{
'class' : TRANSITION_CLIP_POLYPOLYGON,
'rotationAngle' : -90.0,
'scaleX' : 1.0,
'scaleY' : 1.0,
'reverseMethod' : REVERSEMETHOD_IGNORE,
'outInvertsSweep' : true,
'scaleIsotropically' : false
};
aTransitionInfoTable[BOXWIPE_TRANSITION][TOPCENTER_TRANS_SUBTYPE] =
{
'class' : TRANSITION_CLIP_POLYPOLYGON,
'rotationAngle' : 0.0,
'scaleX' : 1.0,
'scaleY' : 1.0,
'reverseMethod' : REVERSEMETHOD_FLIP_Y,
'outInvertsSweep' : true,
'scaleIsotropically' : false
};
aTransitionInfoTable[BOXWIPE_TRANSITION][RIGHTCENTER_TRANS_SUBTYPE] =
{
'class' : TRANSITION_CLIP_POLYPOLYGON,
'rotationAngle' : 90.0,
'scaleX' : 1.0,
'scaleY' : 1.0,
'reverseMethod' : REVERSEMETHOD_FLIP_X,
'outInvertsSweep' : true,
'scaleIsotropically' : false
};
aTransitionInfoTable[BOXWIPE_TRANSITION][BOTTOMCENTER_TRANS_SUBTYPE] =
{
'class' : TRANSITION_CLIP_POLYPOLYGON,
'rotationAngle' : 180.0,
'scaleX' : 1.0,
'scaleY' : 1.0,
'reverseMethod' : REVERSEMETHOD_FLIP_Y,
'outInvertsSweep' : true,
'scaleIsotropically' : false
};
aTransitionInfoTable[BOXWIPE_TRANSITION][LEFTCENTER_TRANS_SUBTYPE] =
{
'class' : TRANSITION_CLIP_POLYPOLYGON,
'rotationAngle' : -90.0,
'scaleX' : 1.0,
'scaleY' : 1.0,
'reverseMethod' : REVERSEMETHOD_FLIP_X,
'outInvertsSweep' : true,
'scaleIsotropically' : false
};

aTransitionInfoTable[FOURBOXWIPE_TRANSITION] = {};
aTransitionInfoTable[FOURBOXWIPE_TRANSITION][CORNERSIN_TRANS_SUBTYPE] =
aTransitionInfoTable[FOURBOXWIPE_TRANSITION][CORNERSOUT_TRANS_SUBTYPE] =
{
'class' : TRANSITION_CLIP_POLYPOLYGON,
'rotationAngle' : 0.0,
'scaleX' : 1.0,
'scaleY' : 1.0,
'reverseMethod' : REVERSEMETHOD_SUBTRACT_AND_INVERT,
'outInvertsSweep' : true,
'scaleIsotropically' : false
};

aTransitionInfoTable[ELLIPSEWIPE_TRANSITION] = {};
aTransitionInfoTable[ELLIPSEWIPE_TRANSITION][CIRCLE_TRANS_SUBTYPE] =
{
'class' : TRANSITION_CLIP_POLYPOLYGON,
'rotationAngle' : 0.0,
'scaleX' : 1.0,
'scaleY' : 1.0,
'reverseMethod' : REVERSEMETHOD_SUBTRACT_AND_INVERT,
'outInvertsSweep' : true,
'scaleIsotropically' : true
};
aTransitionInfoTable[ELLIPSEWIPE_TRANSITION][HORIZONTAL_TRANS_SUBTYPE] =
{
'class' : TRANSITION_CLIP_POLYPOLYGON,
'rotationAngle' : 0.0,
'scaleX' : 1.0,
'scaleY' : 1.0,
'reverseMethod' : REVERSEMETHOD_SUBTRACT_AND_INVERT,
'outInvertsSweep' : true,
'scaleIsotropically' : false
};
aTransitionInfoTable[ELLIPSEWIPE_TRANSITION][VERTICAL_TRANS_SUBTYPE] =
{
'class' : TRANSITION_CLIP_POLYPOLYGON,
'rotationAngle' : 90.0,
'scaleX' : 1.0,
'scaleY' : 1.0,
'reverseMethod' : REVERSEMETHOD_SUBTRACT_AND_INVERT,
'outInvertsSweep' : true,
'scaleIsotropically' : false
};

aTransitionInfoTable[CLOCKWIPE_TRANSITION] = {};
aTransitionInfoTable[CLOCKWIPE_TRANSITION][CLOCKWISETWELVE_TRANS_SUBTYPE] =
{
'class' : TRANSITION_CLIP_POLYPOLYGON,
'rotationAngle' : 0.0,
'scaleX' : 1.0,
'scaleY' : 1.0,
'reverseMethod' : REVERSEMETHOD_FLIP_X,
'outInvertsSweep' : true,
'scaleIsotropically' : false
};
aTransitionInfoTable[CLOCKWIPE_TRANSITION][CLOCKWISETHREE_TRANS_SUBTYPE] =
{
'class' : TRANSITION_CLIP_POLYPOLYGON,
'rotationAngle' : 90.0,
'scaleX' : 1.0,
'scaleY' : 1.0,
'reverseMethod' : REVERSEMETHOD_FLIP_Y,
'outInvertsSweep' : true,
'scaleIsotropically' : false
};
aTransitionInfoTable[CLOCKWIPE_TRANSITION][CLOCKWISESIX_TRANS_SUBTYPE] =
{
'class' : TRANSITION_CLIP_POLYPOLYGON,
'rotationAngle' : 180.0,
'scaleX' : 1.0,
'scaleY' : 1.0,
'reverseMethod' : REVERSEMETHOD_FLIP_X,
'outInvertsSweep' : true,
'scaleIsotropically' : false
};
aTransitionInfoTable[CLOCKWIPE_TRANSITION][CLOCKWISENINE_TRANS_SUBTYPE] =
{
'class' : TRANSITION_CLIP_POLYPOLYGON,
'rotationAngle' : 270.0,
'scaleX' : 1.0,
'scaleY' : 1.0,
'reverseMethod' : REVERSEMETHOD_FLIP_Y,
'outInvertsSweep' : true,
'scaleIsotropically' : false
};

aTransitionInfoTable[VEEWIPE_TRANSITION] = {};
aTransitionInfoTable[VEEWIPE_TRANSITION][DOWN_TRANS_SUBTYPE] =
{
'class' : TRANSITION_CLIP_POLYPOLYGON,
'rotationAngle' : 0.0,
'scaleX' : 1.0,
'scaleY' : 1.0,
'reverseMethod' : REVERSEMETHOD_FLIP_Y,
'outInvertsSweep' : true,
'scaleIsotropically' : false
};
aTransitionInfoTable[VEEWIPE_TRANSITION][LEFT_TRANS_SUBTYPE] =
{
'class' : TRANSITION_CLIP_POLYPOLYGON,
'rotationAngle' : 90.0,
'scaleX' : 1.0,
'scaleY' : 1.0,
'reverseMethod' : REVERSEMETHOD_FLIP_X,
'outInvertsSweep' : true,
'scaleIsotropically' : false
};
aTransitionInfoTable[VEEWIPE_TRANSITION][UP_TRANS_SUBTYPE] =
{
'class' : TRANSITION_CLIP_POLYPOLYGON,
'rotationAngle' : 180.0,
'scaleX' : 1.0,
'scaleY' : 1.0,
'reverseMethod' : REVERSEMETHOD_FLIP_Y,
'outInvertsSweep' : true,
'scaleIsotropically' : false
};
aTransitionInfoTable[VEEWIPE_TRANSITION][RIGHT_TRANS_SUBTYPE] =
{
'class' : TRANSITION_CLIP_POLYPOLYGON,
'rotationAngle' : -90.0,
'scaleX' : 1.0,
'scaleY' : 1.0,
'reverseMethod' : REVERSEMETHOD_FLIP_X,
'outInvertsSweep' : true,
'scaleIsotropically' : false
};

aTransitionInfoTable[FANWIPE_TRANSITION] = {};
aTransitionInfoTable[FANWIPE_TRANSITION][CENTERTOP_TRANS_SUBTYPE] =
{
'class' : TRANSITION_CLIP_POLYPOLYGON,
'rotationAngle' : 0.0,
'scaleX' : 1.0,
'scaleY' : 1.0,
'reverseMethod' : REVERSEMETHOD_FLIP_Y,
'outInvertsSweep' : true,
'scaleIsotropically' : false
};
aTransitionInfoTable[FANWIPE_TRANSITION][CENTERRIGHT_TRANS_SUBTYPE] =
{
'class' : TRANSITION_CLIP_POLYPOLYGON,
'rotationAngle' : 90.0,
'scaleX' : 1.0,
'scaleY' : 1.0,
'reverseMethod' : REVERSEMETHOD_FLIP_X,
'outInvertsSweep' : true,
'scaleIsotropically' : false
};
aTransitionInfoTable[FANWIPE_TRANSITION][TOP_TRANS_SUBTYPE] =
{
'class' : TRANSITION_CLIP_POLYPOLYGON,
'rotationAngle' : 180.0,
'scaleX' : 1.0,
'scaleY' : 1.0,
'reverseMethod' : REVERSEMETHOD_FLIP_Y,
'outInvertsSweep' : true,
'scaleIsotropically' : false
};
aTransitionInfoTable[FANWIPE_TRANSITION][RIGHT_TRANS_SUBTYPE] =
{
'class' : TRANSITION_CLIP_POLYPOLYGON,
'rotationAngle' : -90.0,
'scaleX' : 1.0,
'scaleY' : 1.0,
'reverseMethod' : REVERSEMETHOD_FLIP_X,
'outInvertsSweep' : true,
'scaleIsotropically' : false
};
aTransitionInfoTable[FANWIPE_TRANSITION][BOTTOM_TRANS_SUBTYPE] =
{
'class' : TRANSITION_CLIP_POLYPOLYGON,
'rotationAngle' : 180.0,
'scaleX' : 1.0,
'scaleY' : 1.0,
'reverseMethod' : REVERSEMETHOD_FLIP_Y,
'outInvertsSweep' : true,
'scaleIsotropically' : false
};
aTransitionInfoTable[FANWIPE_TRANSITION][LEFT_TRANS_SUBTYPE] =
{
'class' : TRANSITION_CLIP_POLYPOLYGON,
'rotationAngle' : 90.0,
'scaleX' : 1.0,
'scaleY' : 1.0,
'reverseMethod' : REVERSEMETHOD_FLIP_X,
'outInvertsSweep' : true,
'scaleIsotropically' : false
};


aTransitionInfoTable[PINWHEELWIPE_TRANSITION] = {};
aTransitionInfoTable[PINWHEELWIPE_TRANSITION][ONEBLADE_TRANS_SUBTYPE] =
aTransitionInfoTable[PINWHEELWIPE_TRANSITION][TWOBLADEVERTICAL_TRANS_SUBTYPE] =
aTransitionInfoTable[PINWHEELWIPE_TRANSITION][THREEBLADE_TRANS_SUBTYPE] =
aTransitionInfoTable[PINWHEELWIPE_TRANSITION][FOURBLADE_TRANS_SUBTYPE] =
aTransitionInfoTable[PINWHEELWIPE_TRANSITION][EIGHTBLADE_TRANS_SUBTYPE] =
{
'class' : TRANSITION_CLIP_POLYPOLYGON,
'rotationAngle' : 0.0,
'scaleX' : 1.0,
'scaleY' : 1.0,
'reverseMethod' : REVERSEMETHOD_FLIP_X,
'outInvertsSweep' : true,
'scaleIsotropically' : true
};
aTransitionInfoTable[PINWHEELWIPE_TRANSITION][TWOBLADEHORIZONTAL_TRANS_SUBTYPE] =
{
'class' : TRANSITION_CLIP_POLYPOLYGON,
'rotationAngle' : -90.0,
'scaleX' : 1.0,
'scaleY' : 1.0,
'reverseMethod' : REVERSEMETHOD_FLIP_Y,
'outInvertsSweep' : true,
'scaleIsotropically' : true
};

aTransitionInfoTable[PUSHWIPE_TRANSITION] = {};
aTransitionInfoTable[PUSHWIPE_TRANSITION][FROMLEFT_TRANS_SUBTYPE] =
aTransitionInfoTable[PUSHWIPE_TRANSITION][FROMTOP_TRANS_SUBTYPE] =
aTransitionInfoTable[PUSHWIPE_TRANSITION][FROMRIGHT_TRANS_SUBTYPE] =
aTransitionInfoTable[PUSHWIPE_TRANSITION][FROMBOTTOM_TRANS_SUBTYPE] =
{
'class' : TRANSITION_SPECIAL,
'rotationAngle' : 0.0,
'scaleX' : 1.0,
'scaleY' : 1.0,
'reverseMethod' : REVERSEMETHOD_IGNORE,
'outInvertsSweep' : true,
'scaleIsotropically' : false
};


aTransitionInfoTable[SINGLESWEEPWIPE_TRANSITION] = {};
aTransitionInfoTable[SINGLESWEEPWIPE_TRANSITION][CLOCKWISETOP_TRANS_SUBTYPE] =
{
'class' : TRANSITION_CLIP_POLYPOLYGON,
'rotationAngle' : 0.0,
'scaleX' : 1.0,
'scaleY' : 1.0,
'reverseMethod' : REVERSEMETHOD_SUBTRACT_AND_INVERT,
'outInvertsSweep' : true,
'scaleIsotropically' : false
};
aTransitionInfoTable[SINGLESWEEPWIPE_TRANSITION][CLOCKWISERIGHT_TRANS_SUBTYPE] =
{
'class' : TRANSITION_CLIP_POLYPOLYGON,
'rotationAngle' : 90.0,
'scaleX' : 1.0,
'scaleY' : 1.0,
'reverseMethod' : REVERSEMETHOD_SUBTRACT_AND_INVERT,
'outInvertsSweep' : true,
'scaleIsotropically' : false
};
aTransitionInfoTable[SINGLESWEEPWIPE_TRANSITION][CLOCKWISEBOTTOM_TRANS_SUBTYPE] =
{
'class' : TRANSITION_CLIP_POLYPOLYGON,
'rotationAngle' : 180.0,
'scaleX' : 1.0,
'scaleY' : 1.0,
'reverseMethod' : REVERSEMETHOD_SUBTRACT_AND_INVERT,
'outInvertsSweep' : true,
'scaleIsotropically' : false
};
aTransitionInfoTable[SINGLESWEEPWIPE_TRANSITION][CLOCKWISELEFT_TRANS_SUBTYPE] =
{
'class' : TRANSITION_CLIP_POLYPOLYGON,
'rotationAngle' : 270.0,
'scaleX' : 1.0,
'scaleY' : 1.0,
'reverseMethod' : REVERSEMETHOD_SUBTRACT_AND_INVERT,
'outInvertsSweep' : true,
'scaleIsotropically' : false
};
aTransitionInfoTable[SINGLESWEEPWIPE_TRANSITION][CLOCKWISETOPLEFT_TRANS_SUBTYPE] =
{
'class' : TRANSITION_CLIP_POLYPOLYGON,
'rotationAngle' : 0.0,
'scaleX' : 1.0,
'scaleY' : 1.0,
'reverseMethod' : REVERSEMETHOD_SUBTRACT_AND_INVERT,
'outInvertsSweep' : true,
'scaleIsotropically' : false
};
aTransitionInfoTable[SINGLESWEEPWIPE_TRANSITION][COUNTERCLOCKWISEBOTTOMLEFT_TRANS_SUBTYPE] =
{
'class' : TRANSITION_CLIP_POLYPOLYGON,
'rotationAngle' : 180.0,
'scaleX' : 1.0,
'scaleY' : 1.0,
'reverseMethod' : REVERSEMETHOD_SUBTRACT_AND_INVERT,
'outInvertsSweep' : true,
'scaleIsotropically' : false
};
aTransitionInfoTable[SINGLESWEEPWIPE_TRANSITION][CLOCKWISEBOTTOMRIGHT_TRANS_SUBTYPE] =
{
'class' : TRANSITION_CLIP_POLYPOLYGON,
'rotationAngle' : 180.0,
'scaleX' : 1.0,
'scaleY' : 1.0,
'reverseMethod' : REVERSEMETHOD_SUBTRACT_AND_INVERT,
'outInvertsSweep' : true,
'scaleIsotropically' : false
};
aTransitionInfoTable[SINGLESWEEPWIPE_TRANSITION][COUNTERCLOCKWISETOPRIGHT_TRANS_SUBTYPE] =
{
'class' : TRANSITION_CLIP_POLYPOLYGON,
'rotationAngle' : 0.0,
'scaleX' : 1.0,
'scaleY' : 1.0,
'reverseMethod' : REVERSEMETHOD_SUBTRACT_AND_INVERT,
'outInvertsSweep' : true,
'scaleIsotropically' : false
};

aTransitionInfoTable[SLIDEWIPE_TRANSITION] = {};
aTransitionInfoTable[SLIDEWIPE_TRANSITION][FROMLEFT_TRANS_SUBTYPE] =
aTransitionInfoTable[SLIDEWIPE_TRANSITION][FROMTOP_TRANS_SUBTYPE] =
aTransitionInfoTable[SLIDEWIPE_TRANSITION][FROMRIGHT_TRANS_SUBTYPE] =
aTransitionInfoTable[SLIDEWIPE_TRANSITION][FROMBOTTOM_TRANS_SUBTYPE] =
{
'class' : TRANSITION_SPECIAL,
'rotationAngle' : 0.0,
'scaleX' : 1.0,
'scaleY' : 1.0,
'reverseMethod' : REVERSEMETHOD_IGNORE,
'outInvertsSweep' : true,
'scaleIsotropically' : false
};

aTransitionInfoTable[FADE_TRANSITION] = {};
aTransitionInfoTable[FADE_TRANSITION][CROSSFADE_TRANS_SUBTYPE] =
aTransitionInfoTable[FADE_TRANSITION][FADETOCOLOR_TRANS_SUBTYPE] =
aTransitionInfoTable[FADE_TRANSITION][FADEFROMCOLOR_TRANS_SUBTYPE] =
aTransitionInfoTable[FADE_TRANSITION][FADEOVERCOLOR_TRANS_SUBTYPE] =
{
'class' : TRANSITION_SPECIAL,
'rotationAngle' : 0.0,
'scaleX' : 1.0,
'scaleY' : 1.0,
'reverseMethod' : REVERSEMETHOD_IGNORE,
'outInvertsSweep' : true,
'scaleIsotropically' : false
};


aTransitionInfoTable[RANDOMBARWIPE_TRANSITION] = {};
aTransitionInfoTable[RANDOMBARWIPE_TRANSITION][VERTICAL_TRANS_SUBTYPE] =
{
'class' : TRANSITION_CLIP_POLYPOLYGON,
'rotationAngle' : 90.0,
'scaleX' : 1.0,
'scaleY' : 1.0,
'reverseMethod' : REVERSEMETHOD_IGNORE,
'outInvertsSweep' : true,
'scaleIsotropically' : false
};
aTransitionInfoTable[RANDOMBARWIPE_TRANSITION][HORIZONTAL_TRANS_SUBTYPE] =
{
'class' : TRANSITION_CLIP_POLYPOLYGON,
'rotationAngle' : 0.0,
'scaleX' : 1.0,
'scaleY' : 1.0,
'reverseMethod' : REVERSEMETHOD_IGNORE,
'outInvertsSweep' : true,
'scaleIsotropically' : false
};

aTransitionInfoTable[CHECKERBOARDWIPE_TRANSITION] = {};
aTransitionInfoTable[CHECKERBOARDWIPE_TRANSITION][DOWN_TRANS_SUBTYPE] =
{
'class' : TRANSITION_CLIP_POLYPOLYGON,
'rotationAngle' : 90.0,
'scaleX' : 1.0,
'scaleY' : 1.0,
'reverseMethod' : REVERSEMETHOD_FLIP_Y,
'outInvertsSweep' : true,
'scaleIsotropically' : false
};
aTransitionInfoTable[CHECKERBOARDWIPE_TRANSITION][ACROSS_TRANS_SUBTYPE] =
{
'class' : TRANSITION_CLIP_POLYPOLYGON,
'rotationAngle' : 0.0,
'scaleX' : 1.0,
'scaleY' : 1.0,
'reverseMethod' : REVERSEMETHOD_FLIP_X,
'outInvertsSweep' : true,
'scaleIsotropically' : false
};

aTransitionInfoTable[DISSOLVE_TRANSITION] = {};
aTransitionInfoTable[DISSOLVE_TRANSITION][DEFAULT_TRANS_SUBTYPE] =
{
'class' : TRANSITION_CLIP_POLYPOLYGON,
'rotationAngle' : 0.0,
'scaleX' : 1.0,
'scaleY' : 1.0,
'reverseMethod' : REVERSEMETHOD_IGNORE,
'outInvertsSweep' : true,
'scaleIsotropically' : true
};


function createStateTransitionTable()
{
var aSTT = {};

aSTT[RESTART_MODE_NEVER] = {};
aSTT[RESTART_MODE_WHEN_NOT_ACTIVE] = {};
aSTT[RESTART_MODE_ALWAYS] = {};

var aTable =
aSTT[RESTART_MODE_NEVER][FILL_MODE_REMOVE] = {};
aTable[INVALID_NODE]        = INVALID_NODE;
aTable[UNRESOLVED_NODE]     = RESOLVED_NODE | ENDED_NODE;
aTable[RESOLVED_NODE]       = ACTIVE_NODE | ENDED_NODE;
aTable[ACTIVE_NODE]         = ENDED_NODE;
aTable[FROZEN_NODE]         = INVALID_NODE;  // this state is unreachable here
aTable[ENDED_NODE]          = ENDED_NODE;    // this state is a sink here (cannot restart)

aTable =
aSTT[RESTART_MODE_NEVER][FILL_MODE_FREEZE] =
aSTT[RESTART_MODE_NEVER][FILL_MODE_HOLD] =
aSTT[RESTART_MODE_NEVER][FILL_MODE_TRANSITION] = {};
aTable[INVALID_NODE]        = INVALID_NODE;
aTable[UNRESOLVED_NODE]     = RESOLVED_NODE | ENDED_NODE;
aTable[RESOLVED_NODE]       = ACTIVE_NODE | ENDED_NODE;
aTable[ACTIVE_NODE]         = FROZEN_NODE | ENDED_NODE;
aTable[FROZEN_NODE]         = ENDED_NODE;
aTable[ENDED_NODE]          = ENDED_NODE;   // this state is a sink here (cannot restart)

aTable =
aSTT[RESTART_MODE_WHEN_NOT_ACTIVE][FILL_MODE_REMOVE] = {};
aTable[INVALID_NODE]        = INVALID_NODE;
aTable[UNRESOLVED_NODE]     = RESOLVED_NODE | ENDED_NODE;
aTable[RESOLVED_NODE]       = ACTIVE_NODE | ENDED_NODE;
aTable[ACTIVE_NODE]         = ENDED_NODE;
aTable[FROZEN_NODE]         = INVALID_NODE;  // this state is unreachable here
aTable[ENDED_NODE]          = RESOLVED_NODE | ACTIVE_NODE | ENDED_NODE;  // restart is possible

aTable =
aSTT[RESTART_MODE_WHEN_NOT_ACTIVE][FILL_MODE_FREEZE] =
aSTT[RESTART_MODE_WHEN_NOT_ACTIVE][FILL_MODE_HOLD] =
aSTT[RESTART_MODE_WHEN_NOT_ACTIVE][FILL_MODE_TRANSITION] = {};
aTable[INVALID_NODE]        = INVALID_NODE;
aTable[UNRESOLVED_NODE]     = RESOLVED_NODE | ENDED_NODE;
aTable[RESOLVED_NODE]       = ACTIVE_NODE | ENDED_NODE;
aTable[ACTIVE_NODE]         = FROZEN_NODE | ENDED_NODE;
aTable[FROZEN_NODE]         = RESOLVED_NODE | ACTIVE_NODE | ENDED_NODE;  // restart is possible
aTable[ENDED_NODE]          = RESOLVED_NODE | ACTIVE_NODE | ENDED_NODE;  // restart is possible

aTable =
aSTT[RESTART_MODE_ALWAYS][FILL_MODE_REMOVE] = {};
aTable[INVALID_NODE]        = INVALID_NODE;
aTable[UNRESOLVED_NODE]     = RESOLVED_NODE | ENDED_NODE;
aTable[RESOLVED_NODE]       = ACTIVE_NODE | ENDED_NODE;
aTable[ACTIVE_NODE]         = RESOLVED_NODE | ACTIVE_NODE | ENDED_NODE;  // restart is possible
aTable[FROZEN_NODE]         = INVALID_NODE;  // this state is unreachable here
aTable[ENDED_NODE]          = RESOLVED_NODE | ACTIVE_NODE | ENDED_NODE;  // restart is possible

aTable =
aSTT[RESTART_MODE_ALWAYS][FILL_MODE_FREEZE] =
aSTT[RESTART_MODE_ALWAYS][FILL_MODE_HOLD] =
aSTT[RESTART_MODE_ALWAYS][FILL_MODE_TRANSITION] = {};
aTable[INVALID_NODE]        = INVALID_NODE;
aTable[UNRESOLVED_NODE]     = RESOLVED_NODE | ENDED_NODE;
aTable[RESOLVED_NODE]       = ACTIVE_NODE | ENDED_NODE;
aTable[ACTIVE_NODE]         = RESOLVED_NODE | ACTIVE_NODE | FROZEN_NODE | ENDED_NODE;
aTable[FROZEN_NODE]         = RESOLVED_NODE | ACTIVE_NODE | ENDED_NODE;  // restart is possible
aTable[ENDED_NODE]          = RESOLVED_NODE | ACTIVE_NODE | ENDED_NODE;  // restart is possible

return aSTT;
}

var aStateTransitionTable = createStateTransitionTable();


function getTransitionTable( eRestartMode, eFillMode )
{
if( eRestartMode == RESTART_MODE_DEFAULT )
{
log( 'getTransitionTable: unexpected restart mode: ' + eRestartMode
+ '. Used NEVER instead.');
eRestartMode = RESTART_MODE_NEVER;
}

if( eFillMode == FILL_MODE_DEFAULT ||
eFillMode == FILL_MODE_AUTO )
{
eFillMode = FILL_MODE_REMOVE;
}

return aStateTransitionTable[eRestartMode][eFillMode];
}


var EVENT_TRIGGER_UNKNOWN               = 0;
var EVENT_TRIGGER_ON_SLIDE_BEGIN        = 1; // eslint-disable-line no-unused-vars
var EVENT_TRIGGER_ON_SLIDE_END          = 2; // eslint-disable-line no-unused-vars
var EVENT_TRIGGER_BEGIN_EVENT           = 3;
var EVENT_TRIGGER_END_EVENT             = 4;
var EVENT_TRIGGER_ON_CLICK              = 5;
var EVENT_TRIGGER_ON_DBL_CLICK          = 6; // eslint-disable-line no-unused-vars
var EVENT_TRIGGER_ON_MOUSE_ENTER        = 7; // eslint-disable-line no-unused-vars
var EVENT_TRIGGER_ON_MOUSE_LEAVE        = 8; // eslint-disable-line no-unused-vars
var EVENT_TRIGGER_ON_NEXT_EFFECT        = 9;
var EVENT_TRIGGER_ON_PREV_EFFECT        = 10;
var EVENT_TRIGGER_REPEAT                = 11; // eslint-disable-line no-unused-vars

var aEventTriggerOutMap = [ 'unknown', 'slideBegin', 'slideEnd', 'begin', 'end', 'click',
'doubleClick', 'mouseEnter', 'mouseLeave', 'next', 'previous', 'repeat' ];


function getEventTriggerType( sEventTrigger )
{
if( sEventTrigger == 'begin' )
return EVENT_TRIGGER_BEGIN_EVENT;
else if( sEventTrigger == 'end' )
return EVENT_TRIGGER_END_EVENT;
else if( sEventTrigger == 'next' )
return EVENT_TRIGGER_ON_NEXT_EFFECT;
else if( sEventTrigger == 'prev' )
return EVENT_TRIGGER_ON_PREV_EFFECT;
else if( sEventTrigger == 'click' )
return EVENT_TRIGGER_ON_CLICK;
else
return EVENT_TRIGGER_UNKNOWN;
}


var UNKNOWN_TIMING          = 0;
var OFFSET_TIMING           = 1;
var WALLCLOCK_TIMING        = 2; // eslint-disable-line no-unused-vars
var INDEFINITE_TIMING       = 3;
var EVENT_TIMING            = 4;
var SYNCBASE_TIMING         = 5;
var MEDIA_TIMING            = 6; // eslint-disable-line no-unused-vars

var aTimingTypeOutMap = [ 'unknown', 'offset', 'wallclock', 'indefinite', 'event', 'syncbase', 'media' ];


var CHARCODE_PLUS       = '+'.charCodeAt(0);
var CHARCODE_MINUS      = '-'.charCodeAt(0);
var CHARCODE_0          = '0'.charCodeAt(0);
var CHARCODE_9          = '9'.charCodeAt(0);


function Timing( aAnimationNode, sTimingAttribute )
{
this.aAnimationNode = aAnimationNode;     // the node, the timing attribute belongs to
this.sTimingDescription = removeWhiteSpaces( sTimingAttribute );
this.eTimingType = UNKNOWN_TIMING;
this.nOffset = 0.0;                       // in seconds
this.sEventBaseElementId = '';            // the element id for event based timing
this.eEventType = EVENT_TRIGGER_UNKNOWN;  // the event type
}

Timing.prototype.getAnimationNode = function()
{
return this.aAnimationNode;
};

Timing.prototype.getType = function()
{
return this.eTimingType;
};

Timing.prototype.getOffset = function()
{
return this.nOffset;
};

Timing.prototype.getEventBaseElementId = function()
{
return this.sEventBaseElementId;
};

Timing.prototype.getEventType = function()
{
return this.eEventType;
};

Timing.prototype.parse = function()
{
if( !this.sTimingDescription )
{
this.eTimingType = OFFSET_TIMING;
return;
}

if( this.sTimingDescription == 'indefinite' )
this.eTimingType = INDEFINITE_TIMING;
else
{
var nFirstCharCode = this.sTimingDescription.charCodeAt(0);
var bPositiveOffset = !( nFirstCharCode == CHARCODE_MINUS );
if ( ( nFirstCharCode == CHARCODE_PLUS ) ||
( nFirstCharCode == CHARCODE_MINUS ) ||
( ( nFirstCharCode >= CHARCODE_0 ) && ( nFirstCharCode <= CHARCODE_9 ) ) )
{
var sClockValue
= ( ( nFirstCharCode == CHARCODE_PLUS ) || ( nFirstCharCode == CHARCODE_MINUS ) )
? this.sTimingDescription.substr( 1 )
: this.sTimingDescription;

var TimeInSec = Timing.parseClockValue( sClockValue );
if( TimeInSec != undefined )
{
this.eTimingType = OFFSET_TIMING;
this.nOffset = bPositiveOffset ? TimeInSec : -TimeInSec;
}
}
else
{
var aTimingSplit = [];
bPositiveOffset = true;
if( this.sTimingDescription.indexOf( '+' ) != -1 )
{
aTimingSplit = this.sTimingDescription.split( '+' );
}
else if( this.sTimingDescription.indexOf( '-' ) != -1 )
{
aTimingSplit = this.sTimingDescription.split( '-' );
bPositiveOffset = false;
}
else
{
aTimingSplit[0] = this.sTimingDescription;
aTimingSplit[1] = '';
}

if( aTimingSplit[0].indexOf( '.' ) != -1 )
{
var aEventSplit = aTimingSplit[0].split( '.' );
this.sEventBaseElementId = aEventSplit[0];
this.eEventType = getEventTriggerType( aEventSplit[1] );
}
else
{
this.eEventType = getEventTriggerType( aTimingSplit[0] );
}

if( this.eEventType == EVENT_TRIGGER_UNKNOWN )
return;

if( ( this.eEventType == EVENT_TRIGGER_BEGIN_EVENT ) ||
( this.eEventType == EVENT_TRIGGER_END_EVENT ) )
{
this.eTimingType = SYNCBASE_TIMING;
}
else
{
this.eTimingType = EVENT_TIMING;
}

if( aTimingSplit[1] )
{
sClockValue = aTimingSplit[1];
TimeInSec = Timing.parseClockValue( sClockValue );
if( TimeInSec != undefined )
{
this.nOffset = ( bPositiveOffset ) ? TimeInSec : -TimeInSec;
}
else
{
this.eTimingType = UNKNOWN_TIMING;
}

}
}
}

};

Timing.parseClockValue = function( sClockValue )
{
if( !sClockValue )
return 0.0;

var nTimeInSec = undefined;

var reFullClockValue = /^([0-9]+):([0-5][0-9]):([0-5][0-9])(.[0-9]+)?$/;
var rePartialClockValue = /^([0-5][0-9]):([0-5][0-9])(.[0-9]+)?$/;
var reTimeCountValue = /^([0-9]+)(.[0-9]+)?(h|min|s|ms)?$/;

if( reFullClockValue.test( sClockValue ) )
{
var aClockTimeParts = reFullClockValue.exec( sClockValue );

var nHours = parseInt( aClockTimeParts[1] );
var nMinutes = parseInt( aClockTimeParts[2] );
var nSeconds = parseInt( aClockTimeParts[3] );
if( aClockTimeParts[4] )
nSeconds += parseFloat( aClockTimeParts[4] );

nTimeInSec = ( ( nHours * 60 ) +  nMinutes ) * 60 + nSeconds;

}
else if( rePartialClockValue.test( sClockValue ) )
{
aClockTimeParts = rePartialClockValue.exec( sClockValue );

nMinutes = parseInt( aClockTimeParts[1] );
nSeconds = parseInt( aClockTimeParts[2] );
if( aClockTimeParts[3] )
nSeconds += parseFloat( aClockTimeParts[3] );

nTimeInSec = nMinutes * 60 + nSeconds;
}
else if( reTimeCountValue.test( sClockValue ) )
{
aClockTimeParts = reTimeCountValue.exec( sClockValue );

var nTimeCount = parseInt( aClockTimeParts[1] );
if( aClockTimeParts[2] )
nTimeCount += parseFloat( aClockTimeParts[2] );

if( aClockTimeParts[3] )
{
if( aClockTimeParts[3] == 'h' )
{
nTimeInSec = nTimeCount * 3600;
}
else if( aClockTimeParts[3] == 'min' )
{
nTimeInSec = nTimeCount * 60;
}
else if( aClockTimeParts[3] == 's' )
{
nTimeInSec = nTimeCount;
}
else if( aClockTimeParts[3] == 'ms' )
{
nTimeInSec = nTimeCount / 1000;
}
}
else
{
nTimeInSec = nTimeCount;
}

}

if( nTimeInSec )
nTimeInSec = parseFloat( nTimeInSec.toFixed( 3 ) );
return nTimeInSec;
};

Timing.prototype.info = function( bVerbose )
{

var sInfo = '';

if( bVerbose )
{
sInfo = 'description: ' + this.sTimingDescription + ', ';

sInfo += ', type: ' +  aTimingTypeOutMap[ this.getType() ];
sInfo += ', offset: ' + this.getOffset();
sInfo += ', event base element id: ' + this.getEventBaseElementId();
sInfo += ', timing event type: ' + aEventTriggerOutMap[ this.getEventType() ];
}
else
{
switch( this.getType() )
{
case INDEFINITE_TIMING:
sInfo += 'indefinite';
break;
case OFFSET_TIMING:
sInfo += this.getOffset();
break;
case EVENT_TIMING:
case SYNCBASE_TIMING:
if( this.getEventBaseElementId() )
sInfo += this.getEventBaseElementId() + '.';
sInfo += aEventTriggerOutMap[ this.getEventType() ];
if( this.getOffset() )
{
if( this.getOffset() > 0 )
sInfo += '+';
sInfo += this.getOffset();
}
}
}

return sInfo;
};


function Duration( sDurationAttribute )
{
this.bIndefinite = false;
this.bMedia = false;
this.nValue = undefined;
this.bDefined = false;

if( !sDurationAttribute )
return;

if( sDurationAttribute == 'indefinite' )
this.bIndefinite = true;
else if( sDurationAttribute == 'media' )
this.bMedia = true;
else
{
this.nValue = Timing.parseClockValue( sDurationAttribute );
if( this.nValue <= 0.0 )
this.nValue = 0.001;  // duration must be always greater than 0
}
this.bDefined = true;
}


Duration.prototype.isSet = function()
{
return this.bDefined;
};

Duration.prototype.isIndefinite = function()
{
return this.bIndefinite;
};

Duration.prototype.isMedia = function()
{
return this.bMedia;
};

Duration.prototype.isValue = function()
{
return this.nValue != undefined;
};

Duration.prototype.getValue= function()
{
return this.nValue;
};

Duration.prototype.info= function()
{
var sInfo;

if( this.isIndefinite() )
sInfo = 'indefinite';
else if( this.isMedia() )
sInfo = 'media';
else if( this.getValue() )
sInfo = this.getValue();

return sInfo;
};


function AnimationNode()
{
}

AnimationNode.prototype.init = function() {};
AnimationNode.prototype.resolve = function() {};
AnimationNode.prototype.activate = function() {};
AnimationNode.prototype.deactivate = function() {};
AnimationNode.prototype.end = function() {};
AnimationNode.prototype.getState = function() {};
AnimationNode.prototype.registerDeactivatingListener = function() {};
AnimationNode.prototype.notifyDeactivating = function() {};


function NodeContext( aSlideShowContext )
{
this.aContext = aSlideShowContext;
this.aAnimationNodeMap = null;
this.aAnimatedElementMap = null;
this.aSourceEventElementMap = null;
this.nStartDelay = 0.0;
this.bFirstRun = undefined;
this.aSlideHeight = HEIGHT;
this.aSlideWidth = WIDTH;
}


NodeContext.prototype.makeSourceEventElement = function( sId, aEventBaseElem )
{
if( !aEventBaseElem )
{
log( 'NodeContext.makeSourceEventElement: event base element is not valid' );
return null;
}

if( !this.aContext.aEventMultiplexer )
{
log( 'NodeContext.makeSourceEventElement: event multiplexer not initialized' );
return null;
}

if( !this.aSourceEventElementMap[ sId ] )
{
this.aSourceEventElementMap[ sId ] = new SourceEventElement( sId, aEventBaseElem, this.aContext.aEventMultiplexer );
}
return this.aSourceEventElementMap[ sId ];
};


function StateTransition( aBaseNode )
{
this.aNode = aBaseNode;
this.eToState = INVALID_NODE;
}

StateTransition.prototype.enter = function( eNodeState, bForce )
{
if( !bForce ) bForce = false;

if( this.eToState != INVALID_NODE )
{
log( 'StateTransition.enter: commit() before enter()ing again!' );
return false;
}
if( !bForce && !this.aNode.isTransition( this.aNode.getState(), eNodeState  ) )
return false;

if( ( this.aNode.nCurrentStateTransition & eNodeState ) != 0 )
return false; // already in wanted transition

this.aNode.nCurrentStateTransition |= eNodeState;
this.eToState = eNodeState;
return true;
};

StateTransition.prototype.commit = function()
{
if( this.eToState != INVALID_NODE )
{
this.aNode.eCurrentState = this.eToState;
this.clear();
}
};

StateTransition.prototype.clear = function()
{
if( this.eToState != INVALID_NODE )
{
this.aNode.nCurrentStateTransition &= ~this.eToState;
this.eToState = INVALID_NODE;
}
};


function BaseNode( aAnimElem, aParentNode, aNodeContext )
{
this.nId = getUniqueId();
this.sClassName = 'BaseNode';

if( !aAnimElem )
log( 'BaseNode(id:' + this.nId + ') constructor: aAnimElem is not valid' );

if( !aNodeContext )
log( 'BaseNode(id:' + this.nId + ') constructor: aNodeContext is not valid' );

if( !aNodeContext.aContext )
log( 'BaseNode(id:' + this.nId + ') constructor: aNodeContext.aContext is not valid' );


this.bIsContainer = false;
this.aElement = aAnimElem;
this.aParentNode = aParentNode;
this.aNodeContext = aNodeContext;
this.aContext = aNodeContext.aContext;
this.nStartDelay = aNodeContext.nStartDelay;
this.eCurrentState = UNRESOLVED_NODE;
this.nCurrentStateTransition = 0;
this.aDeactivatingListenerArray = [];
this.aActivationEvent = null;
this.aDeactivationEvent = null;

this.aBegin = null;
this.aDuration = null;
this.aEnd = null;
this.bMainSequenceRootNode = false;
this.bInteractiveSequenceRootNode = false;
this.eFillMode = FILL_MODE_FREEZE;
this.eRestartMode = RESTART_MODE_NEVER;
this.nReapeatCount = undefined;
this.nAccelerate = 0.0;
this.nDecelerate = 0.0;
this.bAutoReverse = false;

}
extend( BaseNode, AnimationNode );


BaseNode.prototype.getId = function()
{
return this.nId;
};

BaseNode.prototype.parseElement = function()
{
var aAnimElem = this.aElement;

var sIdAttr = aAnimElem.getAttributeNS( NSS['xml'], 'id' );
if( sIdAttr )
this.aNodeContext.aAnimationNodeMap[ sIdAttr ] = this;

this.aBegin = null;
var sBeginAttr = aAnimElem.getAttributeNS( NSS['smil'], 'begin' );
this.aBegin = new Timing( this, sBeginAttr );
this.aBegin.parse();

this.aEnd = null;
var sEndAttr = aAnimElem.getAttributeNS( NSS['smil'], 'end' );
if( sEndAttr )
{
this.aEnd = new Timing( this, sEndAttr );
this.aEnd.parse();
}

this.aDuration = null;
var sDurAttr = aAnimElem.getAttributeNS( NSS['smil'], 'dur' );
this.aDuration = new Duration( sDurAttr );
if( !this.aDuration.isSet() )
{
if( this.isContainer() )
this.aDuration = null;
else
this.aDuration = new Duration( 'indefinite' );
}

var sFillAttr = aAnimElem.getAttributeNS( NSS['smil'], 'fill' );
if( sFillAttr && aFillModeInMap[ sFillAttr ])
this.eFillMode = aFillModeInMap[ sFillAttr ];
else
this.eFillMode = FILL_MODE_DEFAULT;

var sRestartAttr = aAnimElem.getAttributeNS( NSS['smil'], 'restart' );
if( sRestartAttr && aRestartModeInMap[ sRestartAttr ] )
this.eRestartMode = aRestartModeInMap[ sRestartAttr ];
else
this.eRestartMode = RESTART_MODE_DEFAULT;

var sRepeatCount = aAnimElem.getAttributeNS( NSS['smil'], 'repeatCount' );
if( !sRepeatCount )
this.nReapeatCount = 1;
else
this.nReapeatCount = parseFloat( sRepeatCount );
if( ( isNaN(this.nReapeatCount) ) && ( sRepeatCount != 'indefinite' ) )
this.nReapeatCount = 1;

this.nAccelerate = 0.0;
var sAccelerateAttr = aAnimElem.getAttributeNS( NSS['smil'], 'accelerate' );
if( sAccelerateAttr )
this.nAccelerate = parseFloat( sAccelerateAttr );
if( isNaN(this.nAccelerate) )
this.nAccelerate = 0.0;

this.nDecelerate = 0.0;
var sDecelerateAttr = aAnimElem.getAttributeNS( NSS['smil'], 'decelerate' );
if( sDecelerateAttr )
this.nDecelerate = parseFloat( sDecelerateAttr );
if( isNaN(this.nDecelerate) )
this.nDecelerate = 0.0;

this.bAutoreverse = false;
var sAutoReverseAttr = aAnimElem.getAttributeNS( NSS['smil'], 'autoReverse' );
if( sAutoReverseAttr == 'true' )
this.bAutoreverse = true;


if( this.eFillMode == FILL_MODE_DEFAULT )
if( this.getParentNode() )
this.eFillMode = this.getParentNode().getFillMode();
else
this.eFillMode = FILL_MODE_AUTO;

if( this.eFillMode ==  FILL_MODE_AUTO ) // see SMIL recommendation document
{
this.eFillMode = ( this.aEnd ||
( this.nReapeatCount != 1) ||
( this.aDuration && !this.aDuration.isIndefinite() ) )
? FILL_MODE_REMOVE
: FILL_MODE_FREEZE;
}

if( this.eRestartMode == RESTART_MODE_DEFAULT )
if( this.getParentNode() )
this.eRestartMode = this.getParentNode().getRestartMode();
else
this.eRestartMode = RESTART_MODE_ALWAYS;

if( ( this.nAccelerate + this.nDecelerate ) > 1.0 )
{
this.nAccelerate = 0.0;
this.nDecelerate = 0.0;
}

this.aStateTransTable = getTransitionTable( this.getRestartMode(), this.getFillMode() );

return true;
};

BaseNode.prototype.getParentNode = function()
{
return this.aParentNode;
};

BaseNode.prototype.init = function()
{
this.DBG( this.callInfo( 'init' ) );
if( ! this.checkValidNode() )
return false;
if( this.aActivationEvent )
this.aActivationEvent.dispose();
if( this.aDeactivationEvent )
this.aDeactivationEvent.dispose();

this.eCurrentState = UNRESOLVED_NODE;

return this.init_st();
};

BaseNode.prototype.resolve = function()
{
if( ! this.checkValidNode() )
return false;

this.DBG( this.callInfo( 'resolve' ) );

if( this.eCurrentState == RESOLVED_NODE )
log( 'BaseNode.resolve: already in RESOLVED state' );

var aStateTrans = new StateTransition( this );

if( aStateTrans.enter( RESOLVED_NODE ) &&
this.isTransition( RESOLVED_NODE, ACTIVE_NODE ) &&
this.resolve_st() )
{
aStateTrans.commit();

if( this.aActivationEvent )
{
this.aActivationEvent.charge();
}
else
{
this.aActivationEvent = makeDelay( bind( this, this.activate ), this.getBegin().getOffset() + this.nStartDelay );
}
registerEvent( this.getId(), this.getBegin(), this.aActivationEvent, this.aNodeContext );

return true;
}

return false;
};

BaseNode.prototype.activate = function()
{
if( ! this.checkValidNode() )
return false;

if( this.eCurrentState == ACTIVE_NODE )
log( 'BaseNode.activate: already in ACTIVE state' );

this.DBG( this.callInfo( 'activate' ), getCurrentSystemTime() );

var aStateTrans = new StateTransition( this );

if( aStateTrans.enter( ACTIVE_NODE ) )
{
this.activate_st();
aStateTrans.commit();
if( !this.aContext.aEventMultiplexer )
log( 'BaseNode.activate: this.aContext.aEventMultiplexer is not valid' );
this.aContext.aEventMultiplexer.notifyEvent( EVENT_TRIGGER_BEGIN_EVENT, this.getId() );
return true;
}
return false;
};

BaseNode.prototype.deactivate = function()
{
if( this.inStateOrTransition( ENDED_NODE | FROZEN_NODE ) || !this.checkValidNode() )
return;

if( this.isTransition( this.eCurrentState, FROZEN_NODE ) )
{
this.DBG( this.callInfo( 'deactivate' ), getCurrentSystemTime() );

var aStateTrans = new StateTransition( this );
if( aStateTrans.enter( FROZEN_NODE, true /* FORCE */ ) )
{
this.deactivate_st( FROZEN_NODE );
aStateTrans.commit();

this.notifyEndListeners();

if( this.aActivationEvent )
this.aActivationEvent.dispose();
if( this.aDeactivationEvent )
this.aDeactivationEvent.dispose();
}
}
else
{
this.end();
}
};

BaseNode.prototype.end = function()
{
var bIsFrozenOrInTransitionToFrozen = this.inStateOrTransition( FROZEN_NODE );
if( this.inStateOrTransition( ENDED_NODE ) || !this.checkValidNode() )
return;

if( !(this.isTransition( this.eCurrentState, ENDED_NODE ) ) )
log( 'BaseNode.end: end state not reachable in transition table' );

this.DBG( this.callInfo( 'end' ), getCurrentSystemTime() );

var aStateTrans = new StateTransition( this );
if( aStateTrans.enter( ENDED_NODE, true /* FORCE */ ) )
{
this.deactivate_st( ENDED_NODE );
aStateTrans.commit();

if( !bIsFrozenOrInTransitionToFrozen )
this.notifyEndListeners();

if( this.aActivationEvent )
this.aActivationEvent.dispose();
if( this.aDeactivationEvent )
this.aDeactivationEvent.dispose();
}
};

BaseNode.prototype.dispose = function()
{
if( this.aActivationEvent )
this.aActivationEvent.dispose();
if( this.aDeactivationEvent )
this.aDeactivationEvent.dispose();
this.aDeactivatingListenerArray = [];
};

BaseNode.prototype.getState = function()
{
return this.eCurrentState;
};

BaseNode.prototype.registerDeactivatingListener = function( aNotifiee )
{
if (! this.checkValidNode())
return false;

if( !aNotifiee )
{
log( 'BaseNode.registerDeactivatingListener(): invalid notifiee' );
return false;
}
this.aDeactivatingListenerArray.push( aNotifiee );

return true;
};

BaseNode.prototype.notifyDeactivating = function( aNotifier )
{
assert( ( aNotifier.getState() == FROZEN_NODE ) || ( aNotifier.getState() == ENDED_NODE ),
'BaseNode.notifyDeactivating: Notifier node is neither in FROZEN nor in ENDED state' );
};

BaseNode.prototype.isMainSequenceRootNode = function()
{
return this.bMainSequenceRootNode;
};

BaseNode.prototype.isInteractiveSequenceRootNode = function()
{
return this.bInteractiveSequenceRootNode;
};

BaseNode.prototype.makeDeactivationEvent = function( nDelay )
{
if( this.aDeactivationEvent )
{
this.aDeactivationEvent.charge();
}
else
{
if( typeof( nDelay ) == typeof(0) )
this.aDeactivationEvent = makeDelay( bind( this, this.deactivate ), nDelay );
else
this.aDeactivationEvent = null;
}
return this.aDeactivationEvent;
};

BaseNode.prototype.scheduleDeactivationEvent = function( aEvent )
{
this.DBG( this.callInfo( 'scheduleDeactivationEvent' ) );

if( !aEvent )
{
if( this.getDuration() && this.getDuration().isValue() )
aEvent = this.makeDeactivationEvent( this.getDuration().getValue() );
}
if( aEvent )
{
this.aContext.aTimerEventQueue.addEvent( aEvent );
}
};

BaseNode.prototype.checkValidNode = function()
{
return ( this.eCurrentState != INVALID_NODE );
};

BaseNode.prototype.init_st = function()
{
return true;
};

BaseNode.prototype.resolve_st = function()
{
return true;
};

BaseNode.prototype.activate_st = function()
{
this.scheduleDeactivationEvent();
};

BaseNode.prototype.deactivate_st = function( /*aNodeState*/ )
{
};

BaseNode.prototype.notifyEndListeners = function()
{
var nDeactivatingListenerCount = this.aDeactivatingListenerArray.length;

for( var i = 0; i < nDeactivatingListenerCount; ++i )
{
this.aDeactivatingListenerArray[i].notifyDeactivating( this );
}

this.aContext.aEventMultiplexer.notifyEvent( EVENT_TRIGGER_END_EVENT, this.getId() );
if( this.getParentNode() && this.getParentNode().isMainSequenceRootNode() )
this.aContext.aEventMultiplexer.notifyNextEffectEndEvent();
};

BaseNode.prototype.getContext = function()
{
return this.aContext;
};

BaseNode.prototype.isTransition = function( eFromState, eToState )
{
return ( ( this.aStateTransTable[ eFromState ] & eToState ) != 0 );
};

BaseNode.prototype.inStateOrTransition = function( nMask )
{
return ( ( ( this.eCurrentState & nMask ) != 0 ) || ( ( this.nCurrentStateTransition & nMask ) != 0 ) );
};

BaseNode.prototype.isContainer = function()
{
return this.bIsContainer;
};

BaseNode.prototype.getBegin = function()
{
return this.aBegin;
};

BaseNode.prototype.getDuration = function()
{
return this.aDuration;
};

BaseNode.prototype.getEnd = function()
{
return this.aEnd;
};

BaseNode.prototype.getFillMode = function()
{
return this.eFillMode;
};

BaseNode.prototype.getRestartMode = function()
{
return this.eRestartMode;
};

BaseNode.prototype.getRepeatCount = function()
{
return this.nReapeatCount;
};

BaseNode.prototype.getAccelerateValue = function()
{
return this.nAccelerate;
};

BaseNode.prototype.getDecelerateValue = function()
{
return this.nDecelerate;
};

BaseNode.prototype.isAutoReverseEnabled = function()
{
return this.bAutoreverse;
};

BaseNode.prototype.info = function( bVerbose )
{
var sInfo = 'class name: ' + this.sClassName;
sInfo += ';  element name: ' + this.aElement.localName;
sInfo += ';  id: ' + this.getId();
sInfo += ';  state: ' + getNodeStateName( this.getState() );

if( bVerbose )
{
sInfo += ';  is container: ' + this.isContainer();

if( this.getBegin() )
sInfo += ';  begin: ' + this.getBegin().info();

if( this.getDuration() )
sInfo += ';  dur: ' + this.getDuration().info();

if( this.getEnd() )
sInfo += ';  end: ' + this.getEnd().info();

if( this.getFillMode() )
sInfo += ';  fill: ' + aFillModeOutMap[ this.getFillMode() ];

if( this.getRestartMode() )
sInfo += ';  restart: ' + aRestartModeOutMap[ this.getRestartMode() ];

if( this.getRepeatCount() && ( this.getRepeatCount() != 1.0 ) )
sInfo += ';  repeatCount: ' + this.getRepeatCount();

if( this.getAccelerateValue() )
sInfo += ';  accelerate: ' + this.getAccelerateValue();

if( this.getDecelerateValue() )
sInfo += ';  decelerate: ' + this.getDecelerateValue();

if( this.isAutoReverseEnabled() )
sInfo += ';  autoReverse: true';

}

return sInfo;
};

BaseNode.prototype.callInfo = function( sMethodName )
{
var sInfo = this.sClassName +
'( ' + this.getId() +
', ' + getNodeStateName( this.getState() ) +
' ).' + sMethodName;
return sInfo;
};

BaseNode.prototype.DBG = function( sMessage, nTime )
{
ANIMDBG.print( sMessage, nTime );
};


function AnimationBaseNode( aAnimElem, aParentNode, aNodeContext )
{
AnimationBaseNode.superclass.constructor.call( this, aAnimElem, aParentNode, aNodeContext );

this.sClassName = 'AnimationBaseNode';
this.bIsContainer = false;
this.aTargetElement = null;
this.bIsTargetTextElement = false;
this.aAnimatedElement = null;
this.aActivity = null;

this.nMinFrameCount = undefined;
this.eAdditiveMode = undefined;

}
extend( AnimationBaseNode, BaseNode );


AnimationBaseNode.prototype.parseElement = function()
{
var bRet = AnimationBaseNode.superclass.parseElement.call( this );

var aAnimElem = this.aElement;

this.aTargetElement = null;
var sTargetElementAttr = aAnimElem.getAttributeNS( NSS['smil'], 'targetElement' );
if( sTargetElementAttr )
this.aTargetElement = document.getElementById( sTargetElementAttr );

if( !this.aTargetElement )
{
this.eCurrentState = INVALID_NODE;
log( 'AnimationBaseNode.parseElement: target element not found: ' + sTargetElementAttr );
}

var sSubItemAttr = aAnimElem.getAttributeNS( NSS['anim'], 'sub-item' );
this.bIsTargetTextElement = ( sSubItemAttr && ( sSubItemAttr === 'text' ) );

var sAdditiveAttr = aAnimElem.getAttributeNS( NSS['smil'], 'additive' );
if( sAdditiveAttr && aAddittiveModeInMap[sAdditiveAttr] )
this.eAdditiveMode = aAddittiveModeInMap[sAdditiveAttr];
else
this.eAdditiveMode = ADDITIVE_MODE_REPLACE;

this.nMinFrameCount = ( this.getDuration().isValue() )
? ( this.getDuration().getValue() * MINIMUM_FRAMES_PER_SECONDS )
: MINIMUM_FRAMES_PER_SECONDS;
if( this.nMinFrameCount < 1.0 )
this.nMinFrameCount = 1;
else if( this.nMinFrameCount > MINIMUM_FRAMES_PER_SECONDS )
this.nMinFrameCount = MINIMUM_FRAMES_PER_SECONDS;


if( this.aTargetElement )
{
if( aAnimElem.getAttributeNS( NSS['smil'], 'attributeName' ) === 'visibility' )
{
if( aAnimElem.getAttributeNS( NSS['smil'], 'to' ) === 'visible' )
this.aTargetElement.setAttribute( 'visibility', 'hidden' );
}

if( !this.aNodeContext.aAnimatedElementMap[ sTargetElementAttr ] )
{
if( this.bIsTargetTextElement )
{
this.aNodeContext.aAnimatedElementMap[ sTargetElementAttr ]
= new AnimatedTextElement( this.aTargetElement );
}
else
{
this.aNodeContext.aAnimatedElementMap[ sTargetElementAttr ]
= new AnimatedElement( this.aTargetElement );
}
}
this.aAnimatedElement = this.aNodeContext.aAnimatedElementMap[ sTargetElementAttr ];

this.aAnimatedElement.setAdditiveMode( this.eAdditiveMode );
}


return bRet;
};

AnimationBaseNode.prototype.init_st = function()
{
if( this.aActivity )
this.aActivity.activate( makeEvent( bind( this, this.deactivate ) ) );
else
this.aActivity = this.createActivity();
return true;
};

AnimationBaseNode.prototype.resolve_st = function()
{
return true;
};

AnimationBaseNode.prototype.activate_st = function()
{
if( this.aActivity )
{
this.saveStateOfAnimatedElement();
this.aActivity.setTargets( this.getAnimatedElement() );
if( this.getContext().bIsSkipping  )
{
this.aActivity.end();
}
else
{
this.getContext().aActivityQueue.addActivity( this.aActivity );
}
}
else
{
AnimationBaseNode.superclass.scheduleDeactivationEvent.call( this );
}
};

AnimationBaseNode.prototype.deactivate_st = function( eDestState )
{
if( eDestState == FROZEN_NODE )
{
if( this.aActivity )
this.aActivity.end();
}
if( eDestState == ENDED_NODE )
{
if( this.aActivity )
this.aActivity.dispose();
if( ( this.getFillMode() == FILL_MODE_REMOVE ) && this.getAnimatedElement()  )
this.removeEffect();
}
};

AnimationBaseNode.prototype.createActivity = function()
{
log( 'AnimationBaseNode.createActivity: abstract method called' );
};

AnimationBaseNode.prototype.fillActivityParams = function()
{

var nDuration = 0.001;
if( this.getDuration().isValue() )
{
nDuration = this.getDuration().getValue();
}
else
{
log( 'AnimationBaseNode.fillActivityParams: duration is not a number' );
}

var aActivityParamSet = new ActivityParamSet();

aActivityParamSet.aEndEvent             = makeEvent( bind( this, this.deactivate ) );
aActivityParamSet.aTimerEventQueue      = this.aContext.aTimerEventQueue;
aActivityParamSet.aActivityQueue        = this.aContext.aActivityQueue;
aActivityParamSet.nMinDuration          = nDuration;
aActivityParamSet.nMinNumberOfFrames    = this.getMinFrameCount();
aActivityParamSet.bAutoReverse          = this.isAutoReverseEnabled();
aActivityParamSet.nRepeatCount          = this.getRepeatCount();
aActivityParamSet.nAccelerationFraction = this.getAccelerateValue();
aActivityParamSet.nDecelerationFraction = this.getDecelerateValue();
aActivityParamSet.nSlideWidth           = this.aNodeContext.aSlideWidth;
aActivityParamSet.nSlideHeight          = this.aNodeContext.aSlideHeight;

return aActivityParamSet;
};

AnimationBaseNode.prototype.hasPendingAnimation = function()
{
return true;
};

AnimationBaseNode.prototype.saveStateOfAnimatedElement = function()
{
this.getAnimatedElement().saveState( this.getId() );
};

AnimationBaseNode.prototype.removeEffect = function()
{
this.getAnimatedElement().restoreState( this.getId() );
};

AnimationBaseNode.prototype.getTargetElement = function()
{
return this.aTargetElement;
};

AnimationBaseNode.prototype.getAnimatedElement = function()
{
return this.aAnimatedElement;
};

AnimationBaseNode.prototype.dispose= function()
{
if( this.aActivity )
this.aActivity.dispose();

AnimationBaseNode.superclass.dispose.call( this );
};

AnimationBaseNode.prototype.getMinFrameCount = function()
{
return this.nMinFrameCount;
};

AnimationBaseNode.prototype.getAdditiveMode = function()
{
return this.eAdditiveMode;
};

AnimationBaseNode.prototype.info = function( bVerbose )
{
var sInfo = AnimationBaseNode.superclass.info.call( this, bVerbose );

if( bVerbose )
{
if( this.getMinFrameCount() )
sInfo += ';  min frame count: ' + this.getMinFrameCount();

sInfo += ';  additive: ' + aAddittiveModeOutMap[ this.getAdditiveMode() ];

if( this.getTargetElement() )
{
var sElemId = this.getTargetElement().getAttribute( 'id' );
sInfo += ';  targetElement: ' +  sElemId;
}
}

return sInfo;
};


function AnimationBaseNode2( aAnimElem, aParentNode, aNodeContext )
{
AnimationBaseNode2.superclass.constructor.call( this, aAnimElem, aParentNode, aNodeContext );

this.sAttributeName = '';
this.aToValue = null;

}
extend( AnimationBaseNode2, AnimationBaseNode );


AnimationBaseNode2.prototype.parseElement = function()
{
var bRet = AnimationBaseNode2.superclass.parseElement.call( this );

var aAnimElem = this.aElement;

this.sAttributeName = aAnimElem.getAttributeNS( NSS['smil'], 'attributeName' );
if( !this.sAttributeName )
{
this.eCurrentState = INVALID_NODE;
log( 'AnimationBaseNode2.parseElement: target attribute name not found: ' + this.sAttributeName );
}

this.aToValue = aAnimElem.getAttributeNS( NSS['smil'], 'to' );

return bRet;
};

AnimationBaseNode2.prototype.getAttributeName = function()
{
return this.sAttributeName;
};

AnimationBaseNode2.prototype.getToValue = function()
{
return this.aToValue;
};

AnimationBaseNode2.prototype.info = function( bVerbose )
{
var sInfo = AnimationBaseNode2.superclass.info.call( this, bVerbose );

if( bVerbose )
{
if( this.getAttributeName() )
sInfo += ';  attributeName: ' + this.getAttributeName();

if( this.getToValue() )
sInfo += ';  to: ' + this.getToValue();
}

return sInfo;
};


function AnimationBaseNode3( aAnimElem, aParentNode, aNodeContext )
{
AnimationBaseNode3.superclass.constructor.call( this, aAnimElem, aParentNode, aNodeContext );

this.eAccumulate = undefined;
this.eCalcMode = undefined;
this.aFromValue = null;
this.aByValue = null;
this.aKeyTimes = null;
this.aValues = null;
this.aFormula= null;
}
extend( AnimationBaseNode3, AnimationBaseNode2 );


AnimationBaseNode3.prototype.parseElement = function()
{
var bRet = AnimationBaseNode3.superclass.parseElement.call( this );

var aAnimElem = this.aElement;

this.eAccumulate = ACCUMULATE_MODE_NONE;
var sAccumulateAttr = aAnimElem.getAttributeNS( NSS['smil'], 'accumulate' );
if( sAccumulateAttr == 'sum' )
this.eAccumulate = ACCUMULATE_MODE_SUM;

this.eCalcMode = CALC_MODE_LINEAR;
var sCalcModeAttr = aAnimElem.getAttributeNS( NSS['smil'], 'calcMode' );
if( sCalcModeAttr && aCalcModeInMap[ sCalcModeAttr ] )
this.eCalcMode = aCalcModeInMap[ sCalcModeAttr ];

this.aFromValue = aAnimElem.getAttributeNS( NSS['smil'], 'from' );

this.aByValue = aAnimElem.getAttributeNS( NSS['smil'], 'by' );

this.aKeyTimes = [];
var sKeyTimesAttr = aAnimElem.getAttributeNS( NSS['smil'], 'keyTimes' );
sKeyTimesAttr = removeWhiteSpaces( sKeyTimesAttr );
if( sKeyTimesAttr )
{
var aKeyTimes = sKeyTimesAttr.split( ';' );
for( var i = 0; i < aKeyTimes.length; ++i )
this.aKeyTimes.push( parseFloat( aKeyTimes[i] ) );
}

var sValuesAttr = aAnimElem.getAttributeNS( NSS['smil'], 'values' );
if( sValuesAttr )
{
this.aValues = sValuesAttr.split( ';' );
}
else
{
this.aValues = [];
}

this.aFormula = aAnimElem.getAttributeNS( NSS['anim'], 'formula' );

return bRet;
};

AnimationBaseNode3.prototype.getAccumulate = function()
{
return this.eAccumulate;
};

AnimationBaseNode3.prototype.getCalcMode = function()
{
return this.eCalcMode;
};

AnimationBaseNode3.prototype.getFromValue = function()
{
return this.aFromValue;
};

AnimationBaseNode3.prototype.getByValue = function()
{
return this.aByValue;
};

AnimationBaseNode3.prototype.getKeyTimes = function()
{
return this.aKeyTimes;
};

AnimationBaseNode3.prototype.getValues = function()
{
return this.aValues;
};

AnimationBaseNode3.prototype.getFormula = function()
{
return this.aFormula;
};

AnimationBaseNode3.prototype.info = function( bVerbose )
{
var sInfo = AnimationBaseNode3.superclass.info.call( this, bVerbose );

if( bVerbose )
{
if( this.getAccumulate() )
sInfo += ';  accumulate: ' + aAccumulateModeOutMap[ this.getAccumulate() ];

sInfo += ';  calcMode: ' + aCalcModeOutMap[ this.getCalcMode() ];

if( this.getFromValue() )
sInfo += ';  from: ' + this.getFromValue();

if( this.getByValue() )
sInfo += ';  by: ' + this.getByValue();

if( this.getKeyTimes().length )
sInfo += ';  keyTimes: ' + this.getKeyTimes().join( ',' );

if( this.getValues().length )
sInfo += ';  values: ' + this.getValues().join( ',' );

if( this.getFormula() )
sInfo += ';  formula: ' + this.getFormula();
}

return sInfo;
};


function BaseContainerNode( aAnimElem, aParentNode, aNodeContext )
{
BaseContainerNode.superclass.constructor.call( this, aAnimElem, aParentNode, aNodeContext );

this.sClassName = 'BaseContainerNode';
this.bIsContainer = true;
this.aChildrenArray = [];
this.nFinishedChildren = 0;
this.bDurationIndefinite = false;
this.nLeftIterations = 1;

this.eImpressNodeType = undefined;
this.ePresetClass =  undefined;
this.ePresetId =  undefined;
}
extend( BaseContainerNode, BaseNode );


BaseContainerNode.prototype.parseElement= function()
{
var bRet = BaseContainerNode.superclass.parseElement.call( this );

var aAnimElem = this.aElement;

this.eImpressNodeType = IMPRESS_DEFAULT_NODE;
var sNodeTypeAttr = aAnimElem.getAttributeNS( NSS['presentation'], 'node-type' );
if( sNodeTypeAttr && aImpressNodeTypeInMap[ sNodeTypeAttr ] )
this.eImpressNodeType = aImpressNodeTypeInMap[ sNodeTypeAttr ];
this.bMainSequenceRootNode = ( this.eImpressNodeType == IMPRESS_MAIN_SEQUENCE_NODE );
this.bInteractiveSequenceRootNode = ( this.eImpressNodeType == IMPRESS_INTERACTIVE_SEQUENCE_NODE );

this.ePresetClass =  undefined;
var sPresetClassAttr = aAnimElem.getAttributeNS( NSS['presentation'], 'preset-class' );
if( sPresetClassAttr && aPresetClassInMap[ sPresetClassAttr ] )
this.ePresetClass = aPresetClassInMap[ sPresetClassAttr ];

this.ePresetId =  undefined;
var sPresetIdAttr = aAnimElem.getAttributeNS( NSS['presentation'], 'preset-id' );
if( sPresetIdAttr && aPresetIdInMap[ sPresetIdAttr ] )
this.ePresetId = aPresetIdInMap[ sPresetIdAttr ];


var nChildrenCount = this.aChildrenArray.length;
for( var i = 0; i < nChildrenCount; ++i )
{
this.aChildrenArray[i].parseElement();
}


this.bDurationIndefinite
= ( !this.getDuration() || this.getDuration().isIndefinite()  ) &&
( !this.getEnd() || ( this.getEnd().getType() != OFFSET_TIMING ) );

return bRet;
};

BaseContainerNode.prototype.appendChildNode = function( aAnimationNode )
{
if( ! this.checkValidNode() )
return ;

if( aAnimationNode.registerDeactivatingListener( this ) )
this.aChildrenArray.push( aAnimationNode );
};

BaseContainerNode.prototype.removeAllChildrenNodes = function()
{
this.aChildrenArray = [];
};

BaseContainerNode.prototype.init_st = function()
{
this.nLeftIterations = this.getRepeatCount();

return this.init_children();
};

BaseContainerNode.prototype.init_children = function()
{
this.nFinishedChildren = 0;
var nChildrenCount = this.aChildrenArray.length;
var nInitChildren = 0;
for( var i = 0; i < nChildrenCount; ++i )
{
if( this.aChildrenArray[i].init() )
{
++nInitChildren;
}
}
return ( nChildrenCount == nInitChildren );
};


BaseContainerNode.prototype.deactivate_st = function( eDestState )
{
this.nLeftIterations = 0;
if( eDestState == FROZEN_NODE )
{
this.forEachChildNode( mem_fn( 'deactivate' ), ~( FROZEN_NODE | ENDED_NODE ) );
}
else
{
this.forEachChildNode( mem_fn( 'end' ), ~ENDED_NODE );
if( this.getFillMode() == FILL_MODE_REMOVE )
this.removeEffect();
}
};

BaseContainerNode.prototype.hasPendingAnimation = function()
{
var nChildrenCount = this.aChildrenArray.length;
for( var i = 0; i < nChildrenCount; ++i )
{
if( this.aChildrenArray[i].hasPendingAnimation() )
return true;
}
return false;
};

BaseContainerNode.prototype.activate_st = function()
{
log( 'BaseContainerNode.activate_st: abstract method called' );
};

BaseContainerNode.prototype.notifyDeactivating = function( /*aAnimationNode*/ )
{
log( 'BaseContainerNode.notifyDeactivating: abstract method called' );
};

BaseContainerNode.prototype.isDurationIndefinite = function()
{
return this.bDurationIndefinite;
};

BaseContainerNode.prototype.isChildNode = function( aAnimationNode )
{
var nChildrenCount = this.aChildrenArray.length;
for( var i = 0; i < nChildrenCount; ++i )
{
if( this.aChildrenArray[i].getId() == aAnimationNode.getId() )
return true;
}
return false;
};

BaseContainerNode.prototype.notifyDeactivatedChild = function( aChildNode )
{
assert( ( aChildNode.getState() == FROZEN_NODE ) || ( aChildNode.getState() == ENDED_NODE ),
'BaseContainerNode.notifyDeactivatedChild: passed child node is neither in FROZEN nor in ENDED state' );

assert( this.getState() != INVALID_NODE,
'BaseContainerNode.notifyDeactivatedChild: this node is invalid' );

if( !this.isChildNode( aChildNode ) )
{
log( 'BaseContainerNode.notifyDeactivatedChild: unknown child notifier!' );
return false;
}

var nChildrenCount = this.aChildrenArray.length;

assert( ( this.nFinishedChildren < nChildrenCount ),
'BaseContainerNode.notifyDeactivatedChild: assert(this.nFinishedChildren < nChildrenCount) failed' );

++this.nFinishedChildren;
var bFinished = ( this.nFinishedChildren >= nChildrenCount );

if( bFinished && this.isDurationIndefinite() )
{
if( this.nLeftIterations >= 1.0 )
{
this.nLeftIterations -= 1.0;
}
if( this.nLeftIterations >= 1.0 )
{
bFinished = false;
var aRepetitionEvent = makeDelay( bind( this, this.repeat ), 0.0 );
this.aContext.aTimerEventQueue.addEvent( aRepetitionEvent );
}
else
{
this.deactivate();
}
}

return bFinished;
};

BaseContainerNode.prototype.repeat = function()
{
this.forEachChildNode( mem_fn( 'end' ), ~ENDED_NODE );
this.removeEffect();
var bInitialized = this.init_children();
if( bInitialized )
this.activate_st();
return bInitialized;
};

BaseContainerNode.prototype.removeEffect = function()
{
var nChildrenCount = this.aChildrenArray.length;
if( nChildrenCount == 0 )
return;
for( var i = nChildrenCount - 1; i >= 0; --i )
{
if( ( this.aChildrenArray[i].getState() & ( FROZEN_NODE | ENDED_NODE ) ) == 0 )
{
log( 'BaseContainerNode.removeEffect: child(id:'
+ this.aChildrenArray[i].getId() + ') is neither frozen nor ended;'
+ ' state: '
+ aTransitionModeOutMap[ this.aChildrenArray[i].getState() ] );
continue;
}
this.aChildrenArray[i].removeEffect();
}
};

BaseContainerNode.prototype.saveStateOfAnimatedElement = function()
{
var nChildrenCount = this.aChildrenArray.length;
for( var i = 0; i < nChildrenCount; ++i )
{
this.aChildrenArray[i].saveStateOfAnimatedElement();
}
};

BaseContainerNode.prototype.forEachChildNode = function( aFunction, eNodeStateMask )
{
if( !eNodeStateMask )
eNodeStateMask = -1;

var nChildrenCount = this.aChildrenArray.length;
for( var i = 0; i < nChildrenCount; ++i )
{
if( ( eNodeStateMask != -1 ) && ( ( this.aChildrenArray[i].getState() & eNodeStateMask ) == 0 ) )
continue;
aFunction( this.aChildrenArray[i] );
}
};

BaseContainerNode.prototype.dispose = function()
{
var nChildrenCount = this.aChildrenArray.length;
for( var i = 0; i < nChildrenCount; ++i )
{
this.aChildrenArray[i].dispose();
}

BaseContainerNode.superclass.dispose.call( this );
};

BaseContainerNode.prototype.getImpressNodeType = function()
{
return this.eImpressNodeType;
};

BaseContainerNode.prototype.info = function( bVerbose )
{
var sInfo = BaseContainerNode.superclass.info.call( this, bVerbose );

if( bVerbose )
{
if( this.getImpressNodeType() )
sInfo += ';  node-type: ' + aImpressNodeTypeOutMap[ this.getImpressNodeType() ];
}

var nChildrenCount = this.aChildrenArray.length;
for( var i = 0; i < nChildrenCount; ++i )
{
sInfo += '\n';
sInfo += this.aChildrenArray[i].info( bVerbose );
}

return sInfo;
};


function ParallelTimeContainer( aAnimElem, aParentNode, aNodeContext )
{
ParallelTimeContainer.superclass.constructor.call( this, aAnimElem, aParentNode, aNodeContext );

this.sClassName = 'ParallelTimeContainer';
}
extend( ParallelTimeContainer, BaseContainerNode );


ParallelTimeContainer.prototype.activate_st = function()
{
var nChildrenCount = this.aChildrenArray.length;
var nResolvedChildren = 0;
for( var i = 0; i < nChildrenCount; ++i )
{
if( this.aChildrenArray[i].resolve() )
{
++nResolvedChildren;
}
}

if( nChildrenCount != nResolvedChildren )
{
log( 'ParallelTimeContainer.activate_st: resolving all children failed' );
return;
}


if( this.isDurationIndefinite() && ( nChildrenCount == 0  ) )
{
this.scheduleDeactivationEvent( this.makeDeactivationEvent( 0.0 ) );
}
else
{
this.scheduleDeactivationEvent();
}
};

ParallelTimeContainer.prototype.notifyDeactivating = function( aAnimationNode )
{
this.notifyDeactivatedChild( aAnimationNode );
};


function SequentialTimeContainer( aAnimElem, aParentNode, aNodeContext )
{
SequentialTimeContainer.superclass.constructor.call( this, aAnimElem, aParentNode, aNodeContext );

this.sClassName = 'SequentialTimeContainer';
this.bIsRewinding = false;
this.aCurrentSkipEvent = null;
this.aRewindCurrentEffectEvent = null;
this.aRewindLastEffectEvent = null;
}
extend( SequentialTimeContainer, BaseContainerNode );


SequentialTimeContainer.prototype.activate_st = function()
{
var nChildrenCount = this.aChildrenArray.length;
for( ; this.nFinishedChildren < nChildrenCount; ++this.nFinishedChildren )
{
if( this.resolveChild( this.aChildrenArray[ this.nFinishedChildren ] ) )
break;
else
log( 'SequentialTimeContainer.activate_st: resolving child failed!' );
}

if( this.isDurationIndefinite() && ( ( nChildrenCount == 0 ) || ( this.nFinishedChildren >= nChildrenCount ) ) )
{
this.scheduleDeactivationEvent( this.makeDeactivationEvent( 0.0 ) );
}
else
{
this.scheduleDeactivationEvent();
}
};

SequentialTimeContainer.prototype.notifyDeactivating = function( aNotifier )
{
if( this.bIsRewinding )
return;

if( this.notifyDeactivatedChild( aNotifier ) )
return;

assert( this.nFinishedChildren < this.aChildrenArray.length,
'SequentialTimeContainer.notifyDeactivating: assertion (this.nFinishedChildren < this.aChildrenArray.length) failed' );

var aNextChild = this.aChildrenArray[ this.nFinishedChildren ];

assert( aNextChild.getState() == UNRESOLVED_NODE,
'SequentialTimeContainer.notifyDeactivating: assertion (aNextChild.getState == UNRESOLVED_NODE) failed' );

if( !this.resolveChild( aNextChild ) )
{
this.deactivate();
}
};

SequentialTimeContainer.prototype.skipEffect = function( aChildNode )
{
if( this.isChildNode( aChildNode ) )
{
this.getContext().aActivityQueue.endAll();
this.getContext().bIsSkipping = true;
this.getContext().aTimerEventQueue.forceEmpty();
this.getContext().bIsSkipping = false;
var aEvent = makeEvent( bind2( aChildNode.deactivate, aChildNode ) );
this.getContext().aTimerEventQueue.addEvent( aEvent );
}
else
{
log( 'SequentialTimeContainer.skipEffect: unknown child: '
+ aChildNode.getId() );
}
};

SequentialTimeContainer.prototype.rewindCurrentEffect = function( aChildNode )
{
if( this.isChildNode( aChildNode ) )
{
assert( !this.bIsRewinding,
'SequentialTimeContainer.rewindCurrentEffect: is already rewinding.' );

this.bIsRewinding = true;
this.getContext().aActivityQueue.endAll();
this.getContext().bIsSkipping = true;
this.getContext().aTimerEventQueue.forceEmpty();
this.getContext().bIsSkipping = false;
this.getContext().aActivityQueue.endAll();

aChildNode.end();
aChildNode.removeEffect();
aChildNode.init();
this.resolveChild( aChildNode );
this.notifyRewindedEvent( aChildNode );
this.bIsRewinding = false;
}
else
{
log( 'SequentialTimeContainer.rewindCurrentEffect: unknown child: '
+ aChildNode.getId() );
}
};

SequentialTimeContainer.prototype.rewindLastEffect = function( aChildNode )
{
if( this.isChildNode( aChildNode ) )
{
assert( !this.bIsRewinding,
'SequentialTimeContainer.rewindLastEffect: is already rewinding.' );

this.bIsRewinding = true;
this.getContext().aTimerEventQueue.forceEmpty();
this.getContext().aActivityQueue.clear();
aChildNode.end();

--this.nFinishedChildren;
var aPreviousChildNode = this.aChildrenArray[ this.nFinishedChildren ];

aPreviousChildNode.removeEffect();
aPreviousChildNode.init();
aChildNode.init();
this.resolveChild( aPreviousChildNode );
this.notifyRewindedEvent( aChildNode );
this.bIsRewinding = false;
}
else
{
log( 'SequentialTimeContainer.rewindLastEffect: unknown child: '
+ aChildNode.getId() );
}
};

SequentialTimeContainer.prototype.resolveChild = function( aChildNode )
{
var bResolved = aChildNode.resolve();

if( bResolved && ( this.isMainSequenceRootNode() || this.isInteractiveSequenceRootNode() ) )
{
if( this.aCurrentSkipEvent )
this.aCurrentSkipEvent.dispose();
this.aCurrentSkipEvent = makeEvent( bind2( SequentialTimeContainer.prototype.skipEffect, this, aChildNode ) );

if( this.aRewindCurrentEffectEvent )
this.aRewindCurrentEffectEvent.dispose();
this.aRewindCurrentEffectEvent = makeEvent( bind2( SequentialTimeContainer.prototype.rewindCurrentEffect, this, aChildNode ) );

if( this.aRewindLastEffectEvent )
this.aRewindLastEffectEvent.dispose();
this.aRewindLastEffectEvent = makeEvent( bind2( SequentialTimeContainer.prototype.rewindLastEffect, this, aChildNode ) );

if( this.isMainSequenceRootNode() )
{
this.aContext.aEventMultiplexer.registerSkipEffectEvent( this.aCurrentSkipEvent );
this.aContext.aEventMultiplexer.registerRewindCurrentEffectEvent( this.aRewindCurrentEffectEvent );
this.aContext.aEventMultiplexer.registerRewindLastEffectEvent( this.aRewindLastEffectEvent );
}
else if( this.isInteractiveSequenceRootNode() )
{
this.aContext.aEventMultiplexer.registerSkipInteractiveEffectEvent( aChildNode.getId(), this.aCurrentSkipEvent );
this.aContext.aEventMultiplexer.registerRewindRunningInteractiveEffectEvent( aChildNode.getId(), this.aRewindCurrentEffectEvent );
this.aContext.aEventMultiplexer.registerRewindEndedInteractiveEffectEvent( aChildNode.getId(), this.aRewindLastEffectEvent );
}
}
return bResolved;
};

SequentialTimeContainer.prototype.notifyRewindedEvent = function( aChildNode )
{
if( this.isInteractiveSequenceRootNode() )
{
this.aContext.aEventMultiplexer.notifyRewindedEffectEvent( aChildNode.getId() );

var sId = aChildNode.getBegin().getEventBaseElementId();
if( sId )
{
this.aContext.aEventMultiplexer.notifyRewindedEffectEvent( sId );
}
}
};

SequentialTimeContainer.prototype.dispose = function()
{
if( this.aCurrentSkipEvent )
this.aCurrentSkipEvent.dispose();

SequentialTimeContainer.superclass.dispose.call( this );
};


function PropertyAnimationNode(  aAnimElem, aParentNode, aNodeContext )
{
PropertyAnimationNode.superclass.constructor.call( this, aAnimElem, aParentNode, aNodeContext );

this.sClassName = 'PropertyAnimationNode';
}
extend( PropertyAnimationNode, AnimationBaseNode3 );


PropertyAnimationNode.prototype.createActivity = function()
{
var aActivityParamSet = this.fillActivityParams();

var aAnimation = createPropertyAnimation( this.getAttributeName(),
this.getAnimatedElement(),
this.aNodeContext.aSlideWidth,
this.aNodeContext.aSlideHeight );

var aInterpolator = null;  // createActivity will compute it;
return createActivity( aActivityParamSet, this, aAnimation, aInterpolator );
};


function AnimationSetNode(  aAnimElem, aParentNode, aNodeContext )
{
AnimationSetNode.superclass.constructor.call( this, aAnimElem, aParentNode, aNodeContext );

this.sClassName = 'AnimationSetNode';
}
extend( AnimationSetNode, AnimationBaseNode2 );


AnimationSetNode.prototype.createActivity = function()
{
var aAnimation = createPropertyAnimation( this.getAttributeName(),
this.getAnimatedElement(),
this.aNodeContext.aSlideWidth,
this.aNodeContext.aSlideHeight );

var aActivityParamSet = this.fillActivityParams();

return new SetActivity( aActivityParamSet, aAnimation, this.getToValue() );
};


function AnimationColorNode(  aAnimElem, aParentNode, aNodeContext )
{
AnimationColorNode.superclass.constructor.call( this, aAnimElem, aParentNode, aNodeContext );

this.sClassName = 'AnimationColorNode';

this.eColorInterpolation = undefined;
this.eColorInterpolationDirection = undefined;
}
extend( AnimationColorNode, AnimationBaseNode3 );


AnimationColorNode.prototype.parseElement = function()
{
var bRet = AnimationColorNode.superclass.parseElement.call( this );

var aAnimElem = this.aElement;

this.eColorInterpolation = COLOR_SPACE_RGB;
var sColorInterpolationAttr = aAnimElem.getAttributeNS( NSS['anim'], 'color-interpolation' );
if( sColorInterpolationAttr && aColorSpaceInMap[ sColorInterpolationAttr ] )
this.eColorInterpolation = aColorSpaceInMap[ sColorInterpolationAttr ];

this.eColorInterpolationDirection = CLOCKWISE;
var sColorInterpolationDirectionAttr = aAnimElem.getAttributeNS( NSS['anim'], 'color-interpolation-direction' );
if( sColorInterpolationDirectionAttr && aClockDirectionInMap[ sColorInterpolationDirectionAttr ] )
this.eColorInterpolationDirection = aClockDirectionInMap[ sColorInterpolationDirectionAttr ];

return bRet;
};

AnimationColorNode.prototype.createActivity = function()
{
var aActivityParamSet = this.fillActivityParams();

var aAnimation = createPropertyAnimation( this.getAttributeName(),
this.getAnimatedElement(),
this.aNodeContext.aSlideWidth,
this.aNodeContext.aSlideHeight );

var aColorAnimation;
var aInterpolator;
if( this.getColorInterpolation() === COLOR_SPACE_HSL )
{
ANIMDBG.print( 'AnimationColorNode.createActivity: color space hsl'  );
aColorAnimation = new HSLAnimationWrapper( aAnimation );
var aInterpolatorMaker = aInterpolatorHandler.getInterpolator( this.getCalcMode(),
COLOR_PROPERTY,
COLOR_SPACE_HSL );
aInterpolator = aInterpolatorMaker( this.getColorInterpolationDirection() );
}
else
{
ANIMDBG.print( 'AnimationColorNode.createActivity: color space rgb'  );
aColorAnimation = aAnimation;
aInterpolator = aInterpolatorHandler.getInterpolator( this.getCalcMode(),
COLOR_PROPERTY,
COLOR_SPACE_RGB );
}

return createActivity( aActivityParamSet, this, aColorAnimation, aInterpolator );
};

AnimationColorNode.prototype.getColorInterpolation = function()
{
return this.eColorInterpolation;
};

AnimationColorNode.prototype.getColorInterpolationDirection = function()
{
return this.eColorInterpolationDirection;
};

AnimationColorNode.prototype.info = function( bVerbose )
{
var sInfo = AnimationColorNode.superclass.info.call( this, bVerbose );

if( bVerbose )
{
sInfo += ';  color-interpolation: ' + aColorSpaceOutMap[ this.getColorInterpolation() ];

sInfo += ';  color-interpolation-direction: ' + aClockDirectionOutMap[ this.getColorInterpolationDirection() ];
}
return sInfo;
};


function AnimationTransitionFilterNode(  aAnimElem, aParentNode, aNodeContext )
{
AnimationTransitionFilterNode.superclass.constructor.call( this, aAnimElem, aParentNode, aNodeContext );

this.sClassName = 'AnimationTransitionFilterNode';

this.eTransitionType = undefined;
this.eTransitionSubType = undefined;
this.bReverseDirection = undefined;
this.eTransitionMode = undefined;
}
extend( AnimationTransitionFilterNode, AnimationBaseNode );


AnimationTransitionFilterNode.prototype.createActivity = function()
{
var aActivityParamSet = this.fillActivityParams();

return createShapeTransition( aActivityParamSet,
this.getAnimatedElement(),
this.aNodeContext.aSlideWidth,
this.aNodeContext.aSlideHeight,
this );
};

AnimationTransitionFilterNode.prototype.parseElement = function()
{
var bRet = AnimationTransitionFilterNode.superclass.parseElement.call( this );
var bIsValidTransition = true;

var aAnimElem = this.aElement;

this.eTransitionType = undefined;
var sTypeAttr = aAnimElem.getAttributeNS( NSS['smil'], 'type' );
if( sTypeAttr && aTransitionTypeInMap[ sTypeAttr ] )
{
this.eTransitionType = aTransitionTypeInMap[ sTypeAttr ];
}
else
{
bIsValidTransition = false;
log( 'AnimationTransitionFilterNode.parseElement: transition type not valid: ' + sTypeAttr );
}

this.eTransitionSubType = undefined;
var sSubTypeAttr = aAnimElem.getAttributeNS( NSS['smil'], 'subtype' );
if( sSubTypeAttr === null )
sSubTypeAttr = 'default';
if( sSubTypeAttr && ( aTransitionSubtypeInMap[ sSubTypeAttr ] !== undefined  ) )
{
this.eTransitionSubType = aTransitionSubtypeInMap[ sSubTypeAttr ];
}
else
{
bIsValidTransition = false;
log( 'AnimationTransitionFilterNode.parseElement: transition subtype not valid: ' + sSubTypeAttr );
}

if( !bIsValidTransition )
{
this.eTransitionType = FADE_TRANSITION;
this.eTransitionSubType = CROSSFADE_TRANS_SUBTYPE;
log( 'AnimationTransitionFilterNode.parseElement: in place of the invalid transition a crossfade transition is used' );
}

this.bReverseDirection = false;
var sDirectionAttr = aAnimElem.getAttributeNS( NSS['smil'], 'direction' );
if( sDirectionAttr == 'reverse' )
this.bReverseDirection = true;

this.eTransitionMode = TRANSITION_MODE_IN;
var sModeAttr = aAnimElem.getAttributeNS( NSS['smil'], 'mode' );
if( sModeAttr === 'out' )
this.eTransitionMode = TRANSITION_MODE_OUT;

return bRet;
};

AnimationTransitionFilterNode.prototype.getTransitionType = function()
{
return this.eTransitionType;
};

AnimationTransitionFilterNode.prototype.getTransitionSubType = function()
{
return this.eTransitionSubType;
};

AnimationTransitionFilterNode.prototype.getTransitionMode = function()
{
return this.eTransitionMode;
};

AnimationTransitionFilterNode.prototype.getReverseDirection = function()
{
return this.bReverseDirection;
};

AnimationTransitionFilterNode.prototype.info = function( bVerbose )
{
var sInfo = AnimationTransitionFilterNode.superclass.info.call( this, bVerbose );

if( bVerbose )
{
sInfo += ';  type: ' + getKeyByValue(aTransitionTypeInMap, this.getTransitionType());

sInfo += ';  subtype: ' + getKeyByValue(aTransitionSubtypeInMap, this.getTransitionSubType());

if( this.getReverseDirection() )
sInfo += ';  direction: reverse';
}

return sInfo;
};


function createAnimationTree( aRootElement, aNodeContext )
{
return createAnimationNode( aRootElement, null, aNodeContext );
}


function createAnimationNode( aElement, aParentNode, aNodeContext )
{
assert( aElement, 'createAnimationNode: invalid animation element' );

var eAnimationNodeType = getAnimationElementType( aElement );

var aCreatedNode = null;
var aCreatedContainer = null;

switch( eAnimationNodeType )
{
case ANIMATION_NODE_PAR:
aCreatedNode = aCreatedContainer =
new ParallelTimeContainer( aElement, aParentNode, aNodeContext );
break;
case ANIMATION_NODE_ITERATE:
aCreatedNode = aCreatedContainer =
new ParallelTimeContainer( aElement, aParentNode, aNodeContext );
break;
case ANIMATION_NODE_SEQ:
aCreatedNode = aCreatedContainer =
new SequentialTimeContainer( aElement, aParentNode, aNodeContext );
break;
case ANIMATION_NODE_ANIMATE:
aCreatedNode = new PropertyAnimationNode( aElement, aParentNode, aNodeContext );
break;
case ANIMATION_NODE_SET:
aCreatedNode = new AnimationSetNode( aElement, aParentNode, aNodeContext );
break;
case ANIMATION_NODE_ANIMATEMOTION:
log( 'createAnimationNode: ANIMATEMOTION not implemented' );
return null;
case ANIMATION_NODE_ANIMATECOLOR:
aCreatedNode = new AnimationColorNode( aElement, aParentNode, aNodeContext );
break;
case ANIMATION_NODE_ANIMATETRANSFORM:
log( 'createAnimationNode: ANIMATETRANSFORM not implemented' );
return null;
case ANIMATION_NODE_TRANSITIONFILTER:
aCreatedNode = new AnimationTransitionFilterNode( aElement, aParentNode, aNodeContext );
break;
case ANIMATION_NODE_AUDIO:
log( 'createAnimationNode: AUDIO not implemented' );
return null;
case ANIMATION_NODE_COMMAND:
log( 'createAnimationNode: COMMAND not implemented' );
return null;
default:
log( 'createAnimationNode: invalid Animation Node Type: ' + eAnimationNodeType );
return null;
}

if( aCreatedContainer )
{
if( eAnimationNodeType == ANIMATION_NODE_ITERATE )
{
createIteratedNodes( aElement, aCreatedContainer, aNodeContext );
}
else
{
var aChildrenArray = getElementChildren( aElement );
for( var i = 0; i < aChildrenArray.length; ++i )
{
if( !createChildNode( aChildrenArray[i], aCreatedContainer, aNodeContext ) )
{
aCreatedContainer.removeAllChildrenNodes();
break;
}
}
}
}

return aCreatedNode;
}


function createChildNode( aElement, aParentNode, aNodeContext )
{
var aChildNode = createAnimationNode( aElement, aParentNode, aNodeContext );

if( !aChildNode )
{
log( 'createChildNode: child node creation failed' );
return false;
}
else
{
aParentNode.appendChildNode( aChildNode );
return true;
}
}


function createIteratedNodes( /*aElement, aContainerNode, aNodeContext*/ )
{
}


function makeScaler( nScale )
{
if( ( typeof( nScale ) !== typeof( 0 ) ) || !isFinite( nScale ) )
{
log( 'makeScaler: not valid param passed: ' + nScale );
return null;
}

return  function( nValue )
{
return ( nScale * nValue );
};
}


function createPropertyAnimation( sAttrName, aAnimatedElement, nWidth, nHeight )
{
if( !aAttributeMap[ sAttrName ] )
{
log( 'createPropertyAnimation: attribute is unknown' );
return null;
}


var aFunctorSet = aAttributeMap[ sAttrName ];

var sGetValueMethod =   aFunctorSet.get;
var sSetValueMethod =   aFunctorSet.set;

if( !sGetValueMethod || !sSetValueMethod  )
{
log( 'createPropertyAnimation: attribute is not handled' );
return null;
}

var aGetModifier =  eval( aFunctorSet.getmod );
var aSetModifier =  eval( aFunctorSet.setmod );


return new GenericAnimation( bind( aAnimatedElement, aAnimatedElement[ sGetValueMethod ] ),
bind( aAnimatedElement, aAnimatedElement[ sSetValueMethod ] ),
aGetModifier,
aSetModifier);
}


function createShapeTransition( aActivityParamSet, aAnimatedElement,
nSlideWidth, nSlideHeight,
aAnimatedTransitionFilterNode )
{
if( !aAnimatedTransitionFilterNode )
{
log( 'createShapeTransition: the animated transition filter node is not valid.' );
return null;
}
var eTransitionType = aAnimatedTransitionFilterNode.getTransitionType();
var eTransitionSubType = aAnimatedTransitionFilterNode.getTransitionSubType();
var bDirectionForward = ! aAnimatedTransitionFilterNode.getReverseDirection();
var bModeIn = ( aAnimatedTransitionFilterNode.getTransitionMode() == FORWARD );

var aTransitionInfo = aTransitionInfoTable[eTransitionType][eTransitionSubType];
var eTransitionClass = aTransitionInfo['class'];

switch( eTransitionClass )
{
default:
case TRANSITION_INVALID:
log( 'createShapeTransition: transition class: TRANSITION_INVALID' );
return null;

case TRANSITION_CLIP_POLYPOLYGON:
var aParametricPolyPolygon
= createClipPolyPolygon( eTransitionType, eTransitionSubType );
var aClippingAnimation
= new ClippingAnimation( aParametricPolyPolygon, aTransitionInfo,
bDirectionForward, bModeIn );
return new SimpleActivity( aActivityParamSet, aClippingAnimation, true );

case TRANSITION_SPECIAL:
switch( eTransitionType )
{
default:
var aAnimation
= createPropertyAnimation( 'opacity',
aAnimatedElement,
nSlideWidth,
nSlideHeight );
return new SimpleActivity( aActivityParamSet, aAnimation, bModeIn );
}
}

}


function ClippingAnimation( aParametricPolyPolygon, aTransitionInfo,
bDirectionForward, bModeIn )
{
this.aClippingFunctor = new ClippingFunctor( aParametricPolyPolygon,
aTransitionInfo,
bDirectionForward, bModeIn );
this.bAnimationStarted = false;
}

ClippingAnimation.prototype.start = function( aAnimatableElement )
{
assert( aAnimatableElement,
'ClippingAnimation.start: animatable element is not valid' );
this.aAnimatableElement = aAnimatableElement;
this.aAnimatableElement.initClipPath();
this.aAnimatableElement.notifyAnimationStart();

if( !this.bAnimationStarted )
this.bAnimationStarted = true;

};

ClippingAnimation.prototype.end = function()
{
if( this.bAnimationStarted )
{
this.aAnimatableElement.cleanClipPath();
this.bAnimationStarted = false;
this.aAnimatableElement.notifyAnimationEnd();
}
};

ClippingAnimation.prototype.perform = function( nValue )
{
var nWidth = this.aAnimatableElement.aClippingBBox.width;
var nHeight = this.aAnimatableElement.aClippingBBox.height;
var aPolyPolygonElement = this.aClippingFunctor.perform( nValue, nWidth, nHeight );
this.aAnimatableElement.setClipPath( aPolyPolygonElement );
};

ClippingAnimation.prototype.getUnderlyingValue = function()
{
return 0.0;
};


function GenericAnimation( aGetValueFunc, aSetValueFunc, aGetModifier, aSetModifier )
{
assert( aGetValueFunc && aSetValueFunc,
'GenericAnimation constructor: get value functor and/or set value functor are not valid' );

this.aGetValueFunc = aGetValueFunc;
this.aSetValueFunc = aSetValueFunc;
this.aGetModifier = aGetModifier;
this.aSetModifier = aSetModifier;
this.aAnimatableElement = null;
this.bAnimationStarted = false;
}


GenericAnimation.prototype.start = function( aAnimatableElement )
{
assert( aAnimatableElement, 'GenericAnimation.start: animatable element is not valid' );

this.aAnimatableElement = aAnimatableElement;
this.aAnimatableElement.notifyAnimationStart();

if( !this.bAnimationStarted )
this.bAnimationStarted = true;
};

GenericAnimation.prototype.end = function()
{
if( this.bAnimationStarted )
{
this.bAnimationStarted = false;
this.aAnimatableElement.notifyAnimationEnd();
}
};

GenericAnimation.prototype.perform = function( aValue )
{
if( this.aSetModifier )
aValue = this.aSetModifier( aValue );

this.aSetValueFunc( aValue );
};

GenericAnimation.prototype.getUnderlyingValue = function()
{
var aValue = this.aGetValueFunc();
if( this.aGetModifier )
aValue = this.aGetModifier( aValue );
return aValue;
};


function HSLAnimationWrapper( aColorAnimation )
{
assert( aColorAnimation,
'HSLAnimationWrapper constructor: invalid color animation delegate' );

this.aAnimation = aColorAnimation;
}


HSLAnimationWrapper.prototype.start = function( aAnimatableElement )
{
this.aAnimation.start( aAnimatableElement );
};

HSLAnimationWrapper.prototype.end = function()
{
this.aAnimation.end();
};
HSLAnimationWrapper.prototype.perform = function( aHSLValue )
{
this.aAnimation.perform( aHSLValue.convertToRGB() );
};

HSLAnimationWrapper.prototype.getUnderlyingValue = function()
{
return this.aAnimation.getUnderlyingValue().convertToHSL();
};


function SlideChangeBase(aLeavingSlide, aEnteringSlide)
{
this.aLeavingSlide = aLeavingSlide;
this.aEnteringSlide = aEnteringSlide;
this.bIsFinished = false;
}

SlideChangeBase.prototype.start = function()
{
};

SlideChangeBase.prototype.end = function()
{
if( this.bIsFinished )
return;

this.aLeavingSlide.hide();
this.aEnteringSlide.reset();
this.aLeavingSlide.reset();

this.bIsFinished = true;
};

SlideChangeBase.prototype.perform = function( nValue )
{
if( this.bIsFinished ) return false;

if( this.aLeavingSlide )
this.performOut( nValue );

if( this.aEnteringSlide )
this.performIn( nValue );

return true;
};

SlideChangeBase.prototype.getUnderlyingValue = function()
{
return 0.0;
};

SlideChangeBase.prototype.performIn = function( )
{
log( 'SlideChangeBase.performIn: abstract method called' );
};

SlideChangeBase.prototype.performOut = function( )
{
log( 'SlideChangeBase.performOut: abstract method called' );
};


function FadingSlideChange( aLeavingSlide, aEnteringSlide )
{
FadingSlideChange.superclass.constructor.call( this, aLeavingSlide, aEnteringSlide );
this.bFirstRun = true;
}
extend( FadingSlideChange, SlideChangeBase );

FadingSlideChange.prototype.start = function()
{
FadingSlideChange.superclass.start.call( this );
this.aEnteringSlide.notifyUsedAttribute( 'opacity' );
this.aLeavingSlide.notifyUsedAttribute( 'opacity' );
this.aEnteringSlide.setOpacity( 0.0 );
this.aEnteringSlide.show();
};

FadingSlideChange.prototype.performIn = function( nT )
{
this.aEnteringSlide.setOpacity( nT );
};

FadingSlideChange.prototype.performOut = function( nT )
{

this.aLeavingSlide.setOpacity( 1 - nT );
};


function FadingOverColorSlideChange( aLeavingSlide, aEnteringSlide, sFadeColor )
{
FadingSlideChange.superclass.constructor.call( this, aLeavingSlide, aEnteringSlide );
this.sFadeColor = sFadeColor;
if( !this.sFadeColor )
{
log( 'FadingOverColorSlideChange: sFadeColor not valid.' );
this.sFadeColor = '#000000';
}
this.aColorPlaneElement = this.createColorPlaneElement();
}
extend( FadingOverColorSlideChange, SlideChangeBase );

FadingOverColorSlideChange.prototype.start = function()
{
FadingOverColorSlideChange.superclass.start.call( this );
this.aEnteringSlide.notifyUsedAttribute( 'opacity' );
this.aLeavingSlide.notifyUsedAttribute( 'opacity' );
this.aLeavingSlide.insertBefore( this.aColorPlaneElement );
this.aEnteringSlide.setOpacity( 0.0 );
this.aEnteringSlide.show();
};

FadingOverColorSlideChange.prototype.end = function()
{
FadingOverColorSlideChange.superclass.end.call( this );
this.aLeavingSlide.removeElement( this.aColorPlaneElement );
};

FadingOverColorSlideChange.prototype.performIn = function( nT )
{
this.aEnteringSlide.setOpacity( (nT > 0.55) ? 2.0*(nT-0.55) : 0.0 );
};

FadingOverColorSlideChange.prototype.performOut = function( nT )
{
this.aLeavingSlide.setOpacity( (nT > 0.45) ? 0.0 : 2.0*(0.45-nT) );
};

FadingOverColorSlideChange.prototype.createColorPlaneElement = function()
{
var aColorPlaneElement = document.createElementNS( NSS['svg'], 'rect' );
aColorPlaneElement.setAttribute( 'width', String( this.aLeavingSlide.getWidth() ) );
aColorPlaneElement.setAttribute( 'height', String( this.aLeavingSlide.getHeight() ) );
aColorPlaneElement.setAttribute( 'fill', this.sFadeColor );
return aColorPlaneElement;
};


function MovingSlideChange( aLeavingSlide, aEnteringSlide,
aLeavingDirection, aEnteringDirection )
{
MovingSlideChange.superclass.constructor.call( this, aLeavingSlide, aEnteringSlide );
this.aLeavingDirection = aLeavingDirection;
this.aEnteringDirection = aEnteringDirection;
}
extend( MovingSlideChange, SlideChangeBase );

MovingSlideChange.prototype.start = function()
{
MovingSlideChange.superclass.start.call( this );
this.aEnteringSlide.notifyUsedAttribute( 'transform' );
this.aLeavingSlide.notifyUsedAttribute( 'transform' );
this.performIn( 0 );
this.aEnteringSlide.show();
};

MovingSlideChange.prototype.performIn = function( nT )
{
var nS = nT - 1;
var dx = nS * this.aEnteringDirection.x * this.aEnteringSlide.getWidth();
var dy = nS * this.aEnteringDirection.y * this.aEnteringSlide.getHeight();
this.aEnteringSlide.translate( dx, dy );
};

MovingSlideChange.prototype.performOut = function( nT )
{
var dx = nT * this.aLeavingDirection.x * this.aLeavingSlide.getWidth();
var dy = nT * this.aLeavingDirection.y * this.aLeavingSlide.getHeight();
this.aLeavingSlide.translate( dx, dy );
};


function ClippedSlideChange( aLeavingSlide, aEnteringSlide, aParametricPolyPolygon,
aTransitionInfo, bIsDirectionForward )
{
ClippedSlideChange.superclass.constructor.call( this, aLeavingSlide, aEnteringSlide );

var bIsModeIn = true;
this.aClippingFunctor= new ClippingFunctor( aParametricPolyPolygon, aTransitionInfo,
bIsDirectionForward, bIsModeIn );
}
extend( ClippedSlideChange, SlideChangeBase );

ClippedSlideChange.prototype.start = function()
{
ClippedSlideChange.superclass.start.call( this );
this.aEnteringSlide.notifyUsedAttribute( 'clip-path' );
this.performIn( 0 );
this.aEnteringSlide.show();
};

ClippedSlideChange.prototype.performIn = function( nT )
{
var nWidth = this.aEnteringSlide.getWidth();
var nHeight = this.aEnteringSlide.getHeight();
var aPolyPolygonElement = this.aClippingFunctor.perform( nT, nWidth, nHeight );
this.aEnteringSlide.setClipPath( aPolyPolygonElement );
};

ClippedSlideChange.prototype.performOut = function( )
{
};


function ClippingFunctor( aParametricPolyPolygon, aTransitionInfo,
bIsDirectionForward, bIsModeIn)
{
this.aParametricPolyPolygon = aParametricPolyPolygon;
this.aStaticTransformation = null;
this.bForwardParameterSweep = true;
this.bSubtractPolygon = false;
this.bScaleIsotropically = aTransitionInfo.scaleIsotropically;
this.bFlip = false;

assert( this.aParametricPolyPolygon,
'ClippingFunctor: parametric polygon is not valid' );

if( aTransitionInfo.rotationAngle != 0.0 ||
aTransitionInfo.scaleX != 1.0 ||  aTransitionInfo.scaleY != 1.0 )
{
this.aStaticTransformation = SVGIdentityMatrix.translate( 0.5, 0.5 );
if( aTransitionInfo.scaleX != 1.0 ||  aTransitionInfo.scaleY != 1.0 )
this.aStaticTransformation
= this.aStaticTransformation.scaleNonUniform( aTransitionInfo.scaleX,
aTransitionInfo.scaleY );
if( aTransitionInfo.rotationAngle != 0.0 )
this.aStaticTransformation
= this.aStaticTransformation.rotate( aTransitionInfo.rotationAngle );
this.aStaticTransformation = this.aStaticTransformation.translate( -0.5, -0.5 );
}
else
{
this.aStaticTransformation = document.documentElement.createSVGMatrix();
}

if( !bIsDirectionForward )
{
var aMatrix = null;
switch( aTransitionInfo.reverseMethod )
{
default:
log( 'ClippingFunctor: unexpected reverse method.' );
break;
case REVERSEMETHOD_IGNORE:
break;
case REVERSEMETHOD_INVERT_SWEEP:
this.bForwardParameterSweep = !this.bForwardParameterSweep;
break;
case REVERSEMETHOD_SUBTRACT_POLYGON:
this.bSubtractPolygon = !this.bSubtractPolygon;
break;
case REVERSEMETHOD_SUBTRACT_AND_INVERT:
this.bForwardParameterSweep = !this.bForwardParameterSweep;
this.bSubtractPolygon = !this.bSubtractPolygon;
break;
case REVERSEMETHOD_ROTATE_180:
aMatrix = document.documentElement.createSVGMatrix();
aMatrix.setToRotationAroundPoint( 0.5, 0.5, 180 );
this.aStaticTransformation = aMatrix.multiply( this.aStaticTransformation );
break;
case REVERSEMETHOD_FLIP_X:
aMatrix = document.documentElement.createSVGMatrix();
aMatrix.a = -1; aMatrix.e = 1.0;
this.aStaticTransformation = aMatrix.multiply( this.aStaticTransformation );
this.bFlip = true;
break;
case REVERSEMETHOD_FLIP_Y:
aMatrix = document.documentElement.createSVGMatrix();
aMatrix.d = -1; aMatrix.f = 1.0;
this.aStaticTransformation = aMatrix.multiply( this.aStaticTransformation );
this.bFlip = true;
break;
}
}

if( !bIsModeIn )
{
if( aTransitionInfo.outInvertsSweep )
{
this.bForwardParameterSweep = !this.bForwardParameterSweep;
}
else
{
this.bSubtractPolygon = !this.bSubtractPolygon;
}
}
}

ClippingFunctor.aBoundingPath = document.createElementNS( NSS['svg'], 'path' );
ClippingFunctor.aBoundingPath.setAttribute( 'd', 'M -1 -1 L 2 -1 L 2 2 L -1 2 L -1 -1' );

ClippingFunctor.prototype.perform = function( nT, nWidth, nHeight )
{
var aClipPoly = this.aParametricPolyPolygon.perform( this.bForwardParameterSweep ? nT : (1 - nT) );


if( this.bSubtractPolygon )
{
aClipPoly.changeOrientation();
aClipPoly.prependPath( ClippingFunctor.aBoundingPath );
}

var aMatrix;
if( this.bScaleIsotropically )
{
var nScaleFactor = Math.max( nWidth, nHeight );
aMatrix = SVGIdentityMatrix.translate( -( nScaleFactor - nWidth ) / 2.0,
-( nScaleFactor - nHeight ) / 2.0 );
aMatrix = aMatrix.scale( nScaleFactor );
aMatrix = aMatrix.multiply( this.aStaticTransformation );
}
else
{
aMatrix = SVGIdentityMatrix.scaleNonUniform( nWidth, nHeight );
aMatrix = aMatrix.multiply( this.aStaticTransformation );
}

aClipPoly.matrixTransform( aMatrix );

return aClipPoly;
};


function createClipPolyPolygon( nType, nSubtype )
{
switch( nType )
{
default:
log( 'createClipPolyPolygon: unknown transition type: ' + nType );
return null;
case BARWIPE_TRANSITION:
return new BarWipePath( 1 );
case FOURBOXWIPE_TRANSITION:
return new FourBoxWipePath( nSubtype === CORNERSOUT_TRANS_SUBTYPE );
case BOXWIPE_TRANSITION:
return new BoxWipePath( nSubtype == LEFTCENTER_TRANS_SUBTYPE ||
nSubtype == TOPCENTER_TRANS_SUBTYPE ||
nSubtype == RIGHTCENTER_TRANS_SUBTYPE ||
nSubtype == BOTTOMCENTER_TRANS_SUBTYPE );
case ELLIPSEWIPE_TRANSITION:
return new EllipseWipePath( nSubtype );
case FANWIPE_TRANSITION:
return new FanWipePath(nSubtype == CENTERTOP_TRANS_SUBTYPE ||
nSubtype == CENTERRIGHT_TRANS_SUBTYPE, true, false);
case PINWHEELWIPE_TRANSITION:
var nBlades;
switch( nSubtype )
{
case ONEBLADE_TRANS_SUBTYPE:
nBlades = 1;
break;
case DEFAULT_TRANS_SUBTYPE:
case TWOBLADEVERTICAL_TRANS_SUBTYPE:
nBlades = 2;
break;
case TWOBLADEHORIZONTAL_TRANS_SUBTYPE:
nBlades = 2;
break;
case THREEBLADE_TRANS_SUBTYPE:
nBlades = 3;
break;
case FOURBLADE_TRANS_SUBTYPE:
nBlades = 4;
break;
case EIGHTBLADE_TRANS_SUBTYPE:
nBlades = 8;
break;
default:
log( 'createClipPolyPolygon: unknown subtype: ' + nSubtype );
return null;
}
return new PinWheelWipePath( nBlades );
case CLOCKWIPE_TRANSITION:
return new ClockWipePath();
case RANDOMBARWIPE_TRANSITION:
return new RandomWipePath( 128, true /* bars */ );
case CHECKERBOARDWIPE_TRANSITION:
return new CheckerBoardWipePath( 10 );
case ZIGZAGWIPE_TRANSITION:
return new ZigZagWipePath( 5 );
case BARNZIGZAGWIPE_TRANSITION:
return new BarnZigZagWipePath( 5 );
case IRISWIPE_TRANSITION:
switch(nSubtype)
{
case RECTANGLE_TRANS_SUBTYPE:
return new IrisWipePath(0);
case DIAMOND_TRANS_SUBTYPE:
return new IrisWipePath(1);
default:
log( 'createClipPolyPolygon: unknown subtype: ' + nSubtype );
return null;
}
case BARNDOORWIPE_TRANSITION:
return new BarnDoorWipePath(false);
case SINGLESWEEPWIPE_TRANSITION:
return new SweepWipePath(
nSubtype == CLOCKWISETOP_TRANS_SUBTYPE ||
nSubtype == CLOCKWISERIGHT_TRANS_SUBTYPE ||
nSubtype == CLOCKWISEBOTTOM_TRANS_SUBTYPE ||
nSubtype == CLOCKWISELEFT_TRANS_SUBTYPE,
true,
false,
nSubtype == COUNTERCLOCKWISEBOTTOMLEFT_TRANS_SUBTYPE ||
nSubtype == COUNTERCLOCKWISETOPRIGHT_TRANS_SUBTYPE );
case WATERFALLWIPE_TRANSITION:
return new WaterfallWipePath(128, // flipOnYAxis
nSubtype == VERTICALRIGHT_TRANS_SUBTYPE ||
nSubtype == HORIZONTALLEFT_TRANS_SUBTYPE);
case MISCDIAGONALWIPE_TRANSITION:
switch(nSubtype) {
case DOUBLEBARNDOOR_TRANS_SUBTYPE:
return new BarnDoorWipePath(true /* Doubled */);
case DOUBLEDIAMOND_TRANS_SUBTYPE:
return new DoubleDiamondWipePath();
default:
log( 'createClipPolyPolygon: unhandled subtype: ' + nSubtype );
return null;
}
case DISSOLVE_TRANSITION:
return new RandomWipePath( 16 * 16, false /* dissolve */ );
case VEEWIPE_TRANSITION:
return new VeeWipePath();
case SNAKEWIPE_TRANSITION:
return new SnakeWipePath( 8 * 8, // diagonal
nSubtype == TOPLEFTDIAGONAL_TRANS_SUBTYPE     ||
nSubtype == TOPRIGHTDIAGONAL_TRANS_SUBTYPE    ||
nSubtype == BOTTOMRIGHTDIAGONAL_TRANS_SUBTYPE ||
nSubtype == BOTTOMLEFTDIAGONAL_TRANS_SUBTYPE   ,
nSubtype == TOPLEFTVERTICAL_TRANS_SUBTYPE     ||
nSubtype == TOPRIGHTDIAGONAL_TRANS_SUBTYPE    ||
nSubtype == BOTTOMLEFTDIAGONAL_TRANS_SUBTYPE
);
case PARALLELSNAKESWIPE_TRANSITION:
return new ParallelSnakesWipePath(
8 * 8, // elements
nSubtype == DIAGONALBOTTOMLEFTOPPOSITE_TRANS_SUBTYPE ||
nSubtype == DIAGONALTOPLEFTOPPOSITE_TRANS_SUBTYPE,
nSubtype == VERTICALBOTTOMLEFTOPPOSITE_TRANS_SUBTYPE ||
nSubtype == HORIZONTALTOPLEFTOPPOSITE_TRANS_SUBTYPE  ||
nSubtype == DIAGONALTOPLEFTOPPOSITE_TRANS_SUBTYPE,
nSubtype == VERTICALTOPLEFTOPPOSITE_TRANS_SUBTYPE    ||
nSubtype == VERTICALBOTTOMLEFTOPPOSITE_TRANS_SUBTYPE ||
nSubtype == HORIZONTALTOPLEFTOPPOSITE_TRANS_SUBTYPE  ||
nSubtype == HORIZONTALTOPRIGHTOPPOSITE_TRANS_SUBTYPE ||
nSubtype == DIAGONALBOTTOMLEFTOPPOSITE_TRANS_SUBTYPE ||
nSubtype == DIAGONALTOPLEFTOPPOSITE_TRANS_SUBTYPE
);

case SPIRALWIPE_TRANSITION:
return new SpiralWipePath(
8 * 8, // elements
nSubtype == TOPLEFTCOUNTERCLOCKWISE_TRANS_SUBTYPE     ||
nSubtype == TOPRIGHTCOUNTERCLOCKWISE_TRANS_SUBTYPE    ||
nSubtype == BOTTOMRIGHTCOUNTERCLOCKWISE_TRANS_SUBTYPE ||
nSubtype == BOTTOMLEFTCOUNTERCLOCKWISE_TRANS_SUBTYPE );

case BOXSNAKESWIPE_TRANSITION:
return new BoxSnakesWipePath(
8 * 8,
nSubtype == FOURBOXVERTICAL_TRANS_SUBTYPE ||
nSubtype == FOURBOXHORIZONTAL_TRANS_SUBTYPE );
}
}


function createUnitSquarePath()
{
var aPath = document.createElementNS( NSS['svg'], 'path' );
var sD = 'M 0 0 L 1 0 L 1 1 L 0 1 L 0 0';
aPath.setAttribute( 'd', sD );
return aPath;
}

function createEmptyPath()
{
var aPath = document.createElementNS( NSS['svg'], 'path' );
var sD = 'M 0 0 L 0 0';
aPath.setAttribute( 'd', sD );
return aPath;
}

function pruneScaleValue( nVal )
{
if( nVal < 0.0 )
return (nVal < -0.00001 ? nVal : -0.00001);
else
return (nVal > 0.00001 ? nVal : 0.00001);
}


function BarWipePath( nBars /* nBars > 1: blinds effect */ )
{
this.nBars = nBars;
if( this.nBars === undefined || this.nBars < 1 )
this.nBars = 1;
this.aBasePath = createUnitSquarePath();
}

BarWipePath.prototype.perform = function( nT )
{

var aMatrix = SVGIdentityMatrix.scaleNonUniform( pruneScaleValue( nT / this.nBars ), 1.0 );

var aPolyPath = this.aBasePath.cloneNode( true );
aPolyPath.matrixTransform( aMatrix );

if( this.nBars > 1 )
{
var i;
var aTransform;
var aPath;
for( i = this.nBars - 1; i > 0; --i )
{
aTransform = SVGIdentityMatrix.translate( i / this.nBars, 0.0 );
aTransform = aTransform.multiply( aMatrix );
aPath = this.aBasePath.cloneNode( true );
aPath.matrixTransform( aTransform );
aPolyPath.appendPath( aPath );
}
}
return aPolyPath;
};


function BoxWipePath(bIsTopCentered) {
this.bIsTopCentered = bIsTopCentered;
this.aBasePath = createUnitSquarePath();
}

BoxWipePath.prototype.perform = function( nT ) {
var d = pruneScaleValue(nT);
var aTransform = SVGIdentityMatrix;
if(this.bIsTopCentered) {
aTransform = aTransform.translate(-0.5, 0.0).scale(d, d).translate(0.5, 0.0);
}
else {
aTransform = aTransform.scale(d, d);
}
var aPath = this.aBasePath.cloneNode(true);
aPath.matrixTransform(aTransform);
return aPath;
}

function SweepWipePath(bCenter, bSingle, bOppositeVertical, bFlipOnYAxis) {
this.bCenter = bCenter;
this.bSingle = bSingle;
this.bOppositeVertical = bOppositeVertical;
this.bFlipOnYAxis = bFlipOnYAxis;
this.aBasePath = createUnitSquarePath();
}

SweepWipePath.prototype.perform = function( nT ) {
nT /= 2.0;
if(!this.bCenter)
nT /= 2.0;
if(!this.bSingle && !this.bOppositeVertical)
nT /= 2.0;

var poly = PinWheelWipePath.calcCenteredClock( nT + 0.25, 1.0 );
var aTransform;

if(this.bCenter) {
aTransform = SVGIdentityMatrix.translate(0.5, 0.0);
poly.matrixTransform(aTransform);
}
var res = poly;

if(!this.bSingle) {
if(this.bOppositeVertical) {
aTransform = SVGIdentityMatrix.scale(1.0, -1.0);
aTransform.translate(0.0, 1.0);
poly.matrixTransform(aTransform);
poly.changeOrientation();
}
else {
aTransform = SVGIdentityMatrix.translate(-0.5, -0.5);
aTransform.rotate(Math.PI);
aTransform.translate(0.5, 0.5);
poly.matrixTransform(aTransform);
}
res.appendPath(poly);
}
return this.bFlipOnYAxis ? flipOnYAxis(res) : res;
}

function FourBoxWipePath( bCornersOut )
{
this.bCornersOut = bCornersOut;
this.aBasePath = createUnitSquarePath();
}

FourBoxWipePath.prototype.perform = function( nT )
{
var aMatrix;
var d = pruneScaleValue( nT / 2.0 );

if( this.bCornersOut )
{
aMatrix = SVGIdentityMatrix.translate( -0.25, -0.25 ).scale( d ).translate( -0.5, -0.5 );
}
else
{
aMatrix = SVGIdentityMatrix.translate( -0.5, -0.5 ).scale( d );
}


var aTransform = aMatrix;
var aSquare = this.aBasePath.cloneNode( true );
aSquare.matrixTransform( aTransform );
var aPolyPath = aSquare;
aMatrix = SVGIdentityMatrix.flipY();
aTransform = aMatrix.multiply( aTransform );
aSquare = this.aBasePath.cloneNode( true );
aSquare.matrixTransform( aTransform );
aSquare.changeOrientation();
aPolyPath.appendPath( aSquare );
aMatrix = SVGIdentityMatrix.flipX();
aTransform = aMatrix.multiply( aTransform );
aSquare = this.aBasePath.cloneNode( true );
aSquare.matrixTransform( aTransform );
aPolyPath.appendPath( aSquare );
aMatrix = SVGIdentityMatrix.flipY();
aTransform = aMatrix.multiply( aTransform );
aSquare = this.aBasePath.cloneNode( true );
aSquare.matrixTransform( aTransform );
aSquare.changeOrientation();
aPolyPath.appendPath( aSquare );

aMatrix = SVGIdentityMatrix.translate( 0.5, 0.5 );
aMatrix = aMatrix.scale( 1.1 );
aPolyPath.matrixTransform( aMatrix );

return aPolyPath;
};


function EllipseWipePath( eSubtype )
{
this.eSubtype = eSubtype;

var sPathData = 'M 0.5 -0.207107 ' +
'C 0.687536 -0.207107 0.867392 -0.132608 1 0 ' +
'C 1.13261 0.132608 1.20711 0.312464 1.20711 0.5 ' +
'C 1.20711 0.687536 1.13261 0.867392 1 1 ' +
'C 0.867392 1.13261 0.687536 1.20711 0.5 1.20711 ' +
'C 0.312464 1.20711 0.132608 1.13261 0 1 ' +
'C -0.132608 0.867392 -0.207107 0.687536 -0.207107 0.5 ' +
'C -0.207107 0.312464 -0.132608 0.132608 0 0 ' +
'C 0.132608 -0.132608 0.312464 -0.207107 0.5 -0.207107';

this.aBasePath = document.createElementNS( NSS['svg'], 'path' );
this.aBasePath.setAttribute( 'd', sPathData );
}

EllipseWipePath.prototype.perform = function( nT )
{

var aTransform = SVGIdentityMatrix.translate( 0.5, 0.5 ).scale( nT ).translate( -0.5, -0.5 );
var aEllipse = this.aBasePath.cloneNode( true );
aEllipse.matrixTransform( aTransform );

return aEllipse;
};

function FanWipePath(bIsCenter, bIsSingle, bIsFanIn) {
this.bCenter = bIsCenter;
this.bSingle = bIsSingle;
this.bFanIn  = bIsFanIn;
this.aBasePath = createUnitSquarePath();
}

FanWipePath.prototype.perform = function( nT ) {
var res = this.aBasePath.cloneNode(true);
var poly = PinWheelWipePath.calcCenteredClock(
nT / ((this.bCenter && this.bSingle) ? 2.0 : 4.0), 1.0);
res.appendPath(poly);
var aTransform = SVGIdentityMatrix.flipY();
aTransform = aTransform.scaleNonUniform(-1.0, 1.0);
poly.matrixTransform(aTransform);
res.appendPath(poly);

if(this.bCenter) {
aTransform = SVGIdentityMatrix.scaleNonUniform(0.5, 0.5).translate(0.5, 0.5);
res.matrixTransform(aTransform);

if(!this.bSingle)
res.appendPath(flipOnXAxis(res));
}
else {
aTransform = SVGIdentityMatrix.scaleNonUniform(0.5, 1.0).translate(0.5, 1.0);
res.matrixTransform(aTransform);
}
return res;
}

function ClockWipePath() { }

ClockWipePath.prototype.perform = function( nT ) {
const aTransform = SVGIdentityMatrix.scaleNonUniform(0.5, 0.5).translate(0.5, 0.5);
var aPolyPath = PinWheelWipePath.calcCenteredClock(nT, 1.0);
aPolyPath.matrixTransform( aTransform );

return aPolyPath;
}

function PinWheelWipePath( nBlades )
{
this.nBlades = nBlades;
if( !this.nBlades || this.nBlades < 1 )
this.nBlades = 1;
}

PinWheelWipePath.calcCenteredClock = function( nT, nE )
{
var nMAX_EDGE = 2;

var aTransform = SVGIdentityMatrix.rotate( nT * 360 );

var aPoint = document.documentElement.createSVGPoint();
aPoint.y = -nMAX_EDGE;
aPoint = aPoint.matrixTransform( aTransform );

var sPathData = 'M ' + aPoint.x + ' ' + aPoint.y + ' ';
if( nT >= 0.875 )
sPathData += 'L ' + '-' + nE + ' -' + nE + ' ';
if( nT >= 0.625 )
sPathData += 'L ' + '-' + nE + ' ' + nE + ' ';
if( nT >= 0.375 )
sPathData += 'L ' + nE + ' ' + nE + ' ';
if( nT >= 0.125 )
sPathData += 'L ' + nE + ' -' + nE + ' ';

sPathData += 'L 0 -' + nE + ' ';
sPathData += 'L 0 0 ';
sPathData += 'L '  + aPoint.x + ' ' + aPoint.y;

var aPath = document.createElementNS( NSS['svg'], 'path' );
aPath.setAttribute( 'd', sPathData );
return aPath;
};

PinWheelWipePath.prototype.perform = function( nT )
{
var aBasePath = PinWheelWipePath.calcCenteredClock( nT / this.nBlades,
2.0 /* max edge when rotating */  );

var aPolyPath = aBasePath.cloneNode( true );
var aPath;
var aRotation;
var i;
for( i = this.nBlades - 1; i > 0; --i )
{
aRotation = SVGIdentityMatrix.rotate( (i * 360) / this.nBlades );
aPath = aBasePath.cloneNode( true );
aPath.matrixTransform( aRotation );
aPolyPath.appendPath( aPath );
}

var aTransform = SVGIdentityMatrix.translate( 0.5, 0.5 ).scale( 0.5 );
aPolyPath.matrixTransform( aTransform );

return aPolyPath;
};

function BarnDoorWipePath(doubled) {
this.aBasePath = createUnitSquarePath();
this.doubled   = doubled;
}

BarnDoorWipePath.prototype.perform = function( nT ) {
if(this.doubled)
nT /= 2.0;
var aTransform = SVGIdentityMatrix.translate(-0.5, -0.5);
aTransform = aTransform.scaleNonUniform(pruneScaleValue(nT), 1.0).translate(0.5, 0.5);
var aPath = this.aBasePath.cloneNode(true);
aPath.matrixTransform(aTransform);
var res = aPath;

if(this.doubled) {
aTransform = SVGIdentityMatrix.translate(-0.5, -0.5);
aTransform = aTransform.rotate(Math.PI / 2).translate(0.5, 0.5);
aPath.matrixTransform(aTransform);
res.appendPath(aPath);
}
return res;
}

function WaterfallWipePath(nElements, bFlipOnYAxis) {
this.bFlipOnYAxis = bFlipOnYAxis;

var sqrtElements = Math.floor(Math.sqrt(nElements));
var elementEdge = 1.0/sqrtElements;

var aPath = 'M '+ 0.0 + ' ' + -1.0 + ' ';
for(var pos = sqrtElements; pos--; ) {
var xPos = sqrtElements - pos - 1;
var yPos = pruneScaleValue( ((pos+1) * elementEdge) - 1.0);

aPath += 'L ' + pruneScaleValue(xPos * elementEdge) + ' ' + yPos + ' ';
aPath += 'L ' + pruneScaleValue((xPos+1)*elementEdge) + ' ' + yPos + ' ';
}
aPath += 'L ' + 1.0 + ' ' + -1.0 + ' ';
aPath += 'L ' + 0.0 + ' ' + -1.0 + ' ';
this.aBasePath = document.createElementNS( NSS['svg'], 'path');
this.aBasePath.setAttribute('d', aPath);
}

WaterfallWipePath.prototype.perform = function( nT ) {
var poly = this.aBasePath.cloneNode(true);
var aTransform = SVGIdentityMatrix.translate(0.0, pruneScaleValue(2.0 * nT));
poly.matrixTransform(aTransform);
var aHead = 'M ' + 0.0 + ' ' + -1.0 + ' ';
var aHeadPath= document.createElementNS( NSS['svg'], 'path');
aHeadPath.setAttribute('d', aHead);

var aTail = 'M ' + 1.0 + ' ' + -1.0 + ' ';
var aTailPath = document.createElementNS( NSS['svg'], 'path');
aTailPath.setAttribute('d', aTail);

poly.prependPath(aHeadPath);
poly.appendPath(aTailPath);

return this.bFlipOnYAxis ? flipOnYAxis(poly) : poly;
}

function DoubleDiamondWipePath() { }

DoubleDiamondWipePath.prototype.perform = function( nT ) {
var a = pruneScaleValue(0.25 + (nT * 0.75));
var aPath = 'M ' + (0.5 + a) + ' ' + 0.5 + ' ';
aPath += 'L ' + 0.5 + ' ' + (0.5 - a) + ' ';
aPath += 'L ' + (0.5 - a) + ' ' + 0.5 + ' ';
aPath += 'L ' + 0.5 + ' ' + (0.5 + a) + ' ';
aPath += 'L ' + (0.5 + a) + ' ' + 0.5 + ' ';
var poly = document.createElementNS( NSS['svg'], 'path');
poly.setAttribute('d', aPath);
var res = poly.cloneNode(true);

var b = pruneScaleValue( (1.0 - nT) * 0.25);
aPath = 'M ' + (0.5 + b) + ' ' + 0.5 + ' ';
aPath += 'L ' + 0.5 + ' ' + (0.5 + b) + ' ';
aPath += 'L ' + (0.5 - b) + ' ' + 0.5 + ' ';
aPath += 'L ' + 0.5 + ' ' + (0.5 - b) + ' ';
aPath += 'L ' + (0.5 + b) + ' ' + 0.5 + ' ';
poly = document.createElementNS( NSS['svg'], 'path');
poly.setAttribute('d', aPath);
res.appendPath(poly);

return res;
}

function IrisWipePath(unitRect) {
this.unitRect = unitRect;
this.aBasePath = createUnitSquarePath();
}


IrisWipePath.prototype.perform = function( nT ) {
var d = pruneScaleValue(nT);
var aTransform = SVGIdentityMatrix.translate(-0.5, -0.5);
aTransform = aTransform.multiply(SVGIdentityMatrix.scaleNonUniform(d, d).translate(0.5, 0.5));
var aPath = this.aBasePath.cloneNode(true);
aPath.matrixTransform(aTransform);
return aPath;
}

function ZigZagWipePath(nZigs) {
this.zigEdge = 1.0/nZigs;
const d = this.zigEdge;
const d2 = (d / 2.0);
this.aBasePath = 'M ' + (-1.0 - d) + ' ' + -d + ' ';
this.aBasePath += 'L ' + (-1.0 - d) + ' ' + (1.0 + d) + ' ';
this.aBasePath += 'L ' + -d + ' ' + (1.0 + d) + ' ';

for(var pos = (nZigs + 2); pos--; ) {
this.aBasePath += 'L ' + 0.0 + ' ' + ((pos - 1) * d + d2) + ' ';
this.aBasePath += 'L ' + -d + ' ' + (pos - 1) * d + ' ';
}
this.aBasePath += 'L ' + (-1.0 - d) + ' ' + -d + ' ';
}

ZigZagWipePath.prototype.perform = function( nT ) {
var res = document.createElementNS( NSS['svg'], 'path');
res.setAttribute('d', this.aBasePath);
res.matrixTransform(SVGIdentityMatrix.translate((1.0 + this.zigEdge) * nT, 0.0));
return res;
}

function BarnZigZagWipePath( nZigs ) { ZigZagWipePath.call(this, nZigs); }

BarnZigZagWipePath.prototype = Object.create(ZigZagWipePath);

BarnZigZagWipePath.prototype.perform = function( nT ) {
var res = createEmptyPath();
var poly = document.createElementNS( NSS['svg'], 'path');
var aTransform = SVGIdentityMatrix.translate(
((1.0 + this.zigEdge) * (1.0 - nT)) / 2.0, 0.0);
poly.setAttribute('d', this.aBasePath);
poly.changeOrientation();
poly.matrixTransform(aTransform);
res.appendPath(poly);

aTransform = SVGIdentityMatrix.scale(-1.0, 1.0);
aTransform.translate(1.0, this.zigEdge / 2.0);
poly = document.createElementNS( NSS['svg'], 'path');
poly.setAttribute('d', this.aBasePath);
poly.matrixTransform(aTransform);
res.appendPath(poly);

return res;
}

function CheckerBoardWipePath( unitsPerEdge )
{
this.unitsPerEdge = unitsPerEdge;
if( this.unitsPerEdge === undefined || this.unitsPerEdge < 1 )
this.unitsPerEdge = 10;
this.aBasePath = createUnitSquarePath();
}

CheckerBoardWipePath.prototype.perform = function( nT )
{
var d = pruneScaleValue(1.0 / this.unitsPerEdge);
var aMatrix = SVGIdentityMatrix.scaleNonUniform(pruneScaleValue( d*2.0*nT ),
pruneScaleValue( d ) );

var aPolyPath = null;
var i, j;
var aTransform;
var aPath;
for ( i = this.unitsPerEdge; i--; )
{
aTransform = SVGIdentityMatrix;

if ((i % 2) == 1) // odd line
aTransform = aTransform.translate( -d, 0.0 );

aTransform = aTransform.multiply( aMatrix );

for ( j = (this.unitsPerEdge / 2) + 1; j--;)
{
aPath = this.aBasePath.cloneNode( true );
aPath.matrixTransform( aTransform );
if (aPolyPath == null) aPolyPath = aPath;
else aPolyPath.appendPath( aPath );
aTransform = SVGIdentityMatrix.translate( d*2.0, 0.0 ).multiply( aTransform );
}

aMatrix = SVGIdentityMatrix.translate( 0.0, d ).multiply( aMatrix ); // next line
}

return aPolyPath;
};


function RandomWipePath( nElements, bRandomBars )
{
this.nElements = nElements;
this.aBasePath = createUnitSquarePath();
this.aPositionArray = new Array( nElements );
this.aClipPath = createEmptyPath();
this.nAlreadyAppendedElements = 0;

var fEdgeLength, nPos, aTransform;

if( bRandomBars ) // random bar wipe
{
fEdgeLength = 1.0 / nElements;
for( nPos = 0; nPos < nElements; ++nPos )
{
this.aPositionArray[nPos] = { x: 0.0, y: pruneScaleValue( nPos * fEdgeLength ) }
}
aTransform = SVGIdentityMatrix.scaleNonUniform( 1.0, pruneScaleValue( fEdgeLength ) );
}
else // dissolve wipe
{
var nSqrtElements = Math.round( Math.sqrt( nElements ) );
fEdgeLength = 1.0 / nSqrtElements;
for( nPos = 0; nPos < nElements; ++nPos )
{
this.aPositionArray[nPos] = {
x: pruneScaleValue( ( nPos % nSqrtElements ) * fEdgeLength ),
y: pruneScaleValue( ( nPos / nSqrtElements ) * fEdgeLength ) }
}
aTransform = SVGIdentityMatrix.scale( pruneScaleValue( fEdgeLength ) );
}
this.aBasePath.matrixTransform( aTransform );

var nPos1, nPos2;
var tmp;
for( nPos1 = nElements - 1; nPos1 > 0; --nPos1 )
{
nPos2 = getRandomInt( nPos1 + 1 );
tmp = this.aPositionArray[nPos1];
this.aPositionArray[nPos1] = this.aPositionArray[nPos2];
this.aPositionArray[nPos2] = tmp;
}
}

RandomWipePath.prototype.perform = function( nT )
{
var aPolyPath = createEmptyPath();
var aPoint;
var aPath;
var aTransform;
var nElements = Math.round( nT * this.nElements );
if( nElements === 0 )
{
return aPolyPath;
}
if( this.nAlreadyAppendedElements >= nElements )
{
this.nAlreadyAppendedElements = 0;
this.aClipPath = createEmptyPath();
}
var nPos;
for( nPos = this.nAlreadyAppendedElements; nPos < nElements; ++nPos )
{
aPoint = this.aPositionArray[nPos];
aPath = this.aBasePath.cloneNode( true );
aTransform = SVGIdentityMatrix.translate( aPoint.x, aPoint.y );
aPath.matrixTransform( aTransform );
aPolyPath.appendPath( aPath );
}

this.nAlreadyAppendedElements = nElements;
this.aClipPath.appendPath( aPolyPath );

return this.aClipPath.cloneNode( true );
};

function SnakeWipePath(nElements, bDiagonal, bflipOnYAxis)
{
this.sqrtElements = Math.floor(Math.sqrt(nElements));
this.elementEdge  = (1.0 / this.sqrtElements);
this.diagonal     = bDiagonal;
this.flipOnYAxis  = bflipOnYAxis;
this.aBasePath    = createUnitSquarePath();
}

SnakeWipePath.prototype.calcSnake = function(t)
{
var aPolyPath = createEmptyPath();
const area   = (t * this.sqrtElements * this.sqrtElements);
const line_  = Math.floor(area) / this.sqrtElements;
const line   = pruneScaleValue(line_ / this.sqrtElements);
const col    = pruneScaleValue((area - (line_ * this.sqrtElements)) / this.sqrtElements);

if(line != 0) {
let aPath = 'M '+ 0.0 + ' ' + 0.0 + ' ';
aPath += 'L ' + 0.0 + ' ' + line + ' ';
aPath += 'L ' + 1.0 + ' ' + line + ' ';
aPath += 'L ' + 1.0 + ' ' + 0.0 + ' ';
aPath += 'L 0 0 ';
let poly = document.createElementNS( NSS['svg'], 'path');
poly.setAttribute('d', aPath);
aPolyPath.appendPath(poly);
}
if(col != 0) {
var offset = 0.0;
if((line_ & 1) == 1) {
offset = (1.0 - col);
}
let aPath = 'M ' + offset + ' ' + line + ' ';
aPath += 'L '+ offset + ' ' + (line + this.elementEdge) + ' ';
aPath += 'L ' + (offset+col) + ' ' + (line + this.elementEdge) + ' ';
aPath += 'L ' + (offset+col) + ' ' + line + ' ';
aPath += 'L ' + offset + ' ' + line + ' ';
let poly = document.createElementNS( NSS['svg'], 'path');
poly.setAttribute('d', aPath);
aPolyPath.appendPath(poly);
}

return aPolyPath;
}

SnakeWipePath.prototype.calcHalfDiagonalSnake = function(nT, bIn) {
var res = createEmptyPath();

if(bIn) {
const sqrtArea2 = Math.sqrt(nT * this.sqrtElements * this.sqrtElements);
const edge = pruneScaleValue(sqrtArea2 / this.sqrtElements);

var aPath, aPoint = document.documentElement.createSVGPoint();
if(edge) {
aPath = 'M ' + aPoint.x + ' ' + aPoint.y + ' ';
aPoint.y = edge;
aPath += 'L ' + aPoint.x + ' ' + aPoint.y + ' ';
aPoint.x = edge;
aPoint.y = 0.0;
aPath += 'L ' + aPoint.x + ' ' + aPoint.y + ' ';
aPoint.x = 0.0;
aPath += 'L ' + aPoint.x + ' ' + aPoint.y + ' ';
const poly = document.createElementNS( NSS['svg'], 'path');
poly.setAttribute('d', aPath);
res.appendPath(poly);
}
const a = (Math.SQRT1_2 / this.sqrtElements);
const d = (sqrtArea2 - Math.floor(sqrtArea2));
const len = (nT * Math.SQRT1_2 * d);
const height = pruneScaleValue(Math.SQRT1_2 / this.sqrtElements);
aPath = 'M ' + aPoint.x + ' ' + aPoint.y + ' ';
aPoint.y = height;
aPath += 'L ' + aPoint.x + ' ' + aPoint.y + ' ';
aPoint.x = len + a;
aPath += 'L ' + aPoint.x + ' ' + aPoint.y + ' ';
aPoint.y = 0.0;
aPath += 'L ' + aPoint.x + ' ' + aPoint.y + ' ';
aPoint.x = 0.0;
aPath += 'L ' + aPoint.x + ' ' + aPoint.y + ' ';
const poly = document.createElementNS( NSS['svg'], 'path');
poly.setAttribute('d', aPath);
let aTransform;

if((Math.floor(sqrtArea2) & 1) == 1) {
aTransform = SVGIdentityMatrix.rotate((Math.PI)/2 + (Math.PI)/4);
aTransform.translate(edge + this.elementEdge, 0.0);
}
else {
aTransform = SVGIdentityMatrix.translate(-a, 0.0);
aTransform.rotate(-(Math.PI/4));
aTransform.translate(0.0, edge);
}

poly.matrixTransform(aTransform);
res.appendPath(poly);
}
else { //out
const sqrtArea2 = Math.sqrt(nT * this.sqrtElements * this.sqrtElements);
const edge = pruneScaleValue(Math.floor(sqrtArea2)/this.sqrtElements);

let aPath, aPoint = document.documentElement.createSVGPoint();
if(edge != 0) {
aPoint.y = 1.0;
aPath = 'M ' + aPoint.x + ' ' + aPoint.y + ' ';
aPoint.x = edge;
aPath += 'L ' + aPoint.x + ' ' + aPoint.y + ' ';
aPoint.x = 1.0;
aPoint.y = edge;
aPath += 'L ' + aPoint.x + ' ' + aPoint.y + ' ';
aPoint.y = 0.0;
aPath += 'L ' + aPoint.x + ' ' + aPoint.y + ' ';
aPoint.x = 0.0;
aPath += 'L ' + aPoint.x + ' ' + aPoint.y + ' ';
const poly = document.createElementNS( NSS['svg'], 'path');
poly.setAttribute('d', aPath);
res.appendPath(poly);
}
const a = (Math.SQRT1_2 / this.sqrtElements);
const d = (sqrtArea2 - Math.floor(sqrtArea2));
const len = ((1.0 - nT) * Math.SQRT2 * d);
const height = pruneScaleValue(Math.SQRT1_2 / this.sqrtElements);
aPath = 'M ' + aPoint.x + ' ' + aPoint.y + ' ';
aPoint.y = height;
aPath += 'L ' + aPoint.x + ' ' + aPoint.y + ' ';
aPoint.x = len + a;
aPath += 'L ' + aPoint.x + ' ' + aPoint.y + ' ';
aPoint.y = 0.0;
aPath += 'L ' + aPoint.x + ' ' + aPoint.y + ' ';
aPoint.x = 0.0;
aPath += 'L ' + aPoint.x + ' ' + aPoint.y + ' ';
const poly = document.createElementNS( NSS['svg'], 'path');
poly.setAttribute('d', aPath);
let aTransform;

if((Math.floor(sqrtArea2) & 1) == 1) {
aTransform = SVGIdentityMatrix.translate(0.0, -height);
aTransform.rotate(Math.PI/2 + Math.PI/4);
aTransform.translate(1.0, edge);
}
else {
aTransform = SVGIdentityMatrix.rotate(-(Math.PI/4));
aTransform = aTransform.translate(edge, 1.0);
}
poly.matrixTransform(aTransform);
res.appendPath(poly);
}
return res;
}

SnakeWipePath.prototype.perform = function(nT) {
var res = createEmptyPath();
if(this.diagonal) {
if(nT >= 0.5) {
res.appendPath(this.calcHalfDiagonalSnake(1.0, true));
res.appendPath(this.calcHalfDiagonalSnake(2.0*(nT-0.5), false));
}
else
res.appendPath(this.calcHalfDiagonalSnake(2.0*nT, true));
}
else
res = this.calcSnake(nT);

return this.flipOnYAxis ? flipOnYAxis(res) : res;
}

function ParallelSnakesWipePath(nElements, bDiagonal, bFlipOnYAxis, bOpposite) {
SnakeWipePath.call(this, nElements, bDiagonal, bFlipOnYAxis);
this.bOpposite = bOpposite;
}

ParallelSnakesWipePath.prototype = Object.create(SnakeWipePath);

ParallelSnakesWipePath.prototype.perform = function( nT ) {
var res = createEmptyPath(), half, aTransform;
if(this.diagonal) {
assert(this.bOpposite);
half = SnakeWipePath.prototype.calcHalfDiagonalSnake.call(this, nT, false);
aTransform = SVGIdentityMatrix.scale(1, -1);
aTransform.translate(-0.5, 0.5);
aTransform.rotate(Math.PI/2);
aTransform.translate(0.5, 0.5);
half.matrixTransform(aTransform);
half.changeOrientation();
res.appendPath(half);

aTransform = SVGIdentityMatrix.translate(-0.5, -0.5);
aTransform.rotate(Math.PI);
aTransform.translate(0.5, 0.5);
half.matrixTransform(aTransform);
res.appendPath(half);
}
else {
half = SnakeWipePath.prototype.calcSnake.call(this, nT / 2.0 );
aTransform = SVGIdentityMatrix.translate(-0.5, -0.5);
aTransform = aTransform.rotate(Math.PI/2);
aTransform = aTransform.translate(0.5, 0.5);
half.matrixTransform(aTransform);
res.appendPath(flipOnYAxis(half));
res.appendPath(this.bOpposite ? flipOnXAxis(half) : half);
}

return this.flipOnYAxis ? flipOnYAxis(res) : res;
}

function SpiralWipePath(nElements, bFlipOnYAxis) {
this.nElements    = nElements;
this.sqrtElements = Math.floor(Math.sqrt(nElements));
this.bFlipOnYAxis = bFlipOnYAxis;
}

SpiralWipePath.prototype.calcNegSpiral = function( nT ) {
var area  = nT * this.nElements;
var e     = (Math.sqrt(area) / 2.0);
var edge  = Math.floor(e) * 2;

var aTransform = SVGIdentityMatrix.translate(-0.5, -0.5);
var edge_ = pruneScaleValue(edge / this.sqrtElements);

aTransform = aTransform.scale(edge_, edge_);
aTransform = aTransform.translate(0.5, 0.5);
var poly = createUnitSquarePath();
poly.matrixTransform(aTransform);
var res = poly.cloneNode(true);

if(1.0 - nT != 0) {
var edge1 = edge + 1;
var len   = Math.floor( (e - edge/2) * edge1 * 4);
var w     = Math.PI / 2;

while(len > 0) {
var alen = Math.min(len, edge1);
len -= alen;
poly = createUnitSquarePath();
aTransform = SVGIdentityMatrix.scale(
pruneScaleValue( alen / this.sqrtElements ),
pruneScaleValue( 1.0 / this.sqrtElements ));
aTransform = aTransform.translate(
- pruneScaleValue( (edge / 2) / this.sqrtElements ),
pruneScaleValue( (edge / 2) / this.sqrtElements ));
aTransform = aTransform.rotate( w );
w -= Math.PI / 2;
aTransform = aTransform.translate(0.5, 0.5);
poly.matrixTransform(aTransform);
res.appendPath(poly);
}
}

return res;
}

SpiralWipePath.prototype.perform = function( nT ) {
var res         = createUnitSquarePath();
var innerSpiral = this.calcNegSpiral( 1.0 - nT );
innerSpiral.changeOrientation();
res.appendPath(innerSpiral);

return this.bFlipOnYAxis ? flipOnYAxis(res) : res;
}

function BoxSnakesWipePath(nElements, bFourBox) {
SpiralWipePath.call(this, nElements);
this.bFourBox = bFourBox;
}

BoxSnakesWipePath.prototype = Object.create(SpiralWipePath);

BoxSnakesWipePath.prototype.perform = function( nT ) {
var res = createUnitSquarePath(), aTransform;
var innerSpiral = SpiralWipePath.prototype.calcNegSpiral.call(this, 1.0 - nT);
innerSpiral.changeOrientation();

if(this.bFourBox) {
aTransform = SVGIdentityMatrix.scale(0.5, 0.5);
innerSpiral.matrixTransform(aTransform);
res.appendPath(innerSpiral);
res.appendPath(flipOnXAxis(innerSpiral));
innerSpiral = flipOnYAxis(innerSpiral);
res.appendPath(innerSpiral);
res.appendPath(flipOnXAxis(innerSpiral));
}
else {
aTransform = SVGIdentityMatrix.scale(1.0, 0.5);
innerSpiral.matrixTransform(aTransform);
res.appendPath(innerSpiral);
res.appendPath(flipOnXAxis(innerSpiral));
}
return this.bFlipOnYAxis ? flipOnYAxis(res) : res;
}

function VeeWipePath() { }

VeeWipePath.prototype.perform = function( nT ) {
const d = pruneScaleValue(2.0 * nT);
var polyPath = 'M ' + 0.0 + ' ' + -1.0 + ' ';
polyPath += 'L ' + 0.0 + ' ' + (d - 1.0) + ' ';
polyPath += 'L ' + 0.5 + ' ' + d + ' ';
polyPath += 'L ' + 1.0 + ' ' + (d - 1.0) + ' ';
polyPath += 'L ' + 1.0 + ' ' + -1.0 + ' ';
polyPath += 'L ' + 0.0 + ' ' + -1.0 + ' ';

var aPolyPolyPath = document.createElementNS( NSS['svg'], 'path');
aPolyPolyPath.setAttribute('d', polyPath);
return aPolyPolyPath;
}


function AnimatedSlide( aMetaSlide )
{
if( !aMetaSlide )
{
log( 'AnimatedSlide constructor: meta slide is not valid' );
}

this.aMetaSlide = aMetaSlide;
this.aSlideElement = this.aMetaSlide.slideElement;
this.sSlideId = this.aMetaSlide.slideId;

this.aUsedAttributeSet = [];

this.aClipPathElement = null;
this.aClipPathContent = null;
this.bIsClipped = false;
}

AnimatedSlide.prototype.show = function()
{
this.aMetaSlide.show();
};

AnimatedSlide.prototype.hide = function()
{
this.aMetaSlide.hide();
};

AnimatedSlide.prototype.notifyUsedAttribute = function( sName )
{
if( sName == 'clip-path' )
{
this.initClipPath();
this.bIsClipped = true;
}
else
{
this.aUsedAttributeSet.push( sName );
}
};

AnimatedSlide.prototype.reset = function()
{
if( this.bIsClipped )
{
this.cleanClipPath();
this.bIsClipped = false;
}

var i;
for( i = 0; i < this.aUsedAttributeSet.length; ++i )
{
var sAttrName = this.aUsedAttributeSet[i];
this.aSlideElement.removeAttribute( sAttrName );
}
this.aUsedAttributeSet = [];
};

AnimatedSlide.prototype.initClipPath = function()
{
this.aClipPathElement = document.createElementNS( NSS['svg'], 'clipPath' );

var sId = 'clip-path-' + this.sSlideId;
this.aClipPathElement.setAttribute( 'id', sId );
this.aClipPathElement.setAttribute( 'clipPathUnits', 'userSpaceOnUse' );

this.aClipPathContent = document.createElementNS( NSS['svg'], 'path' );
var sPathData = 'M 0 0 h ' + WIDTH + ' v ' + HEIGHT + ' h -' + WIDTH + ' z';
this.aClipPathContent.setAttribute( 'd', sPathData );
this.aClipPathElement.appendChild( this.aClipPathContent );

var aClipPathGroup = theMetaDoc.aClipPathGroup;
aClipPathGroup.appendChild( this.aClipPathElement );

var sRef = 'url(#' + sId + ')';
this.aSlideElement.parentNode.setAttribute( 'clip-path', sRef );
};

AnimatedSlide.prototype.cleanClipPath = function()
{
this.aSlideElement.parentNode.removeAttribute( 'clip-path' );

if( this.aClipPathElement )
{
var aClipPathGroup = theMetaDoc.aClipPathGroup;
aClipPathGroup.removeChild( this.aClipPathElement );
this.aClipPathElement = null;
this.aClipPathContent = null;
}
};

AnimatedSlide.prototype.insertBefore = function( aElement )
{
if( aElement )
{
this.aSlideElement.parentNode.insertBefore( aElement, this.aSlideElement );
}
};

AnimatedSlide.prototype.appendElement = function( aElement )
{
if( aElement )
{
this.aSlideElement.parentNode.appendChild( aElement );
}
};

AnimatedSlide.prototype.removeElement = function( aElement )
{
if( aElement )
{
this.aSlideElement.parentNode.removeChild( aElement );
}
};

AnimatedSlide.prototype.getWidth = function()
{
return WIDTH;
};

AnimatedSlide.prototype.getHeight = function()
{
return HEIGHT;
};

AnimatedSlide.prototype.setOpacity = function( nValue )
{
this.aSlideElement.setAttribute( 'opacity', nValue );
};

AnimatedSlide.prototype.translate = function( nDx, nDy )
{
var sTransformAttr = 'translate(' + nDx + ',' + nDy + ')';
this.aSlideElement.setAttribute( 'transform', sTransformAttr );
};

AnimatedSlide.prototype.setClipPath = function( aClipPathContent )
{
if( this.aClipPathContent )
{
var sPathData = aClipPathContent.getAttribute( 'd' );
this.aClipPathContent.setAttribute( 'd', sPathData );
}
};


function AnimatedElement( aElement )
{
if( !aElement )
{
log( 'AnimatedElement constructor: element is not valid' );
}

this.aSlideShowContext = null;

this.aBaseElement = aElement.cloneNode( true );
this.aActiveElement = aElement;
this.sElementId = this.aActiveElement.getAttribute( 'id' );

this.aBaseBBox = this.aActiveElement.getBBox();
this.nBaseCenterX = this.aBaseBBox.x + this.aBaseBBox.width / 2;
this.nBaseCenterY = this.aBaseBBox.y + this.aBaseBBox.height / 2;


this.aClipPathElement = null;
this.aClipPathContent = null;

this.aPreviousElement = null;
this.aStateSet = {};

this.eAdditiveMode = ADDITIVE_MODE_REPLACE;
this.bIsUpdated = true;

this.aTMatrix = document.documentElement.createSVGMatrix();
this.aCTM = document.documentElement.createSVGMatrix();
this.aICTM = document.documentElement.createSVGMatrix();

this.initElement();
}

AnimatedElement.prototype.initElement = function()
{
this.nCenterX = this.nBaseCenterX;
this.nCenterY = this.nBaseCenterY;
this.nScaleFactorX = 1.0;
this.nScaleFactorY = 1.0;
this.nRotationAngle = 0.0;

this.aActiveElement.setAttribute( 'transform', makeMatrixString( 1, 0, 0, 1, 0, 0 ) );
};

AnimatedElement.prototype.initClipPath = function()
{
this.aClipPathElement = document.createElementNS( NSS['svg'], 'clipPath' );

var sId = 'clip-path-' + this.sElementId;
this.aClipPathElement.setAttribute( 'id', sId );
this.aClipPathElement.setAttribute( 'clipPathUnits', 'userSpaceOnUse' );

this.aClipPathContent = document.createElementNS( NSS['svg'], 'path' );
this.aClippingBBox = this.getBBoxWithStroke();
var nWidth = this.aClippingBBox.width;
var nHeight = this.aClippingBBox.height;
var sPathData = 'M ' + this.aClippingBBox.x + ' ' + this.aClippingBBox.y +
' h ' + nWidth + ' v ' + nHeight + ' h -' + nWidth + ' z';
this.aClipPathContent.setAttribute( 'd', sPathData );
this.aClipPathElement.appendChild( this.aClipPathContent );

var aClipPathGroup = theMetaDoc.aClipPathGroup;
aClipPathGroup.appendChild( this.aClipPathElement );

var sRef = 'url(#' + sId + ')';
this.aActiveElement.setAttribute( 'clip-path', sRef );
};

AnimatedElement.prototype.cleanClipPath = function()
{
this.aActiveElement.removeAttribute( 'clip-path' );

if( this.aClipPathElement )
{
var aClipPathGroup = theMetaDoc.aClipPathGroup;
aClipPathGroup.removeChild( this.aClipPathElement );
this.aClipPathElement = null;
this.aClipPathContent = null;
}
};

AnimatedElement.prototype.getId = function()
{
return this.aActiveElement.getAttribute( 'id' );
};

AnimatedElement.prototype.getAdditiveMode = function()
{
return this.eAdditiveMode;
};

AnimatedElement.prototype.setAdditiveMode = function( eAdditiveMode )
{
this.eAdditiveMode = eAdditiveMode;
};

AnimatedElement.prototype.setToElement = function( aElement )
{
if( !aElement )
{
log( 'AnimatedElement(' + this.getId() + ').setToElement: element is not valid' );
return false;
}

var aClone = aElement.cloneNode( true );
this.aPreviousElement = this.aActiveElement.parentNode.replaceChild( aClone, this.aActiveElement );
this.aActiveElement = aClone;

return true;
};

AnimatedElement.prototype.notifySlideStart = function( aSlideShowContext )
{
if( !aSlideShowContext )
{
log( 'AnimatedElement.notifySlideStart: slideshow context is not valid' );
}
this.aSlideShowContext = aSlideShowContext;

var aClone = this.aBaseElement.cloneNode( true );
this.aActiveElement.parentNode.replaceChild( aClone, this.aActiveElement );
this.aActiveElement = aClone;

this.initElement();
this.DBG( '.notifySlideStart invoked' );
};

AnimatedElement.prototype.notifySlideEnd = function()
{
};

AnimatedElement.prototype.notifyAnimationStart = function()
{
};

AnimatedElement.prototype.notifyAnimationEnd = function()
{
};

AnimatedElement.prototype.notifyNextEffectStart = function( /*nEffectIndex*/ )
{
};

AnimatedElement.prototype.saveState = function( nAnimationNodeId )
{
ANIMDBG.print( 'AnimatedElement(' + this.getId() + ').saveState(' + nAnimationNodeId +')' );
if( !this.aStateSet[ nAnimationNodeId ] )
{
this.aStateSet[ nAnimationNodeId ] = {};
}
var aState = this.aStateSet[ nAnimationNodeId ];
aState.aElement = this.aActiveElement.cloneNode( true );
aState.nCenterX = this.nCenterX;
aState.nCenterY = this.nCenterY;
aState.nScaleFactorX = this.nScaleFactorX;
aState.nScaleFactorY = this.nScaleFactorY;
aState.nRotationAngle = this.nRotationAngle;

};

AnimatedElement.prototype.restoreState = function( nAnimationNodeId )
{
if( !this.aStateSet[ nAnimationNodeId ] )
{
log( 'AnimatedElement(' + this.getId() + ').restoreState: state '
+nAnimationNodeId  + ' is not valid' );
return false;
}

ANIMDBG.print( 'AnimatedElement(' + this.getId() + ').restoreState(' + nAnimationNodeId +')' );
var aState = this.aStateSet[ nAnimationNodeId ];
var bRet = this.setToElement( aState.aElement );
if( bRet )
{
this.nCenterX = aState.nCenterX;
this.nCenterY = aState.nCenterY;
this.nScaleFactorX = aState.nScaleFactorX;
this.nScaleFactorY = aState.nScaleFactorY;
this.nRotationAngle = aState.nRotationAngle;
}
return bRet;
};

AnimatedElement.prototype.getBaseBBox = function()
{
return this.aBaseBBox;
};

AnimatedElement.prototype.getBaseCenterX = function()
{
return this.nBaseCenterX;
};

AnimatedElement.prototype.getBaseCenterY = function()
{
return this.nBaseCenterY;
};

AnimatedElement.prototype.getBBox = function()
{
return this.aActiveElement.parentNode.getBBox();
};

AnimatedElement.prototype.getBBoxWithStroke = function()
{
var aBBox = this.aActiveElement.parentNode.getBBox();

var aChildrenSet = this.aActiveElement.childNodes;

var sStroke, sStrokeWidth;
var nStrokeWidth = 0;
var i;
for( i = 0; i < aChildrenSet.length; ++i )
{
if( ! aChildrenSet[i].getAttribute  )
continue;

sStroke = aChildrenSet[i].getAttribute( 'stroke' );
if( sStroke && sStroke != 'none' )
{
sStrokeWidth = aChildrenSet[i].getAttribute( 'stroke-width' );
var nSW = parseFloat( sStrokeWidth );
if( nSW > nStrokeWidth )
nStrokeWidth = nSW;
}
}

if( nStrokeWidth == 0 )
{
sStrokeWidth = ROOT_NODE.getAttribute( 'stroke-width' );
nStrokeWidth = parseFloat( sStrokeWidth );
}
if( nStrokeWidth != 0 )
{
nStrokeWidth *= 1.1;
var nHalfStrokeWidth = nStrokeWidth / 2;
var nDoubleStrokeWidth = nStrokeWidth * 2;

var aEBBox = document.documentElement.createSVGRect();
aEBBox.x = aBBox.x - nHalfStrokeWidth;
aEBBox.y = aBBox.y - nHalfStrokeWidth;
aEBBox.width = aBBox.width + nDoubleStrokeWidth;
aEBBox.height = aBBox.height + nDoubleStrokeWidth;
aBBox = aEBBox;
}
return aBBox;
};

AnimatedElement.prototype.setClipPath = function( aClipPathContent )
{
if( this.aClipPathContent )
{
var aTranslation = SVGIdentityMatrix.translate( this.aClippingBBox.x,
this.aClippingBBox.y);
aClipPathContent.matrixTransform( aTranslation );
var sPathData = aClipPathContent.getAttribute( 'd' );
this.aClipPathContent.setAttribute( 'd', sPathData );
}
};


AnimatedElement.prototype.getX = function()
{
return this.nCenterX;
};

AnimatedElement.prototype.getY = function()
{
return this.nCenterY;
};

AnimatedElement.prototype.getWidth = function()
{
return this.nScaleFactorX * this.getBaseBBox().width;
};

AnimatedElement.prototype.getHeight = function()
{
return this.nScaleFactorY * this.getBaseBBox().height;
};

AnimatedElement.prototype.updateTransformAttribute = function()
{
this.aTransformAttrList = this.aActiveElement.transform.baseVal;
this.aTransformAttr = this.aTransformAttrList.getItem( 0 );
this.aTransformAttr.setMatrix( this.aTMatrix );
};

AnimatedElement.prototype.setX = function( nNewCenterX )
{
if( nNewCenterX === this.nCenterX ) return;

this.aTransformAttrList = this.aActiveElement.transform.baseVal;
this.aTransformAttr = this.aTransformAttrList.getItem( 0 );
this.aTMatrix = this.aTransformAttr.matrix.translate( nNewCenterX - this.nCenterX, 0 );
this.aTransformAttr.setMatrix( this.aTMatrix );
this.nCenterX = nNewCenterX;
};

AnimatedElement.prototype.setY = function( nNewCenterY )
{
if( nNewCenterY === this.nCenterY ) return;

this.aTransformAttrList = this.aActiveElement.transform.baseVal;
this.aTransformAttr = this.aTransformAttrList.getItem( 0 );
this.aTMatrix = this.aTransformAttr.matrix.translate( 0, nNewCenterY - this.nCenterY );
this.aTransformAttr.setMatrix( this.aTMatrix );
this.nCenterY = nNewCenterY;
};

AnimatedElement.prototype.setWidth = function( nNewWidth )
{
ANIMDBG.print( 'AnimatedElement.setWidth: nNewWidth = ' + nNewWidth );
if( nNewWidth < 0 )
{
log('AnimatedElement(' + this.getId() + ').setWidth: negative height!');
nNewWidth = 0;
}

var nBaseWidth = this.getBaseBBox().width;
var nScaleFactorX = nNewWidth / nBaseWidth;

if( nScaleFactorX < 1e-5 ) nScaleFactorX = 1e-5;
if( nScaleFactorX == this.nScaleFactorX ) return;

this.aTMatrix = document.documentElement.createSVGMatrix()
.translate( this.nCenterX, this.nCenterY )
.rotate(this.nRotationAngle)
.scaleNonUniform( nScaleFactorX, this.nScaleFactorY )
.translate( -this.nBaseCenterX, -this.nBaseCenterY );
this.updateTransformAttribute();

this.nScaleFactorX = nScaleFactorX;
};

AnimatedElement.prototype.setHeight = function( nNewHeight )
{
ANIMDBG.print( 'AnimatedElement.setWidth: nNewHeight = ' + nNewHeight );
if( nNewHeight < 0 )
{
log('AnimatedElement(' + this.getId() + ').setWidth: negative height!');
nNewHeight = 0;
}

var nBaseHeight = this.getBaseBBox().height;
var nScaleFactorY = nNewHeight / nBaseHeight;

if( nScaleFactorY < 1e-5 ) nScaleFactorY = 1e-5;
if( nScaleFactorY == this.nScaleFactorY ) return;

this.aTMatrix = document.documentElement.createSVGMatrix()
.translate( this.nCenterX, this.nCenterY )
.rotate(this.nRotationAngle)
.scaleNonUniform( this.nScaleFactorX, nScaleFactorY )
.translate( -this.nBaseCenterX, -this.nBaseCenterY );
this.updateTransformAttribute();

this.nScaleFactorY = nScaleFactorY;
};

AnimatedElement.prototype.getOpacity = function()
{
return this.aActiveElement.getAttribute( 'opacity' );
};

AnimatedElement.prototype.setOpacity = function( nValue )
{
this.aActiveElement.setAttribute( 'opacity', nValue );
};

AnimatedElement.prototype.getRotationAngle = function()
{
return this.nRotationAngle;
};

AnimatedElement.prototype.setRotationAngle = function( nNewRotAngle )
{
this.aTMatrix = document.documentElement.createSVGMatrix()
.translate( this.nCenterX, this.nCenterY )
.rotate(nNewRotAngle)
.scaleNonUniform( this.nScaleFactorX, this.nScaleFactorY )
.translate( -this.nBaseCenterX, -this.nBaseCenterY );
this.updateTransformAttribute();

this.nRotationAngle = nNewRotAngle;
};

AnimatedElement.prototype.getVisibility = function()
{

var sVisibilityValue = this.aActiveElement.getAttribute( 'visibility' );
if( !sVisibilityValue || ( sVisibilityValue === 'inherit' ) )
return 'visible'; // TODO: look for parent visibility!
else
return sVisibilityValue;
};

AnimatedElement.prototype.setVisibility = function( sValue )
{
if( sValue == 'visible' )
sValue = 'inherit';
this.aActiveElement.setAttribute( 'visibility', sValue );
};

AnimatedElement.prototype.getStrokeStyle = function()
{
return 'solid';
};

AnimatedElement.prototype.setStrokeStyle = function( sValue )
{
ANIMDBG.print( 'AnimatedElement.setStrokeStyle(' + sValue + ')' );
};

AnimatedElement.prototype.getFillStyle = function()
{
return 'solid';
};

AnimatedElement.prototype.setFillStyle = function( sValue )
{
ANIMDBG.print( 'AnimatedElement.setFillStyle(' + sValue + ')' );
};

AnimatedElement.prototype.getFillColor = function()
{
var aChildSet = getElementChildren( this.aActiveElement );
var sFillColorValue = '';
for( var i = 0; i <  aChildSet.length; ++i )
{
sFillColorValue = aChildSet[i].getAttribute( 'fill' );
if( sFillColorValue && ( sFillColorValue !== 'none' ) )
break;
}

return colorParser( sFillColorValue );
};

AnimatedElement.prototype.setFillColor = function( aRGBValue )
{
assert( aRGBValue instanceof RGBColor,
'AnimatedElement.setFillColor: value argument is not an instance of RGBColor' );

var sValue = aRGBValue.toString( true /* clamped values */ );
var aChildSet = getElementChildren( this.aActiveElement );

var sFillColorValue = '';
for( var i = 0; i <  aChildSet.length; ++i )
{
sFillColorValue = aChildSet[i].getAttribute( 'fill' );
if( sFillColorValue && ( sFillColorValue !== 'none' ) )
{
aChildSet[i].setAttribute( 'fill', sValue );
}
}
};

AnimatedElement.prototype.getStrokeColor = function()
{
var aChildSet = getElementChildren( this.aActiveElement );
var sStrokeColorValue = '';
for( var i = 0; i <  aChildSet.length; ++i )
{
sStrokeColorValue = aChildSet[i].getAttribute( 'stroke' );
if( sStrokeColorValue && ( sStrokeColorValue !== 'none' ) )
break;
}

return colorParser( sStrokeColorValue );
};

AnimatedElement.prototype.setStrokeColor = function( aRGBValue )
{
assert( aRGBValue instanceof RGBColor,
'AnimatedElement.setFillColor: value argument is not an instance of RGBColor' );

var sValue = aRGBValue.toString( true /* clamped values */ );
var aChildSet = getElementChildren( this.aActiveElement );

var sStrokeColorValue = '';
for( var i = 0; i <  aChildSet.length; ++i )
{
sStrokeColorValue = aChildSet[i].getAttribute( 'stroke' );
if( sStrokeColorValue && ( sStrokeColorValue !== 'none' ) )
{
aChildSet[i].setAttribute( 'stroke', sValue );
}
}
};

AnimatedElement.prototype.getFontColor = function()
{
return new RGBColor( 0, 0, 0 );
};

AnimatedElement.prototype.setFontColor = function( sValue )
{
ANIMDBG.print( 'AnimatedElement.setFontColor(' + sValue + ')' );
};

AnimatedElement.prototype.DBG = function( sMessage, nTime )
{
aAnimatedElementDebugPrinter.print( 'AnimatedElement(' + this.getId() + ')' + sMessage, nTime );
};


function AnimatedTextElement( aElement, aEventMultiplexer )
{
var theDocument = document;

var sTextType = aElement.getAttribute( 'class' );
var bIsListItem = ( sTextType === 'ListItem' );
if( ( sTextType !== 'TextParagraph' ) && !bIsListItem )
{
log( 'AnimatedTextElement: passed element is not a paragraph.' );
return;
}
var aTextShapeElement = aElement.parentNode;
sTextType = aTextShapeElement.getAttribute( 'class' );
if( sTextType !== 'TextShape' )
{
log( 'AnimatedTextElement: element parent is not a text shape.' );
return;
}
var aTextShapeGroup = aTextShapeElement.parentNode;
var aAnimatedElementGroup = getElementByClassName( aTextShapeGroup, 'AnimatedElements' );
if( !aAnimatedElementGroup )
{
aAnimatedElementGroup = theDocument.createElementNS( NSS['svg'], 'g' );
aAnimatedElementGroup.setAttribute( 'class', 'AnimatedElements' );
aTextShapeGroup.appendChild( aAnimatedElementGroup );
}

var aAnimatableElement = theDocument.createElementNS( NSS['svg'], 'g' );
var aTextElement = theDocument.createElementNS( NSS['svg'], 'text' );
var aParagraphElement = aElement.cloneNode( true );

this.aGraphicGroupElement = theDocument.createElementNS( NSS['svg'], 'g' );
this.aGraphicGroupElement.setAttribute( 'class', 'GraphicGroup' );

var aBulletCharClone = null;
var aBulletCharElem = null;
var bIsBulletCharStyle =
( aElement.getAttributeNS( NSS['ooo'], aOOOAttrListItemNumberingType ) === 'bullet-style' );
if( bIsBulletCharStyle )
{
var aBulletCharGroupElem = getElementByClassName( aTextShapeGroup, 'BulletChars' );
if( aBulletCharGroupElem )
{
var aBulletPlaceholderElem = getElementByClassName( aElement, 'BulletPlaceholder' );
if( aBulletPlaceholderElem )
{
var sId = aBulletPlaceholderElem.getAttribute( 'id' );
sId = 'bullet-char(' + sId + ')';
aBulletCharElem = theDocument.getElementById( sId );
if( aBulletCharElem )
{
aBulletCharClone = aBulletCharElem.cloneNode( true );
}
else
{
log( 'AnimatedTextElement: ' + sId + ' not found.' );
}
}
else
{
log( 'AnimatedTextElement: no bullet placeholder found' );
}
}
else
{
log( 'AnimatedTextElement: no bullet char group found' );
}
}

var aBitmapElemSet = [];
var aBitmapCloneSet = [];
var aBitmapPlaceholderSet = getElementsByClassName( aElement, 'BitmapPlaceholder' );
var i;
if( aBitmapPlaceholderSet )
{
for( i = 0; i < aBitmapPlaceholderSet.length; ++i )
{
sId = aBitmapPlaceholderSet[i].getAttribute( 'id' );
var sBitmapChecksum = sId.substring( 'bitmap-placeholder'.length + 1, sId.length - 1 );
sId = 'embedded-bitmap(' + sBitmapChecksum + ')';
aBitmapElemSet[i] = theDocument.getElementById( sId );
if( aBitmapElemSet[i] )
{
aBitmapCloneSet[i] = aBitmapElemSet[i].cloneNode( true );
}
else
{
log( 'AnimatedTextElement: ' + sId + ' not found.' );
}
}
}


this.sParagraphId = sId = aParagraphElement.getAttribute( 'id' );
aParagraphElement.removeAttribute( 'id' );
aAnimatableElement.setAttribute( 'id', sId +'.a' );
if( aBulletCharClone )
aBulletCharClone.removeAttribute( 'id' );
for( i = 0; i < aBitmapCloneSet.length; ++i )
{
if( aBitmapCloneSet[i] )
aBitmapCloneSet[i].removeAttribute( 'id' );
}

var sVisibilityAttr = aElement.getAttribute( 'visibility' );
if( !sVisibilityAttr )
sVisibilityAttr = 'inherit';
aAnimatableElement.setAttribute( 'visibility', sVisibilityAttr );
aParagraphElement.setAttribute( 'visibility', 'inherit' );
this.aGraphicGroupElement.setAttribute( 'visibility', 'inherit' );
if( aBulletCharElem )
aBulletCharElem.setAttribute( 'visibility', 'hidden' );
for( i = 0; i < aBitmapCloneSet.length; ++i )
{
if( aBitmapElemSet[i] )
aBitmapElemSet[i].setAttribute( 'visibility', 'hidden' );
}


aTextElement.appendChild( aParagraphElement );
aAnimatableElement.appendChild( aTextElement );

if( aBulletCharClone )
this.aGraphicGroupElement.appendChild( aBulletCharClone );
for( i = 0; i < aBitmapCloneSet.length; ++i )
{
if( aBitmapCloneSet[i] )
this.aGraphicGroupElement.appendChild( aBitmapCloneSet[i] );
}
aAnimatableElement.appendChild( this.aGraphicGroupElement );
aAnimatedElementGroup.appendChild( aAnimatableElement );

this.aParentTextElement = aElement.parentNode;
this.aParagraphElement = aElement;
this.aAnimatedElementGroup = aAnimatedElementGroup;
this.nRunningAnimations = 0;

this.aHyperlinkIdSet = [];
var aHyperlinkElementSet = getElementsByClassName( this.aParagraphElement, 'UrlField' );
var sHyperlinkId;
for( i = 0; i < aHyperlinkElementSet.length; ++i )
{
sHyperlinkId = aHyperlinkElementSet[i].getAttribute( 'id' );
if( sHyperlinkId )
this.aHyperlinkIdSet.push( sHyperlinkId );
else
log( 'error: AnimatedTextElement constructor: hyperlink element has no id' );
}

AnimatedTextElement.superclass.constructor.call( this, aAnimatableElement, aEventMultiplexer );

}
extend( AnimatedTextElement, AnimatedElement );


AnimatedTextElement.prototype.setToElement = function( aElement )
{
var bRet = AnimatedTextElement.superclass.setToElement.call( this, aElement );
if( bRet )
{
this.aGraphicGroupElement = getElementByClassName( this.aActiveElement, 'GraphicGroup' );
}
return ( bRet && this.aGraphicGroupElement );
};

AnimatedTextElement.prototype.notifySlideStart = function( aSlideShowContext )
{
DBGLOG( 'AnimatedTextElement.notifySlideStart' );
AnimatedTextElement.superclass.notifySlideStart.call( this, aSlideShowContext );
this.aGraphicGroupElement = getElementByClassName( this.aActiveElement, 'GraphicGroup' );
this.restoreBaseTextParagraph();
};

AnimatedTextElement.prototype.notifySlideEnd = function()
{
DBGLOG( 'AnimatedTextElement.notifySlideEnd' );
this.aGraphicGroupElement.setAttribute( 'visibility', 'inherit' );
};

AnimatedTextElement.prototype.restoreBaseTextParagraph = function()
{
var aActiveParagraphElement = this.aActiveElement.firstElementChild.firstElementChild;
if( aActiveParagraphElement )
{
var sVisibilityAttr = this.aActiveElement.getAttribute( 'visibility' );
if( !sVisibilityAttr || ( sVisibilityAttr === 'visible' ) )
sVisibilityAttr = 'inherit';
if( sVisibilityAttr === 'inherit' )
this.aGraphicGroupElement.setAttribute( 'visibility', 'visible' );
else
this.aGraphicGroupElement.setAttribute( 'visibility', 'hidden' );

var aParagraphClone = aActiveParagraphElement.cloneNode( true );
aParagraphClone.setAttribute( 'id', this.sParagraphId );
aParagraphClone.setAttribute( 'visibility', sVisibilityAttr );
this.aParentTextElement.replaceChild( aParagraphClone, this.aParagraphElement );
this.aParagraphElement = aParagraphClone;


var aEventMultiplexer = this.aSlideShowContext.aEventMultiplexer;
var aHyperlinkIdSet = this.aHyperlinkIdSet;
var aHyperlinkElementSet = getElementsByClassName( this.aParagraphElement, 'UrlField' );
var i = 0;
for( ; i < aHyperlinkIdSet.length; ++i )
{
aEventMultiplexer.notifyElementChangedEvent( aHyperlinkIdSet[i], aHyperlinkElementSet[i] );
}
}
this.aActiveElement.setAttribute( 'visibility', 'hidden' );
};

AnimatedTextElement.prototype.notifyAnimationStart = function()
{
DBGLOG( 'AnimatedTextElement.notifyAnimationStart' );
if( this.nRunningAnimations === 0 )
{
var sVisibilityAttr = this.aParagraphElement.getAttribute( 'visibility' );
if( !sVisibilityAttr )
sVisibilityAttr = 'inherit';
this.aActiveElement.setAttribute( 'visibility', sVisibilityAttr );
this.aGraphicGroupElement.setAttribute( 'visibility', 'inherit' );
this.aParagraphElement.setAttribute( 'visibility', 'hidden' );
}
++this.nRunningAnimations;
};

AnimatedTextElement.prototype.notifyAnimationEnd = function()
{
DBGLOG( 'AnimatedTextElement.notifyAnimationEnd' );
--this.nRunningAnimations;
if( this.nRunningAnimations === 0 )
{
this.restoreBaseTextParagraph();
}
};

AnimatedTextElement.prototype.saveState = function( nAnimationNodeId )
{
if( this.nRunningAnimations === 0 )
{
var sVisibilityAttr = this.aParagraphElement.getAttribute( 'visibility' );
this.aActiveElement.setAttribute( 'visibility', sVisibilityAttr );
this.aGraphicGroupElement.setAttribute( 'visibility', 'inherit' );
}
AnimatedTextElement.superclass.saveState.call( this, nAnimationNodeId );
};

AnimatedTextElement.prototype.restoreState = function( nAnimationNodeId )
{
var bRet = AnimatedTextElement.superclass.restoreState.call( this, nAnimationNodeId );
if( bRet )
this.restoreBaseTextParagraph();
return bRet;
};


function SlideTransition( aAnimationsRootElement, aSlideId )
{
this.sSlideId = aSlideId;
this.bIsValid = false;
this.eTransitionType = undefined;
this.eTransitionSubType = undefined;
this.bReverseDirection = false;
this.eTransitionMode = TRANSITION_MODE_IN;
this.sFadeColor = null;
this.aDuration = null;
this.nMinFrameCount = undefined;

if( aAnimationsRootElement )
{
if( aAnimationsRootElement.firstElementChild &&
( aAnimationsRootElement.firstElementChild.getAttributeNS( NSS['smil'], 'begin' ) === (this.sSlideId + '.begin') ) )
{
var aTransitionFilterElement = aAnimationsRootElement.firstElementChild.firstElementChild;
if( aTransitionFilterElement && ( aTransitionFilterElement.localName === 'transitionFilter' ) )
{
this.aElement = aTransitionFilterElement;
this.parseElement();
}
aAnimationsRootElement.removeChild( aAnimationsRootElement.firstElementChild );
}
}
}

SlideTransition.prototype.createSlideTransition = function( aLeavingSlide, aEnteringSlide )
{
if( !this.isValid() )
return null;
if( this.eTransitionType == 0 )
return null;

if( !aEnteringSlide )
{
log( 'SlideTransition.createSlideTransition: invalid entering slide.' );
return null;
}

var aTransitionInfo = aTransitionInfoTable[this.eTransitionType][this.eTransitionSubType];
var eTransitionClass = aTransitionInfo['class'];

switch( eTransitionClass )
{
default:
case TRANSITION_INVALID:
log( 'SlideTransition.createSlideTransition: transition class: TRANSITION_INVALID' );
return null;

case TRANSITION_CLIP_POLYPOLYGON:
var aParametricPolyPolygon
= createClipPolyPolygon( this.eTransitionType, this.eTransitionSubType );
return new ClippedSlideChange( aLeavingSlide, aEnteringSlide, aParametricPolyPolygon,
aTransitionInfo, this.isDirectionForward() );

case TRANSITION_SPECIAL:
switch( this.eTransitionType )
{
default:
log( 'SlideTransition.createSlideTransition: ' +
'transition class: TRANSITION_SPECIAL, ' +
'unknown transition type: ' + this.eTransitionType );
return null;

case PUSHWIPE_TRANSITION:
{
var aDirection = null;
switch( this.eTransitionSubType )
{
default:
log( 'SlideTransition.createSlideTransition: ' +
'transition type: PUSHWIPE_TRANSITION, ' +
'unknown transition subtype: ' + this.eTransitionSubType );
return null;
case FROMTOP_TRANS_SUBTYPE:
aDirection = { x: 0.0, y: 1.0 };
break;
case FROMBOTTOM_TRANS_SUBTYPE:
aDirection = { x: 0.0, y: -1.0 };
break;
case FROMLEFT_TRANS_SUBTYPE:
aDirection = { x: 1.0, y: 0.0 };
break;
case FROMRIGHT_TRANS_SUBTYPE:
aDirection = { x: -1.0, y: 0.0 };
break;
}
return new MovingSlideChange( aLeavingSlide, aEnteringSlide, aDirection, aDirection );
}

case SLIDEWIPE_TRANSITION:
{
var aInDirection = null;
switch( this.eTransitionSubType )
{
default:
log( 'SlideTransition.createSlideTransition: ' +
'transition type: SLIDEWIPE_TRANSITION, ' +
'unknown transition subtype: ' + this.eTransitionSubType );
return null;
case FROMTOP_TRANS_SUBTYPE:
aInDirection = { x: 0.0, y: 1.0 };
break;
case FROMBOTTOM_TRANS_SUBTYPE:
aInDirection = { x: 0.0, y: -1.0 };
break;
case FROMLEFT_TRANS_SUBTYPE:
aInDirection = { x: 1.0, y: 0.0 };
break;
case FROMRIGHT_TRANS_SUBTYPE:
aInDirection = { x: -1.0, y: 0.0 };
break;
}
var aNoDirection = { x: 0.0, y: 0.0 };
if( !this.bReverseDirection )
{
return new MovingSlideChange( aLeavingSlide, aEnteringSlide, aNoDirection, aInDirection );
}
else
{
return new MovingSlideChange( aLeavingSlide, aEnteringSlide, aInDirection, aNoDirection );
}
}

case FADE_TRANSITION:
switch( this.eTransitionSubType )
{
default:
log( 'SlideTransition.createSlideTransition: ' +
'transition type: FADE_TRANSITION, ' +
'unknown transition subtype: ' + this.eTransitionSubType );
return null;
case CROSSFADE_TRANS_SUBTYPE:
return new FadingSlideChange( aLeavingSlide, aEnteringSlide );
case FADEOVERCOLOR_TRANS_SUBTYPE:
return new FadingOverColorSlideChange( aLeavingSlide, aEnteringSlide, this.getFadeColor() );
}
}
}
};

SlideTransition.prototype.parseElement = function()
{
this.bIsValid = true;
var aAnimElem = this.aElement;

this.eTransitionType = undefined;
var sTypeAttr = aAnimElem.getAttributeNS( NSS['smil'], 'type' );
if( sTypeAttr && aTransitionTypeInMap[ sTypeAttr ] )
{
this.eTransitionType = aTransitionTypeInMap[ sTypeAttr ];
}
else
{
this.bIsValid = false;
log( 'SlideTransition.parseElement: transition type not valid: ' + sTypeAttr );
}

this.eTransitionSubType = undefined;
var sSubTypeAttr = aAnimElem.getAttributeNS( NSS['smil'], 'subtype' );
if( sSubTypeAttr === null )
sSubTypeAttr = 'default';
if( sSubTypeAttr && ( aTransitionSubtypeInMap[ sSubTypeAttr ] !== undefined ) )
{
this.eTransitionSubType = aTransitionSubtypeInMap[ sSubTypeAttr ];
}
else
{
this.bIsValid = false;
log( 'SlideTransition.parseElement: transition subtype not valid: ' + sSubTypeAttr );
}

if( this.bIsValid && aTransitionInfoTable[this.eTransitionType][this.eTransitionSubType] === undefined )
{
this.bIsValid = false;
log( 'SlideTransition.parseElement: transition not valid: type: ' + sTypeAttr + ' subtype: ' + sSubTypeAttr );
}

this.bReverseDirection = false;
var sDirectionAttr = aAnimElem.getAttributeNS( NSS['smil'], 'direction' );
if( sDirectionAttr == 'reverse' )
this.bReverseDirection = true;

this.sFadeColor = null;
if( this.eTransitionType == FADE_TRANSITION &&
( this.eTransitionSubType == FADEFROMCOLOR_TRANS_SUBTYPE ||
this.eTransitionSubType == FADEOVERCOLOR_TRANS_SUBTYPE ||
this.eTransitionSubType == FADETOCOLOR_TRANS_SUBTYPE ) )
{
var sColorAttr = aAnimElem.getAttributeNS( NSS['smil'], 'fadeColor' );
if( sColorAttr )
this.sFadeColor = sColorAttr;
else
this.sFadeColor='#000000';
}


this.aDuration = null;
var sDurAttr = aAnimElem.getAttributeNS( NSS['smil'], 'dur' );
this.aDuration = new Duration( sDurAttr );
if( !this.aDuration.isSet() )
{
this.aDuration = new Duration( null ); // duration == 0.0
}

this.nMinFrameCount = ( this.getDuration().isValue() )
? ( this.getDuration().getValue() * MINIMUM_FRAMES_PER_SECONDS )
: MINIMUM_FRAMES_PER_SECONDS;
if( this.nMinFrameCount < 1.0 )
this.nMinFrameCount = 1;
else if( this.nMinFrameCount > MINIMUM_FRAMES_PER_SECONDS )
this.nMinFrameCount = MINIMUM_FRAMES_PER_SECONDS;

};

SlideTransition.prototype.isValid = function()
{
return this.bIsValid;
};

SlideTransition.prototype.getTransitionType = function()
{
return this.eTransitionType;
};

SlideTransition.prototype.getTransitionSubType = function()
{
return this.eTransitionSubType;
};

SlideTransition.prototype.getTransitionMode = function()
{
return this.eTransitionMode;
};

SlideTransition.prototype.getFadeColor = function()
{
return this.sFadeColor;
};

SlideTransition.prototype.isDirectionForward = function()
{
return !this.bReverseDirection;
};

SlideTransition.prototype.getDuration = function()
{
return this.aDuration;
};

SlideTransition.prototype.getMinFrameCount = function()
{
return this.nMinFrameCount;
};

SlideTransition.prototype.info = function()
{

var sInfo ='slide transition <' + this.sSlideId + '>: ';
sInfo += ';  type: ' + getKeyByValue(aTransitionTypeInMap, this.getTransitionType());

sInfo += ';  subtype: ' + getKeyByValue(aTransitionSubtypeInMap, this.getTransitionSubType());

if( !this.isDirectionForward() )
sInfo += ';  direction: reverse';

sInfo += '; mode: ' + aTransitionModeOutMap[ this.getTransitionMode() ];

if( this.getDuration() )
sInfo += '; duration: ' + this.getDuration().info();

return sInfo;
};


function SlideAnimations( aSlideShowContext )
{
this.aContext = new NodeContext( aSlideShowContext );
this.aAnimationNodeMap = {};
this.aAnimatedElementMap = {};
this.aSourceEventElementMap = {};
this.aNextEffectEventArray = new NextEffectEventArray();
this.aInteractiveAnimationSequenceMap = {};
this.aEventMultiplexer = new EventMultiplexer( aSlideShowContext.aTimerEventQueue );
this.aRootNode = null;
this.bElementsParsed = false;

this.aContext.aAnimationNodeMap = this.aAnimationNodeMap;
this.aContext.aAnimatedElementMap = this.aAnimatedElementMap;
this.aContext.aSourceEventElementMap = this.aSourceEventElementMap;

this.aEventMultiplexer.registerMouseClickHandler( document, 100 );
}


SlideAnimations.prototype.importAnimations = function( aAnimationRootElement )
{
if( !aAnimationRootElement )
return false;

this.aRootNode = createAnimationTree( aAnimationRootElement, this.aContext );

return ( this.aRootNode ? true : false );
};

SlideAnimations.prototype.parseElements = function()
{
if( !this.aRootNode )
return false;

if( !this.aRootNode.parseElement() )
return false;
else
this.bElementsParsed = true;
};

SlideAnimations.prototype.elementsParsed = function()
{
return this.bElementsParsed;
};

SlideAnimations.prototype.isFirstRun = function()
{
return this.aContext.bFirstRun;
};

SlideAnimations.prototype.isAnimated = function()
{
if( !this.bElementsParsed )
return false;

return this.aRootNode.hasPendingAnimation();
};

SlideAnimations.prototype.start = function()
{
if( !this.bElementsParsed )
return false;

this.chargeSourceEvents();
this.chargeInterAnimEvents();

aSlideShow.setSlideEvents( this.aNextEffectEventArray,
this.aInteractiveAnimationSequenceMap,
this.aEventMultiplexer );

if( this.aContext.bFirstRun == undefined )
this.aContext.bFirstRun = true;
else if( this.aContext.bFirstRun )
this.aContext.bFirstRun = false;

if( !this.aRootNode.init() )
return false;

return this.aRootNode.resolve();
};

SlideAnimations.prototype.end = function( bLeftEffectsSkipped )
{
if( !this.bElementsParsed )
return; // no animations there

this.aRootNode.deactivate();
this.aRootNode.end();

if( bLeftEffectsSkipped && this.isFirstRun() )
{
this.aContext.bFirstRun = undefined;
}
else if( this.isFirstRun() )
{
this.aContext.bFirstRun = false;
}

};

SlideAnimations.prototype.dispose = function()
{
if( this.aRootNode )
{
this.aRootNode.dispose();
}
};

SlideAnimations.prototype.clearNextEffectEvents = function()
{
ANIMDBG.print( 'SlideAnimations.clearNextEffectEvents: current slide: ' + nCurSlide );
this.aNextEffectEventArray.clear();
this.aContext.bFirstRun = undefined;
};

SlideAnimations.prototype.chargeSourceEvents = function()
{
for( var id in this.aSourceEventElementMap )
{
this.aSourceEventElementMap[id].charge();
}
};

SlideAnimations.prototype.chargeInterAnimEvents = function()
{
for( var id in this.aInteractiveAnimationSequenceMap )
{
this.aInteractiveAnimationSequenceMap[id].chargeEvents();
}
};


function Event()
{
this.nId = Event.getUniqueId();
}


Event.CURR_UNIQUE_ID = 0;

Event.getUniqueId = function()
{
++Event.CURR_UNIQUE_ID;
return Event.CURR_UNIQUE_ID;
};

Event.prototype.getId = function()
{
return this.nId;
};


function DelayEvent( aFunctor, nTimeout )
{
DelayEvent.superclass.constructor.call( this );

this.aFunctor = aFunctor;
this.nTimeout = nTimeout;
this.bWasFired = false;
}
extend( DelayEvent, Event );


DelayEvent.prototype.fire = function()
{
assert( this.isCharged(), 'DelayEvent.fire: assertion isCharged failed' );

this.bWasFired = true;
this.aFunctor();
return true;
};

DelayEvent.prototype.isCharged = function()
{
return !this.bWasFired;
};

DelayEvent.prototype.getActivationTime = function( nCurrentTime )
{
return ( this.nTimeout + nCurrentTime );
};

DelayEvent.prototype.dispose = function()
{
if( this.isCharged() )
this.bWasFired = true;
};

DelayEvent.prototype.charge = function()
{
if( !this.isCharged() )
this.bWasFired = false;
};


function WakeupEvent( aTimer, aActivityQueue )
{
WakeupEvent.superclass.constructor.call( this );

this.aTimer = new ElapsedTime( aTimer );
this.nNextTime = 0.0;
this.aActivity = null;
this.aActivityQueue = aActivityQueue;
}
extend( WakeupEvent, Event );


WakeupEvent.prototype.clone = function()
{
var aWakeupEvent = new WakeupEvent( this.aTimer.getTimeBase(), this.aActivityQueue );
aWakeupEvent.nNextTime = this.nNextTime;
aWakeupEvent.aActivity = this.aActivity;
return aWakeupEvent;
};

WakeupEvent.prototype.dispose = function()
{
this.aActivity = null;
};

WakeupEvent.prototype.fire = function()
{
if( !this.aActivity )
return false;

return this.aActivityQueue.addActivity( this.aActivity );
};

WakeupEvent.prototype.isCharged = function()
{
return true;
};

WakeupEvent.prototype.getActivationTime = function( nCurrentTime )
{
var nElapsedTime = this.aTimer.getElapsedTime();

return Math.max( nCurrentTime, nCurrentTime - nElapsedTime + this.nNextTime );
};

WakeupEvent.prototype.start = function()
{
this.aTimer.reset();
};

WakeupEvent.prototype.setNextTimeout = function( nNextTime )
{
this.nNextTime = nNextTime;
};

WakeupEvent.prototype.setActivity = function( aActivity )
{
this.aActivity = aActivity;
};


function makeEvent( aFunctor )
{
return new DelayEvent( aFunctor, 0.0 );
}


function makeDelay( aFunctor, nTimeout )
{
return new DelayEvent( aFunctor, nTimeout );
}


function registerEvent( nNodeId, aTiming, aEvent, aNodeContext )
{
var aSlideShowContext = aNodeContext.aContext;
var eTimingType = aTiming.getType();

registerEvent.DBG( aTiming );

if( eTimingType == OFFSET_TIMING )
{
aSlideShowContext.aTimerEventQueue.addEvent( aEvent );
}
else if ( aNodeContext.bFirstRun )
{
var aEventMultiplexer = aSlideShowContext.aEventMultiplexer;
if( !aEventMultiplexer )
{
log( 'registerEvent: event multiplexer not initialized' );
return;
}
var aNextEffectEventArray = aSlideShowContext.aNextEffectEventArray;
if( !aNextEffectEventArray )
{
log( 'registerEvent: next effect event array not initialized' );
return;
}
var aInteractiveAnimationSequenceMap =
aSlideShowContext.aInteractiveAnimationSequenceMap;
if( !aInteractiveAnimationSequenceMap )
{
log( 'registerEvent: interactive animation sequence map not initialized' );
return;
}

switch( eTimingType )
{
case EVENT_TIMING:
var eEventType = aTiming.getEventType();
var sEventBaseElemId = aTiming.getEventBaseElementId();
if( sEventBaseElemId )
{
var aEventBaseElem = document.getElementById( sEventBaseElemId );
if( !aEventBaseElem )
{
log( 'generateEvent: EVENT_TIMING: event base element not found: ' + sEventBaseElemId );
return;
}
var aSourceEventElement = aNodeContext.makeSourceEventElement( sEventBaseElemId, aEventBaseElem );

if( !aInteractiveAnimationSequenceMap[ nNodeId ] )
{
aInteractiveAnimationSequenceMap[ nNodeId ] = new InteractiveAnimationSequence(nNodeId);
}

var bEventRegistered = false;
switch( eEventType )
{
case EVENT_TRIGGER_ON_CLICK:
aEventMultiplexer.registerEvent( eEventType, aSourceEventElement.getId(), aEvent );
aEventMultiplexer.registerRewindedEffectHandler( aSourceEventElement.getId(),
bind2( aSourceEventElement.charge, aSourceEventElement ) );
bEventRegistered = true;
break;
default:
log( 'generateEvent: not handled event type: ' + eEventType );
}
if( bEventRegistered )
{
var aStartEvent = aInteractiveAnimationSequenceMap[ nNodeId ].getStartEvent();
var aEndEvent = aInteractiveAnimationSequenceMap[ nNodeId ].getEndEvent();
aEventMultiplexer.registerEvent( eEventType, aSourceEventElement.getId(), aStartEvent );
aEventMultiplexer.registerEvent( EVENT_TRIGGER_END_EVENT, nNodeId, aEndEvent );
aEventMultiplexer.registerRewindedEffectHandler(
nNodeId,
bind2( InteractiveAnimationSequence.prototype.chargeEvents,
aInteractiveAnimationSequenceMap[ nNodeId ] )
);
}
}
else  // no base event element present
{
switch( eEventType )
{
case EVENT_TRIGGER_ON_NEXT_EFFECT:
aNextEffectEventArray.appendEvent( aEvent );
break;
default:
log( 'generateEvent: not handled event type: ' + eEventType );
}
}
break;
case SYNCBASE_TIMING:
eEventType = aTiming.getEventType();
sEventBaseElemId = aTiming.getEventBaseElementId();
if( sEventBaseElemId )
{
var aAnimationNode = aNodeContext.aAnimationNodeMap[ sEventBaseElemId ];
if( !aAnimationNode )
{
log( 'generateEvent: SYNCBASE_TIMING: event base element not found: ' + sEventBaseElemId );
return;
}
aEventMultiplexer.registerEvent( eEventType, aAnimationNode.getId(), aEvent );
}
else
{
log( 'generateEvent: SYNCBASE_TIMING: event base element not specified' );
}
break;
default:
log( 'generateEvent: not handled timing type: ' + eTimingType );
}
}
}

registerEvent.DEBUG = aRegisterEventDebugPrinter.isEnabled();

registerEvent.DBG = function( aTiming, nTime )
{
if( registerEvent.DEBUG )
{
aRegisterEventDebugPrinter.print( 'registerEvent( timing: ' + aTiming.info() + ' )', nTime );
}
};


function SourceEventElement( sId, aElement, aEventMultiplexer )
{
this.sId = sId;
this.aElement = aElement;
this.aEventMultiplexer = aEventMultiplexer;

this.aEventMultiplexer.registerMouseClickHandler( this, 1000 );

this.bClickHandled = false;
this.bIsPointerOver = false;
this.aElement.addEventListener( 'mouseover', bind2( SourceEventElement.prototype.onMouseEnter, this), false );
this.aElement.addEventListener( 'mouseout', bind2( SourceEventElement.prototype.onMouseLeave, this), false );
}

SourceEventElement.prototype.getId = function()
{
return this.sId;
};

SourceEventElement.prototype.onMouseEnter = function()
{
this.bIsPointerOver = true;
this.setPointerCursor();
};

SourceEventElement.prototype.onMouseLeave = function()
{
this.bIsPointerOver = false;
this.setDefaultCursor();
};

SourceEventElement.prototype.charge = function()
{
this.bClickHandled = false;
this.setPointerCursor();
};

SourceEventElement.prototype.handleClick = function( /*aMouseEvent*/ )
{
if( !this.bIsPointerOver ) return false;

if( this.bClickHandled )
return false;

this.aEventMultiplexer.notifyEvent( EVENT_TRIGGER_ON_CLICK, this.getId() );
aSlideShow.update();
this.bClickHandled = true;
this.setDefaultCursor();
return true;
};

SourceEventElement.prototype.setPointerCursor = function()
{
if( this.bClickHandled )
return;

this.aElement.setAttribute( 'style', 'cursor: pointer' );
};

SourceEventElement.prototype.setDefaultCursor = function()
{
this.aElement.setAttribute( 'style', 'cursor: default' );
};


function HyperlinkElement( sId, aEventMultiplexer )
{
var aElement = document.getElementById( sId );
if( !aElement )
{
log( 'error: HyperlinkElement: no element with id: <' + sId + '> found' );
return;
}
if( !aEventMultiplexer )
{
log( 'AnimatedElement constructor: event multiplexer is not valid' );
}

this.sId = sId;
this.aElement = aElement;
this.aEventMultiplexer = aEventMultiplexer;
this.nTargetSlideIndex = undefined;

this.sURL = getNSAttribute( 'xlink', this.aElement, 'href' );
if( this.sURL )
{
if( this.sURL[0] === '#' )
{
if( this.sURL.substr(1, 5) === 'Slide' )
{
var sSlideIndex = this.sURL.split( ' ' )[1];
this.nTargetSlideIndex = parseInt( sSlideIndex ) - 1;
}
}

this.aEventMultiplexer.registerElementChangedHandler( this.sId, bind2( HyperlinkElement.prototype.onElementChanged, this) );
this.aEventMultiplexer.registerMouseClickHandler( this, 1100 );

this.bIsPointerOver = false;
this.mouseEnterHandler = bind2( HyperlinkElement.prototype.onMouseEnter, this);
this.mouseLeaveHandler = bind2( HyperlinkElement.prototype.onMouseLeave, this);
this.aElement.addEventListener( 'mouseover', this.mouseEnterHandler, false );
this.aElement.addEventListener( 'mouseout', this.mouseLeaveHandler, false );
}
else
{
log( 'warning: HyperlinkElement(' + this.sId + '): url is empty' );
}
}

HyperlinkElement.prototype.onElementChanged = function( aElement )
{
if( !aElement )
{
log( 'error: HyperlinkElement: passed element is not valid' );
return;
}

if( this.sURL )
{
this.aElement.removeEventListener( 'mouseover', this.mouseEnterHandler, false );
this.aElement.removeEventListener( 'mouseout', this.mouseLeaveHandler, false );
this.aElement = aElement;
this.aElement.addEventListener( 'mouseover', this.mouseEnterHandler, false );
this.aElement.addEventListener( 'mouseout', this.mouseLeaveHandler, false );
}
};

HyperlinkElement.prototype.onMouseEnter = function()
{
this.bIsPointerOver = true;
this.setPointerCursor();
};

HyperlinkElement.prototype.onMouseLeave = function()
{
this.bIsPointerOver = false;
this.setDefaultCursor();
};

HyperlinkElement.prototype.handleClick = function( )
{
if( !this.bIsPointerOver ) return false;

if( this.nTargetSlideIndex !== undefined )
{
aSlideShow.displaySlide( this.nTargetSlideIndex, true );
}
else
{
var aWindowObject = document.defaultView;
if( aWindowObject )
{
aWindowObject.open( this.sURL, this.sId );
}
else
{
log( 'error: HyperlinkElement.handleClick: invalid window object.' );
}
}

return true;
};

HyperlinkElement.prototype.setPointerCursor = function()
{
if( this.bClickHandled )
return;

this.aElement.setAttribute( 'style', 'cursor: pointer' );
};

HyperlinkElement.prototype.setDefaultCursor = function()
{
this.aElement.setAttribute( 'style', 'cursor: default' );
};


function InteractiveAnimationSequence( nId )
{
this.nId = nId;
this.bIsRunning = false;
this.aStartEvent = null;
this.aEndEvent = null;
}

InteractiveAnimationSequence.prototype.getId = function()
{
return this.nId;
};

InteractiveAnimationSequence.prototype.getStartEvent = function()
{
if( !this.aStartEvent )
{
this.aStartEvent =
makeEvent( bind2( InteractiveAnimationSequence.prototype.start, this ) );
}
return this.aStartEvent;
};

InteractiveAnimationSequence.prototype.getEndEvent = function()
{
if( !this.aEndEvent )
{
this.aEndEvent =
makeEvent( bind2( InteractiveAnimationSequence.prototype.end, this ) );
}
return this.aEndEvent;
};

InteractiveAnimationSequence.prototype.chargeEvents = function()
{
if( this.aStartEvent )      this.aStartEvent.charge();
if( this.aEndEvent )        this.aEndEvent.charge();
};

InteractiveAnimationSequence.prototype.isRunning = function()
{
return this.bIsRunning;
};

InteractiveAnimationSequence.prototype.start = function()
{
aSlideShow.notifyInteractiveAnimationSequenceStart( this.getId() );
this.bIsRunning = true;
};

InteractiveAnimationSequence.prototype.end = function()
{
aSlideShow.notifyInteractiveAnimationSequenceEnd( this.getId() );
this.bIsRunning = false;
};


function PriorityEntry( aValue, nPriority )
{
this.aValue = aValue;
this.nPriority = nPriority;
}

PriorityEntry.compare = function( aLhsEntry, aRhsEntry )
{
if ( aLhsEntry.nPriority < aRhsEntry.nPriority )
{
return -1;
}
else if (aLhsEntry.nPriority > aRhsEntry.nPriority)
{
return 1;
}
else
{
return 0;
}
};


function EventMultiplexer( aTimerEventQueue )
{
this.nId = EventMultiplexer.getUniqueId();
this.aTimerEventQueue = aTimerEventQueue;
this.aEventMap = {};
this.aSkipEffectEndHandlerSet = [];
this.aMouseClickHandlerSet = new PriorityQueue( PriorityEntry.compare );
this.aSkipEffectEvent = null;
this.aRewindCurrentEffectEvent = null;
this.aRewindLastEffectEvent = null;
this.aSkipInteractiveEffectEventSet = {};
this.aRewindRunningInteractiveEffectEventSet = {};
this.aRewindEndedInteractiveEffectEventSet = {};
this.aRewindedEffectHandlerSet = {};
this.aElementChangedHandlerSet = {};
}

EventMultiplexer.CURR_UNIQUE_ID = 0;

EventMultiplexer.getUniqueId = function()
{
++EventMultiplexer.CURR_UNIQUE_ID;
return EventMultiplexer.CURR_UNIQUE_ID;
};

EventMultiplexer.prototype.getId = function()
{
return this.nId;
};

EventMultiplexer.prototype.hasRegisteredMouseClickHandlers = function()
{
return !this.aMouseClickHandlerSet.isEmpty();
};

EventMultiplexer.prototype.registerMouseClickHandler = function( aHandler, nPriority )
{
var aHandlerEntry = new PriorityEntry( aHandler, nPriority );
this.aMouseClickHandlerSet.push( aHandlerEntry );
};

EventMultiplexer.prototype.notifyMouseClick = function( aMouseEvent )
{
var aMouseClickHandlerSet = this.aMouseClickHandlerSet.clone();
while( !aMouseClickHandlerSet.isEmpty() )
{
var aHandlerEntry = aMouseClickHandlerSet.top();
aMouseClickHandlerSet.pop();
if( aHandlerEntry.aValue.handleClick( aMouseEvent ) )
break;
}
};

EventMultiplexer.prototype.registerEvent = function( eEventType, aNotifierId, aEvent )
{
this.DBG( 'registerEvent', eEventType, aNotifierId );
if( !this.aEventMap[ eEventType ] )
{
this.aEventMap[ eEventType ] = {};
}
if( !this.aEventMap[ eEventType ][ aNotifierId ] )
{
this.aEventMap[ eEventType ][ aNotifierId ] = [];
}
this.aEventMap[ eEventType ][ aNotifierId ].push( aEvent );
};


EventMultiplexer.prototype.notifyEvent = function( eEventType, aNotifierId )
{
this.DBG( 'notifyEvent', eEventType, aNotifierId );
if( this.aEventMap[ eEventType ] )
{
if( this.aEventMap[ eEventType ][ aNotifierId ] )
{
var aEventArray = this.aEventMap[ eEventType ][ aNotifierId ];
var nSize = aEventArray.length;
for( var i = 0; i < nSize; ++i )
{
this.aTimerEventQueue.addEvent( aEventArray[i] );
}
}
}
};

EventMultiplexer.prototype.registerNextEffectEndHandler = function( aHandler )
{
this.aSkipEffectEndHandlerSet.push( aHandler );
};

EventMultiplexer.prototype.notifyNextEffectEndEvent = function()
{
var nSize = this.aSkipEffectEndHandlerSet.length;
for( var i = 0; i < nSize; ++i )
{
(this.aSkipEffectEndHandlerSet[i])();
}
this.aSkipEffectEndHandlerSet = [];
};

EventMultiplexer.prototype.registerSkipEffectEvent = function( aEvent )
{
this.aSkipEffectEvent = aEvent;
};

EventMultiplexer.prototype.notifySkipEffectEvent = function()
{
if( this.aSkipEffectEvent )
{
this.aTimerEventQueue.addEvent( this.aSkipEffectEvent );
this.aSkipEffectEvent = null;
}
};

EventMultiplexer.prototype.registerRewindCurrentEffectEvent = function( aEvent )
{
this.aRewindCurrentEffectEvent = aEvent;
};

EventMultiplexer.prototype.notifyRewindCurrentEffectEvent = function()
{
if( this.aRewindCurrentEffectEvent )
{
this.aTimerEventQueue.addEvent( this.aRewindCurrentEffectEvent );
this.aRewindCurrentEffectEvent = null;
}
};

EventMultiplexer.prototype.registerRewindLastEffectEvent = function( aEvent )
{
this.aRewindLastEffectEvent = aEvent;
};

EventMultiplexer.prototype.notifyRewindLastEffectEvent = function()
{
if( this.aRewindLastEffectEvent )
{
this.aTimerEventQueue.addEvent( this.aRewindLastEffectEvent );
this.aRewindLastEffectEvent = null;
}
};

EventMultiplexer.prototype.registerSkipInteractiveEffectEvent = function( nNotifierId, aEvent )
{
this.aSkipInteractiveEffectEventSet[ nNotifierId ] = aEvent;
};

EventMultiplexer.prototype.notifySkipInteractiveEffectEvent = function( nNotifierId )
{
if( this.aSkipInteractiveEffectEventSet[ nNotifierId ] )
{
this.aTimerEventQueue.addEvent( this.aSkipInteractiveEffectEventSet[ nNotifierId ] );
}
};

EventMultiplexer.prototype.registerRewindRunningInteractiveEffectEvent = function( nNotifierId, aEvent )
{
this.aRewindRunningInteractiveEffectEventSet[ nNotifierId ] = aEvent;
};

EventMultiplexer.prototype.notifyRewindRunningInteractiveEffectEvent = function( nNotifierId )
{
if( this.aRewindRunningInteractiveEffectEventSet[ nNotifierId ] )
{
this.aTimerEventQueue.addEvent( this.aRewindRunningInteractiveEffectEventSet[ nNotifierId ] );
}
};

EventMultiplexer.prototype.registerRewindEndedInteractiveEffectEvent = function( nNotifierId, aEvent )
{
this.aRewindEndedInteractiveEffectEventSet[ nNotifierId ] = aEvent;
};

EventMultiplexer.prototype.notifyRewindEndedInteractiveEffectEvent = function( nNotifierId )
{
if( this.aRewindEndedInteractiveEffectEventSet[ nNotifierId ] )
{
this.aTimerEventQueue.addEvent( this.aRewindEndedInteractiveEffectEventSet[ nNotifierId ] );
}
};

EventMultiplexer.prototype.registerRewindedEffectHandler = function( aNotifierId, aHandler )
{
this.aRewindedEffectHandlerSet[ aNotifierId ] = aHandler;
};

EventMultiplexer.prototype.notifyRewindedEffectEvent = function( aNotifierId )
{
if( this.aRewindedEffectHandlerSet[ aNotifierId ] )
{
(this.aRewindedEffectHandlerSet[ aNotifierId ])();
}
};

EventMultiplexer.prototype.registerElementChangedHandler = function( aNotifierId, aHandler )
{
this.aElementChangedHandlerSet[ aNotifierId ] = aHandler;
};

EventMultiplexer.prototype.notifyElementChangedEvent = function( aNotifierId, aElement )
{
if( this.aElementChangedHandlerSet[ aNotifierId ] )
{
(this.aElementChangedHandlerSet[ aNotifierId ])( aElement );
}
};

EventMultiplexer.DEBUG = aEventMultiplexerDebugPrinter.isEnabled();

EventMultiplexer.prototype.DBG = function( sMethodName, eEventType, aNotifierId, nTime )
{
if( EventMultiplexer.DEBUG )
{
var sInfo = 'EventMultiplexer.' + sMethodName;
sInfo += '( type: ' + aEventTriggerOutMap[ eEventType ];
sInfo += ', notifier: ' + aNotifierId + ' )';
aEventMultiplexerDebugPrinter.print( sInfo, nTime );
}
};


var aInterpolatorHandler = {};

aInterpolatorHandler.getInterpolator = function( eCalcMode, eValueType, eValueSubtype )
{
var bHasSubtype = ( typeof( eValueSubtype ) === typeof( 0 ) );

if( !bHasSubtype && aInterpolatorHandler.aLerpFunctorMap[ eCalcMode ][ eValueType ] )
{
return aInterpolatorHandler.aLerpFunctorMap[ eCalcMode ][ eValueType ];
}
else if( bHasSubtype && aInterpolatorHandler.aLerpFunctorMap[ eCalcMode ][ eValueType ][ eValueSubtype ] )
{
return aInterpolatorHandler.aLerpFunctorMap[ eCalcMode ][ eValueType ][ eValueSubtype ];
}
else
{
log( 'aInterpolatorHandler.getInterpolator: not found any valid interpolator for calc mode '
+ aCalcModeOutMap[eCalcMode]  + ' and value type ' + aValueTypeOutMap[eValueType]  );
return null;
}
};

aInterpolatorHandler.aLerpFunctorMap = [];
aInterpolatorHandler.aLerpFunctorMap[ CALC_MODE_DISCRETE ] = [];
aInterpolatorHandler.aLerpFunctorMap[ CALC_MODE_LINEAR ] = [];


aInterpolatorHandler.aLerpFunctorMap[ CALC_MODE_LINEAR ][ NUMBER_PROPERTY ] =
function ( nFrom, nTo, nT )
{
return ( ( 1.0 - nT )* nFrom + nT * nTo );
};

aInterpolatorHandler.aLerpFunctorMap[ CALC_MODE_LINEAR ][ COLOR_PROPERTY ] = [];

aInterpolatorHandler.aLerpFunctorMap[ CALC_MODE_LINEAR ][ COLOR_PROPERTY ][ COLOR_SPACE_RGB ] =
function ( nFrom, nTo, nT )
{
return RGBColor.interpolate( nFrom, nTo, nT );
};

aInterpolatorHandler.aLerpFunctorMap[ CALC_MODE_LINEAR ][ COLOR_PROPERTY ][ COLOR_SPACE_HSL ] =
function ( bCCW  )
{
return  function ( nFrom, nTo, nT )
{
return HSLColor.interpolate( nFrom, nTo, nT, bCCW );
};
};


function KeyStopLerp( aValueList )
{
KeyStopLerp.validateInput( aValueList );

this.aKeyStopList = [];
this.nLastIndex = 0;
this.nKeyStopDistance = aValueList[1] - aValueList[0];
if( this.nKeyStopDistance <= 0 )
this.nKeyStopDistance = 0.001;

for( var i = 0; i < aValueList.length; ++i )
this.aKeyStopList.push( aValueList[i] );

this.nUpperBoundIndex = this.aKeyStopList.length - 2;
}


KeyStopLerp.validateInput = function( aValueList )
{
var nSize = aValueList.length;
assert( nSize > 1, 'KeyStopLerp.validateInput: key stop vector must have two entries or more' );

for( var i = 1; i < nSize; ++i )
{
if( aValueList[i-1] > aValueList[i] )
log( 'KeyStopLerp.validateInput: time vector is not sorted in ascending order!' );
}
};

KeyStopLerp.prototype.reset = function()
{
KeyStopLerp.validateInput( this.aKeyStopList );
this.nLastIndex = 0;
this.nKeyStopDistance = this.aKeyStopList[1] - this.aKeyStopList[0];
if( this.nKeyStopDistance <= 0 )
this.nKeyStopDistance = 0.001;

};

KeyStopLerp.prototype.lerp = function( nAlpha )
{
if( nAlpha > this.aKeyStopList[ this.nLastIndex + 1 ] )
{
do
{
var nIndex = this.nLastIndex + 1;
this.nLastIndex = clamp( nIndex, 0, this.nUpperBoundIndex );
this.nKeyStopDistance = this.aKeyStopList[ this.nLastIndex + 1 ] - this.aKeyStopList[ this.nLastIndex ];
}
while( ( this.nKeyStopDistance <= 0 ) && ( this.nLastIndex < this.nUpperBoundIndex ) );
}

var nRawLerp = ( nAlpha - this.aKeyStopList[ this.nLastIndex ] ) / this.nKeyStopDistance;

nRawLerp = clamp( nRawLerp, 0.0, 1.0 );

var aResult = {};
aResult.nIndex = this.nLastIndex;
aResult.nLerp = nRawLerp;

return aResult;
};

KeyStopLerp.prototype.lerp_ported = function( nAlpha )
{
if( ( this.aKeyStopList[ this.nLastIndex ] < nAlpha ) ||
( this.aKeyStopList[ this.nLastIndex + 1 ] >= nAlpha ) )
{
var i = 0;
for( ; i < this.aKeyStopList.length; ++i )
{
if( this.aKeyStopList[i] >= nAlpha )
break;
}
if( this.aKeyStopList[i] > nAlpha )
--i;
var nIndex = i - 1;
this.nLastIndex = clamp( nIndex, 0, this.aKeyStopList.length - 2 );
}

var nRawLerp = ( nAlpha - this.aKeyStopList[ this.nLastIndex ] ) /
( this.aKeyStopList[ this.nLastIndex+1 ] - this.aKeyStopList[ this.nLastIndex ] );

nRawLerp = clamp( nRawLerp, 0.0, 1.0 );

var aResult = {};
aResult.nIndex = this.nLastIndex;
aResult.nLerp = nRawLerp;

return aResult;
};


var aOperatorSetMap = [];

aOperatorSetMap[ NUMBER_PROPERTY ] = {};

aOperatorSetMap[ NUMBER_PROPERTY ].equal = function( a, b )
{
return ( a === b );
};

aOperatorSetMap[ NUMBER_PROPERTY ].add = function( a, b )
{
return ( a + b );
};

aOperatorSetMap[ NUMBER_PROPERTY ].scale = function( k, v )
{
return ( k * v );
};

aOperatorSetMap[ COLOR_PROPERTY ] = {};

aOperatorSetMap[ COLOR_PROPERTY ].equal = function( a, b )
{
return a.equal( b );
};

aOperatorSetMap[ COLOR_PROPERTY ].add = function( a, b )
{
var c = a.clone();
c.add( b );
return c;
};

aOperatorSetMap[ COLOR_PROPERTY ].scale = function( k, v )
{
var r = v.clone();
r.scale( k );
return r;
};

aOperatorSetMap[ ENUM_PROPERTY ] = {};

aOperatorSetMap[ ENUM_PROPERTY ].equal = function( a, b )
{
return ( a === b );
};

aOperatorSetMap[ ENUM_PROPERTY ].add = function( a )
{
return a;
};

aOperatorSetMap[ ENUM_PROPERTY ].scale = function( k, v )
{
return v;
};

aOperatorSetMap[ STRING_PROPERTY ] = aOperatorSetMap[ ENUM_PROPERTY ];

aOperatorSetMap[ BOOL_PROPERTY ] = aOperatorSetMap[ ENUM_PROPERTY ];


function ActivityParamSet()
{
this.aEndEvent = null;
this.aWakeupEvent = null;
this.aTimerEventQueue = null;
this.aActivityQueue = null;
this.nMinDuration = undefined;
this.nMinNumberOfFrames = MINIMUM_FRAMES_PER_SECONDS;
this.bAutoReverse = false;
this.nRepeatCount = 1.0;
this.nAccelerationFraction = 0.0;
this.nDecelerationFraction = 0.0;
this.nSlideWidth = undefined;
this.nSlideHeight = undefined;
this.aFormula = null;
this.aDiscreteTimes = [];
}


function AnimationActivity()
{
this.nId = AnimationActivity.getUniqueId();
}


AnimationActivity.CURR_UNIQUE_ID = 0;

AnimationActivity.getUniqueId = function()
{
++AnimationActivity.CURR_UNIQUE_ID;
return AnimationActivity.CURR_UNIQUE_ID;
};

AnimationActivity.prototype.getId = function()
{
return this.nId;
};


function SetActivity( aCommonParamSet, aAnimation, aToAttr  )
{
SetActivity.superclass.constructor.call( this );

this.aAnimation = aAnimation;
this.aTargetElement = null;
this.aEndEvent = aCommonParamSet.aEndEvent;
this.aTimerEventQueue = aCommonParamSet.aTimerEventQueue;
this.aToAttr = aToAttr;
this.bIsActive = true;
}
extend( SetActivity, AnimationActivity );


SetActivity.prototype.activate = function( aEndEvent )
{
this.aEndEvent = aEndEvent;
this.bIsActive = true;
};

SetActivity.prototype.dispose = function()
{
this.bIsActive = false;
if( this.aEndEvent && this.aEndEvent.isCharged() )
this.aEndEvent.dispose();
};

SetActivity.prototype.calcTimeLag = function()
{
return 0.0;
};

SetActivity.prototype.perform = function()
{
if( !this.isActive() )
return false;

this.bIsActive = false;

if( this.aAnimation && this.aTargetElement )
{
this.aAnimation.start( this.aTargetElement );
this.aAnimation.perform( this.aToAttr );
this.aAnimation.end();
}

if( this.aEndEvent )
this.aTimerEventQueue.addEvent( this.aEndEvent );

};

SetActivity.prototype.isActive = function()
{
return this.bIsActive;
};

SetActivity.prototype.dequeued = function()
{
};

SetActivity.prototype.end = function()
{
this.perform();
};

SetActivity.prototype.setTargets = function( aTargetElement )
{
assert( aTargetElement, 'SetActivity.setTargets: target element is not valid' );
this.aTargetElement = aTargetElement;
};


function ActivityBase( aCommonParamSet )
{
ActivityBase.superclass.constructor.call( this );

this.aTargetElement = null;
this.aEndEvent = aCommonParamSet.aEndEvent;
this.aTimerEventQueue = aCommonParamSet.aTimerEventQueue;
this.nRepeats = aCommonParamSet.nRepeatCount;
this.nAccelerationFraction = aCommonParamSet.nAccelerationFraction;
this.nDecelerationFraction = aCommonParamSet.nDecelerationFraction;
this.bAutoReverse = aCommonParamSet.bAutoReverse;

this.bFirstPerformCall = true;
this.bIsActive = true;

}
extend( ActivityBase, AnimationActivity );


ActivityBase.prototype.activate = function( aEndEvent )
{
this.aEndEvent = aEndEvent;
this.bFirstPerformCall = true;
this.bIsActive = true;
};

ActivityBase.prototype.dispose = function()
{
this.bIsActive = false;

if( this.aEndEvent )
this.aEndEvent.dispose();

this.aEndEvent = null;
};

ActivityBase.prototype.perform = function()
{
if( !this.isActive() )
return false; // no, early exit.

assert( !this.bFirstPerformCall, 'ActivityBase.perform: assertion (!this.FirstPerformCall) failed' );

return true;
};

ActivityBase.prototype.calcTimeLag = function()
{
if( this.isActive() && this.bFirstPerformCall )
{
this.bFirstPerformCall = false;

this.startAnimation();
}
return 0.0;
};

ActivityBase.prototype.isActive = function()
{
return this.bIsActive;
};

ActivityBase.prototype.isDisposed = function()
{
return ( !this.bIsActive && !this.aEndEvent );
};

ActivityBase.prototype.dequeued = function()
{
if( !this.isActive() )
this.endAnimation();
};

ActivityBase.prototype.setTargets = function( aTargetElement )
{
assert( aTargetElement, 'ActivityBase.setTargets: target element is not valid' );

this.aTargetElement = aTargetElement;
};

ActivityBase.prototype.startAnimation = function()
{
throw ( 'ActivityBase.startAnimation: abstract method invoked' );
};

ActivityBase.prototype.endAnimation = function()
{
throw ( 'ActivityBase.endAnimation: abstract method invoked' );
};

ActivityBase.prototype.endActivity = function()
{
this.bIsActive = false;

if( this.aEndEvent )
this.aTimerEventQueue.addEvent( this.aEndEvent );

this.aEndEvent = null;

};

ActivityBase.prototype.calcAcceleratedTime = function( nT )
{


nT = clamp( nT, 0.0, 1.0 );

if( ( this.nAccelerationFraction > 0.0 || this.nDecelerationFraction > 0.0 ) &&
( this.nAccelerationFraction + this.nDecelerationFraction <= 1.0 ) )
{
var nC = 1.0 - 0.5*this.nAccelerationFraction - 0.5*this.nDecelerationFraction;

var nTPrime = 0.0;

if( nT < this.nAccelerationFraction )
{
nTPrime += 0.5 * nT * nT / this.nAccelerationFraction; // partial first interval
}
else
{
nTPrime += 0.5 * this.nAccelerationFraction; // full first interval

if( nT <= ( 1.0 - this.nDecelerationFraction ) )
{
nTPrime += nT - this.nAccelerationFraction; // partial second interval
}
else
{
nTPrime += 1.0 - this.nAccelerationFraction - this.nDecelerationFraction; // full second interval

var nTRelative = nT - 1.0 + this.nDecelerationFraction;

nTPrime += nTRelative - 0.5*nTRelative*nTRelative / this.nDecelerationFraction;
}
}

nT = nTPrime / nC;

}
return nT;
};

ActivityBase.prototype.getEventQueue = function()
{
return this.aTimerEventQueue;
};

ActivityBase.prototype.getTargetElement = function()
{
return this.aTargetElement;
};

ActivityBase.prototype.isRepeatCountValid = function()
{
return !!this.nRepeats; // first ! convert to bool
};

ActivityBase.prototype.getRepeatCount = function()
{
return this.nRepeats;
};

ActivityBase.prototype.isAutoReverse = function()
{
return this.bAutoReverse;
};

ActivityBase.prototype.end = function()
{
if( !this.isActive() || this.isDisposed() )
return;

if( this.bFirstPerformCall )
{
this.bFirstPerformCall = false;
this.startAnimation();
}

this.performEnd();
this.endAnimation();
this.endActivity();
};

ActivityBase.prototype.performEnd = function()
{
throw ( 'ActivityBase.performEnd: abstract method invoked' );
};


function DiscreteActivityBase( aCommonParamSet )
{
DiscreteActivityBase.superclass.constructor.call( this, aCommonParamSet );

this.aOriginalWakeupEvent = aCommonParamSet.aWakeupEvent;
this.aOriginalWakeupEvent.setActivity( this );
this.aWakeupEvent = this.aOriginalWakeupEvent;
this.aWakeupEvent = aCommonParamSet.aWakeupEvent;
this.aDiscreteTimes = aCommonParamSet.aDiscreteTimes;
this.nMinSimpleDuration = aCommonParamSet.nMinDuration;
this.nCurrPerformCalls = 0;
}
extend( DiscreteActivityBase, ActivityBase );


DiscreteActivityBase.prototype.activate = function( aEndElement )
{
DiscreteActivityBase.superclass.activate.call( this, aEndElement );

this.aWakeupEvent = this.aOriginalWakeupEvent;
this.aWakeupEvent.setNextTimeout( 0 );
this.nCurrPerformCalls = 0;
};

DiscreteActivityBase.prototype.startAnimation = function()
{
this.aWakeupEvent.start();
};

DiscreteActivityBase.prototype.calcFrameIndex = function( nCurrCalls, nVectorSize )
{
if( this.isAutoReverse() )
{
var nFrameIndex = nCurrCalls % (2 * nVectorSize);

if( nFrameIndex >= nVectorSize )
nFrameIndex = 2*nVectorSize - nFrameIndex; // invert sweep

return nFrameIndex;
}
else
{
return nCurrCalls % nVectorSize;
}
};

DiscreteActivityBase.prototype.calcRepeatCount = function( nCurrCalls, nVectorSize )
{
if( this.isAutoReverse() )
{
return Math.floor( nCurrCalls / (2*nVectorSize) ); // we've got 2 cycles per repeat
}
else
{
return Math.floor( nCurrCalls / nVectorSize );
}
};

DiscreteActivityBase.prototype.performDiscreteHook = function( /*nFrame, nRepeatCount*/ )
{
throw ( 'DiscreteActivityBase.performDiscreteHook: abstract method invoked' );
};

DiscreteActivityBase.prototype.perform = function()
{
if( !SimpleContinuousActivityBase.superclass.perform.call( this ) )
return false; // done, we're ended

var nVectorSize = this.aDiscreteTimes.length;

var nFrameIndex = this.calcFrameIndex(this.nCurrPerformCalls, nVectorSize);
var nRepeatCount = this.calcRepeatCount( this.nCurrPerformCalls, nVectorSize );
this.performDiscreteHook( nFrameIndex, nRepeatCount );

++this.nCurrPerformCalls;

var nCurrRepeat = this.nCurrPerformCalls / nVectorSize;

if( this.isAutoReverse() )
nCurrRepeat /= 2;

if( !this.isRepeatCountValid() || nCurrRepeat < this.getRepeatCount() )
{


nFrameIndex = this.calcFrameIndex(this.nCurrPerformCalls, nVectorSize);
var nCurrentRepeatTime = this.aDiscreteTimes[nFrameIndex];
nRepeatCount = this.calcRepeatCount( this.nCurrPerformCalls, nVectorSize );
var nNextTimeout = this.nMinSimpleDuration * ( nRepeatCount + this.calcAcceleratedTime( nCurrentRepeatTime ) );
this.aWakeupEvent.setNextTimeout( nNextTimeout );

this.getEventQueue().addEvent( this.aWakeupEvent );
}
else
{
this.aWakeupEvent = null;

this.endActivity();
}

return false; // remove from queue, will be added back by the wakeup event.
};

DiscreteActivityBase.prototype.dispose = function()
{
if( this.aWakeupEvent )
this.aWakeupEvent.dispose();

this.aWakeupEvent = null;

DiscreteActivityBase.superclass.dispose.call(this);
};


function SimpleContinuousActivityBase( aCommonParamSet )
{
SimpleContinuousActivityBase.superclass.constructor.call( this, aCommonParamSet );

this.aTimer = new ElapsedTime( aCommonParamSet.aActivityQueue.getTimer() );
this.nMinSimpleDuration = aCommonParamSet.nMinDuration;
this.nMinNumberOfFrames = aCommonParamSet.nMinNumberOfFrames;
this.nCurrPerformCalls = 0;

}
extend( SimpleContinuousActivityBase, ActivityBase );


SimpleContinuousActivityBase.prototype.startAnimation = function()
{
this.aTimer.reset();
};

SimpleContinuousActivityBase.prototype.calcTimeLag = function()
{
SimpleContinuousActivityBase.superclass.calcTimeLag.call( this );

if( !this.isActive() )
return 0.0;

var nCurrElapsedTime = this.aTimer.getElapsedTime();


var nFractionElapsedTime = nCurrElapsedTime / this.nMinSimpleDuration;

var nFractionRequiredCalls = this.nCurrPerformCalls / this.nMinNumberOfFrames;


if( nFractionElapsedTime < nFractionRequiredCalls )
{
return 0.0;
}
else
{
return ( ( nFractionElapsedTime - nFractionRequiredCalls ) * this.nMinSimpleDuration );
}
};

SimpleContinuousActivityBase.prototype.perform = function()
{
if( !SimpleContinuousActivityBase.superclass.perform.call( this ) )
return false; // done, we're ended

var nCurrElapsedTime = this.aTimer.getElapsedTime();
var nT = nCurrElapsedTime / this.nMinSimpleDuration;


var bActivityEnding = false;

if( this.isRepeatCountValid() )
{

var nRepeatCount = this.getRepeatCount();
var nEffectiveRepeat = this.isAutoReverse() ? 2.0 * nRepeatCount : nRepeatCount;

if( nEffectiveRepeat <= nT )
{
bActivityEnding = true;

nT = nEffectiveRepeat;
}
}


var nRepeats;
var nRelativeSimpleTime;
if( this.isAutoReverse() )
{
nRepeats = Math.floor( nT );
var nFractionalActiveDuration =  nT - nRepeats;

if( nRepeats % 2 )
{
nRelativeSimpleTime = 1.0 - nFractionalActiveDuration;
}
else
{
nRelativeSimpleTime = nFractionalActiveDuration;
}

nRepeats /= 2;
}
else
{

nRepeats = Math.floor( nT );
nRelativeSimpleTime = nT - nRepeats;

if( this.isRepeatCountValid() && ( nRepeats >= this.getRepeatCount() ) )
{

nRelativeSimpleTime = 1.0;
nRepeats -= 1.0;
}
}


this.simplePerform( nRelativeSimpleTime, nRepeats );

if( bActivityEnding )
this.endActivity();

++this.nCurrPerformCalls;

return this.isActive();
};

SimpleContinuousActivityBase.prototype.simplePerform = function( /*nSimpleTime, nRepeatCount*/ )
{
throw ( 'SimpleContinuousActivityBase.simplePerform: abstract method invoked' );
};


function ContinuousKeyTimeActivityBase( aCommonParamSet )
{
var nSize = aCommonParamSet.aDiscreteTimes.length;
assert( nSize > 1,
'ContinuousKeyTimeActivityBase constructor: assertion (aDiscreteTimes.length > 1) failed' );

assert( aCommonParamSet.aDiscreteTimes[0] == 0.0,
'ContinuousKeyTimeActivityBase constructor: assertion (aDiscreteTimes.front() == 0.0) failed' );

assert( aCommonParamSet.aDiscreteTimes[ nSize - 1 ] <= 1.0,
'ContinuousKeyTimeActivityBase constructor: assertion (aDiscreteTimes.back() <= 1.0) failed' );

ContinuousKeyTimeActivityBase.superclass.constructor.call( this, aCommonParamSet );

this.aLerper = new KeyStopLerp( aCommonParamSet.aDiscreteTimes );
}
extend( ContinuousKeyTimeActivityBase, SimpleContinuousActivityBase );


ContinuousKeyTimeActivityBase.prototype.activate = function( aEndElement )
{
ContinuousKeyTimeActivityBase.superclass.activate.call( this, aEndElement );

this.aLerper.reset();
};

ContinuousKeyTimeActivityBase.prototype.performContinuousHook = function( /*nIndex, nFractionalIndex, nRepeatCount*/ )
{
throw ( 'ContinuousKeyTimeActivityBase.performContinuousHook: abstract method invoked' );
};

ContinuousKeyTimeActivityBase.prototype.simplePerform = function( nSimpleTime, nRepeatCount )
{
var nAlpha = this.calcAcceleratedTime( nSimpleTime );

var aLerpResult = this.aLerper.lerp( nAlpha );

this.performContinuousHook( aLerpResult.nIndex, aLerpResult.nLerp, nRepeatCount );
};


function ContinuousActivityBase( aCommonParamSet )
{
ContinuousActivityBase.superclass.constructor.call( this, aCommonParamSet );

}
extend( ContinuousActivityBase, SimpleContinuousActivityBase );


ContinuousActivityBase.prototype.performContinuousHook = function( /*nModifiedTime, nRepeatCount*/ )
{
throw ( 'ContinuousActivityBase.performContinuousHook: abstract method invoked' );
};

ContinuousActivityBase.prototype.simplePerform = function( nSimpleTime, nRepeatCount )
{
this.performContinuousHook( this.calcAcceleratedTime( nSimpleTime ), nRepeatCount );
};


function SimpleActivity( aCommonParamSet, aNumberAnimation, eDirection )
{
assert( ( eDirection == BACKWARD ) || ( eDirection == FORWARD ),
'SimpleActivity constructor: animation direction is not valid' );

assert( aNumberAnimation, 'SimpleActivity constructor: animation object is not valid' );

SimpleActivity.superclass.constructor.call( this, aCommonParamSet );

this.aAnimation = aNumberAnimation;
this.nDirection = ( eDirection == FORWARD ) ? 1.0 : 0.0;
}
extend( SimpleActivity, ContinuousActivityBase );


SimpleActivity.prototype.startAnimation = function()
{
if( this.isDisposed() || !this.aAnimation )
return;

ANIMDBG.print( 'SimpleActivity.startAnimation invoked' );
SimpleActivity.superclass.startAnimation.call( this );

this.aAnimation.start( this.getTargetElement() );
};

SimpleActivity.prototype.endAnimation = function()
{
if( this.aAnimation )
this.aAnimation.end();

};

SimpleActivity.prototype.performContinuousHook = function( nModifiedTime /*, nRepeatCount*/ )
{

if( this.isDisposed() || !this.aAnimation )
return;

var nT = 1.0 - this.nDirection + nModifiedTime * ( 2.0*this.nDirection - 1.0 );
this.aAnimation.perform( nT );
};

SimpleActivity.prototype.performEnd = function()
{
if( this.aAnimation )
this.aAnimation.perform( this.nDirection );
};


function FromToByActivityTemplate( BaseType ) // template parameter
{

function FromToByActivity( aFromValue, aToValue, aByValue,
aActivityParamSet, aAnimation,
aInterpolator, aOperatorSet, bAccumulate )
{
assert( aAnimation, 'FromToByActivity constructor: invalid animation object' );
assert( ( aToValue != undefined ) || ( aByValue != undefined ),
'FromToByActivity constructor: one of aToValue or aByValue must be valid' );

FromToByActivity.superclass.constructor.call( this, aActivityParamSet );

this.aFrom = aFromValue;
this.aTo = aToValue;
this.aBy = aByValue;
this.aStartValue = null;
this.aEndValue = null;
this.aPreviousValue = null;
this.aStartInterpolationValue = null;
this.aAnimation = aAnimation;
this.aInterpolator = aInterpolator;
this.equal = aOperatorSet.equal;
this.add = aOperatorSet.add;
this.scale = aOperatorSet.scale;
this.bDynamicStartValue = false;
this.nIteration = 0;
this.bCumulative = bAccumulate;
this.aFormula = aActivityParamSet.aFormula;
}
extend( FromToByActivity, BaseType );

FromToByActivity.prototype.initAnimatedElement = function()
{
if( this.aAnimation && this.aFrom )
{
var aValue = this.aFormula ? this.aFormula( this.aFrom ) : this.aFrom;
this.aAnimation.perform(aValue);
}
};

FromToByActivity.prototype.startAnimation = function()
{
if( this.isDisposed() || !this.aAnimation  )
{
log( 'FromToByActivity.startAnimation: activity disposed or not valid animation' );
return;
}

FromToByActivity.superclass.startAnimation.call( this );

this.aAnimation.start( this.getTargetElement() );


var aAnimationStartValue = this.aAnimation.getUnderlyingValue();

if( this.aFrom )
{
if( this.aTo )
{
this.aStartValue = this.aFrom;
this.aEndValue = this.aTo;
}
else if( this.aBy )
{
this.aStartValue = this.aFrom;

this.aEndValue = this.add( this.aStartValue, this.aBy );
}
}
else
{
this.aStartValue = aAnimationStartValue;
this.aStartInterpolationValue = this.aStartValue;

if( this.aTo )
{

this.bDynamicStartValue = true;
this.aPreviousValue = this.aStartValue;
this.aEndValue = this.aTo;
}
else if( this.aBy )
{
this.aStartValue = aAnimationStartValue;

this.aEndValue = this.add( this.aStartValue, this.aBy );
}
}

ANIMDBG.print( 'FromToByActivity.startAnimation: aStartValue = ' + this.aStartValue + ', aEndValue = ' + this.aEndValue );
};

FromToByActivity.prototype.endAnimation = function()
{
if( this.aAnimation )
this.aAnimation.end();
};

FromToByActivity.prototype.performContinuousHook = function( nModifiedTime, nRepeatCount )
{
if( this.isDisposed() || !this.aAnimation  )
{
log( 'FromToByActivity.performContinuousHook: activity disposed or not valid animation' );
return;
}


if( this.bDynamicStartValue )
{
if( this.nIteration != nRepeatCount )
{
this.nIteration = nRepeatCount;
this.aStartInterpolationValue =  this.aStartValue;
}
else
{
var aActualValue = this.aAnimation.getUnderlyingValue();
if( !this.equal( aActualValue, this.aPreviousValue ) )
this.aStartInterpolationValue = aActualValue;
}
}

var aValue = this.aInterpolator( this.aStartInterpolationValue,
this.aEndValue, nModifiedTime );

if( this.bCumulative && !this.bDynamicStartValue )
{
aValue = this.add( this.scale( nRepeatCount, this.aEndValue ), aValue );
}

aValue = this.aFormula ? this.aFormula( aValue ) : aValue;
this.aAnimation.perform( aValue );

if( this.bDynamicStartValue )
{
this.aPreviousValue = this.aAnimation.getUnderlyingValue();
}

};

FromToByActivity.prototype.performDiscreteHook = function( /*nFrame, nRepeatCount*/ )
{
if (this.isDisposed() || !this.aAnimation) {
log('FromToByActivity.performDiscreteHook: activity disposed or not valid animation');
return;
}
};

FromToByActivity.prototype.performEnd = function()
{
if( this.aAnimation )
{
var aValue = this.isAutoReverse() ? this.aStartValue : this.aEndValue;
aValue = this.aFormula ? this.aFormula( aValue ) : aValue;
this.aAnimation.perform( aValue );
}
};

FromToByActivity.prototype.dispose = function()
{
FromToByActivity.superclass.dispose.call( this );
};


return FromToByActivity;
}


var LinearFromToByActivity = instantiate( FromToByActivityTemplate, ContinuousActivityBase );
var DiscreteFromToByActivity = instantiate( FromToByActivityTemplate, DiscreteActivityBase );


function  ValueListActivityTemplate( BaseType ) // template parameter
{

function ValueListActivity( aValueList, aActivityParamSet,
aAnimation, aInterpolator,
aOperatorSet, bAccumulate )
{
assert( aAnimation, 'ValueListActivity constructor: invalid animation object' );
assert( aValueList.length != 0, 'ValueListActivity: value list is empty' );

ValueListActivity.superclass.constructor.call( this, aActivityParamSet );

this.aValueList = aValueList;
this.aAnimation = aAnimation;
this.aInterpolator = aInterpolator;
this.add = aOperatorSet.add;
this.scale = aOperatorSet.scale;
this.bCumulative = bAccumulate;
this.aLastValue = this.aValueList[ this.aValueList.length - 1 ];
this.aFormula = aActivityParamSet.aFormula;
}
extend( ValueListActivity, BaseType );

ValueListActivity.prototype.activate = function( aEndEvent )
{
ValueListActivity.superclass.activate.call( this, aEndEvent );
for( var i = 0; i < this.aValueList.length; ++i )
{
ANIMDBG.print( 'createValueListActivity: value[' + i + '] = ' + this.aValueList[i] );
}
};

ValueListActivity.prototype.initAnimatedElement = function()
{
if( this.aAnimation )
{
var aValue = this.aValueList[0];
aValue = this.aFormula ? this.aFormula( aValue ) : aValue;
this.aAnimation.perform(aValue);
}
};

ValueListActivity.prototype.startAnimation = function()
{
if( this.isDisposed() || !this.aAnimation  )
{
log( 'ValueListActivity.startAnimation: activity disposed or not valid animation' );
return;
}

ValueListActivity.superclass.startAnimation.call( this );

this.aAnimation.start( this.getTargetElement() );
};

ValueListActivity.prototype.endAnimation = function()
{
if( this.aAnimation )
this.aAnimation.end();
};

ValueListActivity.prototype.performContinuousHook = function( nIndex, nFractionalIndex, nRepeatCount )
{
if( this.isDisposed() || !this.aAnimation  )
{
log( 'ValueListActivity.performContinuousHook: activity disposed or not valid animation' );
return;
}

assert( ( nIndex + 1 ) < this.aValueList.length,
'ValueListActivity.performContinuousHook: assertion (nIndex + 1 < this.aValueList.length) failed' );


var aValue = this.aInterpolator( this.aValueList[ nIndex ],
this.aValueList[ nIndex+1 ],
nFractionalIndex );

if( this.bCumulative )
{
aValue = this.add( aValue, this.scale( nRepeatCount, this.aLastValue ) );
}

aValue = this.aFormula ? this.aFormula( aValue ) : aValue;
this.aAnimation.perform( aValue );
};

ValueListActivity.prototype.performDiscreteHook = function( nFrame, nRepeatCount )
{
if( this.isDisposed() || !this.aAnimation  )
{
log( 'ValueListActivity.performDiscreteHook: activity disposed or not valid animation' );
return;
}

assert( nFrame < this.aValueList.length,
'ValueListActivity.performDiscreteHook: assertion ( nFrame < this.aValueList.length) failed' );

var aValue = this.aValueList[nFrame];

if( this.bCumulative )
{
aValue = this.add( aValue, this.scale( nRepeatCount, this.aLastValue ) );
}

aValue = this.aFormula ? this.aFormula( aValue ) : aValue;
this.aAnimation.perform( aValue );
};

ValueListActivity.prototype.performEnd = function()
{
if( this.aAnimation )
{
var aValue = this.aFormula ? this.aFormula( this.aLastValue ) : this.aLastValue;
this.aAnimation.perform( aValue );
}
};

ValueListActivity.prototype.dispose = function()
{
ValueListActivity.superclass.dispose.call( this );
};


return ValueListActivity;
}


var LinearValueListActivity = instantiate( ValueListActivityTemplate, ContinuousKeyTimeActivityBase );
var DiscreteValueListActivity = instantiate( ValueListActivityTemplate, DiscreteActivityBase );


function createActivity( aActivityParamSet, aAnimationNode, aAnimation, aInterpolator )
{
var eCalcMode = aAnimationNode.getCalcMode();

var sAttributeName = aAnimationNode.getAttributeName();
var aAttributeProp = aAttributeMap[ sAttributeName ];

var eValueType = aAttributeProp[ 'type' ];
var eValueSubtype = aAttributeProp[ 'subtype' ];

if( ! aInterpolator )
{
aInterpolator = aInterpolatorHandler.getInterpolator( eCalcMode,
eValueType,
eValueSubtype );
}

var bAccumulate = ( aAnimationNode.getAccumulate() === ACCUMULATE_MODE_SUM )
&& !( eValueType === BOOL_PROPERTY ||
eValueType === STRING_PROPERTY ||
eValueType === ENUM_PROPERTY );

if( aAnimationNode.getFormula() )
{
var sFormula =  aAnimationNode.getFormula();
var reMath = /abs|sqrt|asin|acos|atan|sin|cos|tan|exp|log|min|max/g;
sFormula = sFormula.replace(reMath, 'Math.$&');
sFormula = sFormula.replace(/pi(?!\w)/g, 'Math.PI');
sFormula = sFormula.replace(/e(?!\w)/g, 'Math.E');
sFormula = sFormula.replace(/\$/g, '__PARAM0__');

var aAnimatedElement = aAnimationNode.getAnimatedElement();
var aBBox = aAnimatedElement.getBaseBBox();

var width = aBBox.width / aActivityParamSet.nSlideWidth;
var height = aBBox.height / aActivityParamSet.nSlideHeight;
var x = ( aBBox.x + aBBox.width / 2 ) / aActivityParamSet.nSlideWidth;
var y = ( aBBox.y + aBBox.height / 2 ) / aActivityParamSet.nSlideHeight;

aActivityParamSet.aFormula = function( __PARAM0__ ) {

return eval(sFormula);
};
}

aActivityParamSet.aDiscreteTimes = aAnimationNode.getKeyTimes();

var aValueSet = aAnimationNode.getValues();
var nValueSetSize = aValueSet.length;

if( nValueSetSize != 0 )
{

if( aActivityParamSet.aDiscreteTimes.length == 0 )
{
for( var i = 0; i < nValueSetSize; ++i )
aActivityParamSet.aDiscreteTimes[i].push( i / nValueSetSize );
}

switch( eCalcMode )
{
case CALC_MODE_DISCRETE:
aActivityParamSet.aWakeupEvent =
new WakeupEvent( aActivityParamSet.aTimerEventQueue.getTimer(),
aActivityParamSet.aActivityQueue );

return createValueListActivity( aActivityParamSet,
aAnimationNode,
aAnimation,
aInterpolator,
DiscreteValueListActivity,
bAccumulate,
eValueType );

default:
log( 'createActivity: unexpected calculation mode: ' + eCalcMode );
case CALC_MODE_PACED :
case CALC_MODE_SPLINE :
case CALC_MODE_LINEAR:
return createValueListActivity( aActivityParamSet,
aAnimationNode,
aAnimation,
aInterpolator,
LinearValueListActivity,
bAccumulate,
eValueType );
}
}
else
{
switch( eCalcMode )
{
case CALC_MODE_DISCRETE:
log( 'createActivity: discrete calculation case not yet implemented' );
aActivityParamSet.aWakeupEvent =
new WakeupEvent( aActivityParamSet.aTimerEventQueue.getTimer(),
aActivityParamSet.aActivityQueue );
return createFromToByActivity(  aActivityParamSet,
aAnimationNode,
aAnimation,
aInterpolator,
DiscreteFromToByActivity,
bAccumulate,
eValueType );

default:
log( 'createActivity: unexpected calculation mode: ' + eCalcMode );
case CALC_MODE_PACED :
case CALC_MODE_SPLINE :
case CALC_MODE_LINEAR:
return createFromToByActivity(  aActivityParamSet,
aAnimationNode,
aAnimation,
aInterpolator,
LinearFromToByActivity,
bAccumulate,
eValueType );
}
}
}


function createValueListActivity( aActivityParamSet, aAnimationNode, aAnimation,
aInterpolator, ClassTemplateInstance, bAccumulate, eValueType )
{
var aAnimatedElement = aAnimationNode.getAnimatedElement();
var aOperatorSet = aOperatorSetMap[ eValueType ];
assert( aOperatorSet, 'createValueListActivity: no operator set found' );

var aValueSet = aAnimationNode.getValues();

var aValueList = [];

extractAttributeValues( eValueType,
aValueList,
aValueSet,
aAnimatedElement.getBaseBBox(),
aActivityParamSet.nSlideWidth,
aActivityParamSet.nSlideHeight );

for( var i = 0; i < aValueList.length; ++i )
{
ANIMDBG.print( 'createValueListActivity: value[' + i + '] = ' + aValueList[i] );
}

return new ClassTemplateInstance( aValueList, aActivityParamSet, aAnimation,
aInterpolator, aOperatorSet, bAccumulate );
}


function createFromToByActivity( aActivityParamSet, aAnimationNode, aAnimation,
aInterpolator, ClassTemplateInstance, bAccumulate, eValueType )
{

var aAnimatedElement = aAnimationNode.getAnimatedElement();
var aOperatorSet = aOperatorSetMap[ eValueType ];
assert( aOperatorSet, 'createFromToByActivity: no operator set found' );

var aValueSet = [];
aValueSet[0] = aAnimationNode.getFromValue();
aValueSet[1] = aAnimationNode.getToValue();
aValueSet[2] = aAnimationNode.getByValue();

ANIMDBG.print( 'createFromToByActivity: value type: ' + aValueTypeOutMap[eValueType] +
', aFrom = ' + aValueSet[0] +
', aTo = ' + aValueSet[1] +
', aBy = ' + aValueSet[2] );

var aValueList = [];

extractAttributeValues( eValueType,
aValueList,
aValueSet,
aAnimatedElement.getBaseBBox(),
aActivityParamSet.nSlideWidth,
aActivityParamSet.nSlideHeight );

ANIMDBG.print( 'createFromToByActivity: ' +
', aFrom = ' + aValueList[0] +
', aTo = ' + aValueList[1] +
', aBy = ' + aValueList[2] );

return new ClassTemplateInstance( aValueList[0], aValueList[1], aValueList[2],
aActivityParamSet, aAnimation,
aInterpolator, aOperatorSet, bAccumulate );
}


function extractAttributeValues( eValueType, aValueList, aValueSet, aBBox, nSlideWidth, nSlideHeight )
{
var i;
switch( eValueType )
{
case NUMBER_PROPERTY :
evalValuesAttribute( aValueList, aValueSet, aBBox, nSlideWidth, nSlideHeight );
break;
case BOOL_PROPERTY :
for( i = 0; i < aValueSet.length; ++i )
{
var aValue = booleanParser( aValueSet[i] );
aValueList.push( aValue );
}
break;
case STRING_PROPERTY :
for( i = 0; i < aValueSet.length; ++i )
{
aValueList.push( aValueSet[i] );
}
break;
case ENUM_PROPERTY :
for( i = 0; i < aValueSet.length; ++i )
{
aValueList.push( aValueSet[i] );
}
break;
case COLOR_PROPERTY :
for( i = 0; i < aValueSet.length; ++i )
{
aValue = colorParser( aValueSet[i] );
aValueList.push( aValue );
}
break;
default:
log( 'createValueListActivity: unexpected value type: ' + eValueType );
}

}


function evalValuesAttribute( aValueList, aValueSet, aBBox, nSlideWidth, nSlideHeight )
{
var width = aBBox.width / nSlideWidth;
var height = aBBox.height / nSlideHeight;
var x = ( aBBox.x + aBBox.width / 2 ) / nSlideWidth;
var y = ( aBBox.y + aBBox.height / 2 ) / nSlideHeight;

var reMath = /abs|sqrt|asin|acos|atan|sin|cos|tan|exp|log|min|max/g;

for( var i = 0; i < aValueSet.length; ++i )
{
var sValue = aValueSet[i];
sValue = sValue.replace(reMath, 'Math.$&');
sValue = sValue.replace(/pi(?!\w)/g, 'Math.PI');
sValue = sValue.replace(/e(?!\w)/g, 'Math.E');
var aValue =  eval( sValue );
aValueList.push( aValue );
}
}


var BACKWARD    = 0;
var FORWARD     = 1;

var MAXIMUM_FRAME_COUNT                 = 60;
var MINIMUM_TIMEOUT                     = 1.0 / MAXIMUM_FRAME_COUNT;
var MAXIMUM_TIMEOUT                     = 4.0;
var MINIMUM_FRAMES_PER_SECONDS          = 10;
var PREFERRED_FRAMES_PER_SECONDS        = 50;
var PREFERRED_FRAME_RATE                = 1.0 / PREFERRED_FRAMES_PER_SECONDS;


function Effect( nId )
{
this.nId = ( typeof( nId ) === typeof( 1 ) ) ? nId : -1;
this.eState = Effect.NOT_STARTED;
}
Effect.NOT_STARTED = 0;
Effect.PLAYING = 1;
Effect.ENDED = 2;

Effect.prototype.getId = function()
{
return this.nId;
};

Effect.prototype.isMainEffect = function()
{
return ( this.nId === -1 );
};

Effect.prototype.isPlaying = function()
{
return ( this.eState === Effect.PLAYING );
};

Effect.prototype.isEnded = function()
{
return ( this.eState === Effect.ENDED );
};

Effect.prototype.start = function()
{
assert( this.eState === Effect.NOT_STARTED, 'Effect.start: wrong state.' );
this.eState = Effect.PLAYING;
};

Effect.prototype.end = function()
{
assert( this.eState === Effect.PLAYING, 'Effect.end: wrong state.' );
this.eState = Effect.ENDED;
};


function SlideShow()
{
this.aTimer = new ElapsedTime();
this.aFrameSynchronization = new FrameSynchronization( PREFERRED_FRAME_RATE );
this.aTimerEventQueue = new TimerEventQueue( this.aTimer );
this.aActivityQueue = new ActivityQueue( this.aTimer );
this.aNextEffectEventArray = null;
this.aInteractiveAnimationSequenceMap = null;
this.aEventMultiplexer = null;

this.aContext = new SlideShowContext( this.aTimerEventQueue,
this.aEventMultiplexer,
this.aNextEffectEventArray,
this.aInteractiveAnimationSequenceMap,
this.aActivityQueue );
this.bIsIdle = true;
this.bIsEnabled = true;
this.bNoSlideTransition = false;
this.bIsTransitionRunning = false;

this.nCurrentEffect = 0;
this.bIsNextEffectRunning = false;
this.bIsRewinding = false;
this.bIsSkipping = false;
this.bIsSkippingAll = false;
this.nTotalInteractivePlayingEffects = 0;
this.aStartedEffectList = [];
this.aStartedEffectIndexMap = {};
this.aStartedEffectIndexMap[ -1 ] = undefined;
}

SlideShow.prototype.setSlideEvents = function( aNextEffectEventArray,
aInteractiveAnimationSequenceMap,
aEventMultiplexer )
{
if( !aNextEffectEventArray )
log( 'SlideShow.setSlideEvents: aNextEffectEventArray is not valid' );

if( !aInteractiveAnimationSequenceMap )
log( 'SlideShow.setSlideEvents:aInteractiveAnimationSequenceMap  is not valid' );

if( !aEventMultiplexer )
log( 'SlideShow.setSlideEvents: aEventMultiplexer is not valid' );

this.aContext.aNextEffectEventArray = aNextEffectEventArray;
this.aNextEffectEventArray = aNextEffectEventArray;
this.aContext.aInteractiveAnimationSequenceMap = aInteractiveAnimationSequenceMap;
this.aInteractiveAnimationSequenceMap = aInteractiveAnimationSequenceMap;
this.aContext.aEventMultiplexer = aEventMultiplexer;
this.aEventMultiplexer = aEventMultiplexer;
this.nCurrentEffect = 0;
};

SlideShow.prototype.createSlideTransition = function( aSlideTransitionHandler, aLeavingSlide, aEnteringSlide, aTransitionEndEvent )
{
if( !aEnteringSlide )
{
log( 'SlideShow.createSlideTransition: entering slide element is not valid.' );
return null;
}

if( this.bNoSlideTransition ) return null;

var aAnimatedLeavingSlide = null;
if( aLeavingSlide )
aAnimatedLeavingSlide = new AnimatedSlide( aLeavingSlide );
var aAnimatedEnteringSlide = new AnimatedSlide( aEnteringSlide );

var aSlideTransition = aSlideTransitionHandler.createSlideTransition( aAnimatedLeavingSlide, aAnimatedEnteringSlide );
if( !aSlideTransition ) return null;

var nDuration = 0.001;
if( aSlideTransitionHandler.getDuration().isValue() )
{
nDuration = aSlideTransitionHandler.getDuration().getValue();
}
else
{
log( 'SlideShow.createSlideTransition: duration is not a number' );
}

var aCommonParameterSet = new ActivityParamSet();
aCommonParameterSet.aEndEvent = aTransitionEndEvent;
aCommonParameterSet.aTimerEventQueue = this.aTimerEventQueue;
aCommonParameterSet.aActivityQueue = this.aActivityQueue;
aCommonParameterSet.nMinDuration = nDuration;
aCommonParameterSet.nMinNumberOfFrames = aSlideTransitionHandler.getMinFrameCount();
aCommonParameterSet.nSlideWidth = WIDTH;
aCommonParameterSet.nSlideHeight = HEIGHT;

return new SimpleActivity( aCommonParameterSet, aSlideTransition, FORWARD );

};

SlideShow.prototype.isEnabled = function()
{
return this.bIsEnabled;
};

SlideShow.prototype.isRunning = function()
{
return !this.bIsIdle;
};

SlideShow.prototype.isTransitionPlaying = function()
{
return this.bIsTransitionRunning;
};

SlideShow.prototype.isMainEffectPlaying = function()
{
return this.bIsNextEffectRunning;
};

SlideShow.prototype.isInteractiveEffectPlaying = function()
{
return ( this.nTotalInteractivePlayingEffects > 0 );
};

SlideShow.prototype.isAnyEffectPlaying = function()
{
return ( this.isMainEffectPlaying() || this.isInteractiveEffectPlaying() );
};

SlideShow.prototype.hasAnyEffectStarted = function()
{
return ( this.aStartedEffectList.length > 0 );
};

SlideShow.prototype.notifyNextEffectStart = function()
{
assert( !this.bIsNextEffectRunning,
'SlideShow.notifyNextEffectStart: an effect is already started.' );
this.bIsNextEffectRunning = true;
this.aEventMultiplexer.registerNextEffectEndHandler( bind2( SlideShow.prototype.notifyNextEffectEnd, this ) );
var aEffect = new Effect();
aEffect.start();
this.aStartedEffectIndexMap[ -1 ] = this.aStartedEffectList.length;
this.aStartedEffectList.push( aEffect );


var aAnimatedElementMap = theMetaDoc.aMetaSlideSet[nCurSlide].aSlideAnimationsHandler.aAnimatedElementMap;
for( var sId in aAnimatedElementMap )
aAnimatedElementMap[ sId ].notifyNextEffectStart( this.nCurrentEffect );
};

SlideShow.prototype.notifyNextEffectEnd = function()
{
assert( this.bIsNextEffectRunning,
'SlideShow.notifyNextEffectEnd: effect already ended.' );
this.bIsNextEffectRunning = false;

this.aStartedEffectList[ this.aStartedEffectIndexMap[ -1 ] ].end();
};

SlideShow.prototype.notifySlideStart = function( nNewSlideIndex, nOldSlideIndex )
{
this.nCurrentEffect = 0;
this.bIsRewinding = false;
this.bIsSkipping = false;
this.bIsSkippingAll = false;
this.nTotalInteractivePlayingEffects = 0;
this.aStartedEffectList = [];
this.aStartedEffectIndexMap = {};
this.aStartedEffectIndexMap[ -1 ] = undefined;

var aAnimatedElementMap;
var sId;
if( nOldSlideIndex !== undefined )
{
aAnimatedElementMap = theMetaDoc.aMetaSlideSet[nOldSlideIndex].aSlideAnimationsHandler.aAnimatedElementMap;
for( sId in aAnimatedElementMap )
aAnimatedElementMap[ sId ].notifySlideEnd();
}

aAnimatedElementMap = theMetaDoc.aMetaSlideSet[nNewSlideIndex].aSlideAnimationsHandler.aAnimatedElementMap;
for( sId in aAnimatedElementMap )
aAnimatedElementMap[ sId ].notifySlideStart( this.aContext );
};

SlideShow.prototype.notifyTransitionEnd = function( nSlideIndex )
{
if( theMetaDoc.getCurrentSlide() )
{
var sRef = 'url(#' + aPresentationClipPathId + ')';
theMetaDoc.getCurrentSlide().slideElement.setAttribute('clip-path', sRef);
}

this.bIsTransitionRunning = false;
if( this.bIsRewinding )
{
theMetaDoc.aMetaSlideSet[nSlideIndex].hide();
var nIndex = nCurSlide !== undefined ? nCurSlide : -1;
this.displaySlide( nIndex, true );
this.skipAllEffects();
this.bIsRewinding = false;
return;
}

theMetaDoc.setCurrentSlide(nSlideIndex);

if( this.aSlideViewElement )
{
theMetaDoc.getCurrentSlide().aVisibilityStatusElement.parentNode.removeChild( this.aSlideViewElement );
this.aSlideViewElement = null;
}
if( this.isEnabled() )
{
this.dispose();

theMetaDoc.getCurrentSlide().aSlideAnimationsHandler.start();
this.update();
}
};

SlideShow.prototype.notifyInteractiveAnimationSequenceStart = function( nNodeId )
{
++this.nTotalInteractivePlayingEffects;
var aEffect = new Effect( nNodeId );
aEffect.start();
this.aStartedEffectIndexMap[ nNodeId ] = this.aStartedEffectList.length;
this.aStartedEffectList.push( aEffect );
};

SlideShow.prototype.notifyInteractiveAnimationSequenceEnd = function( nNodeId )
{
assert( this.isInteractiveEffectPlaying(),
'SlideShow.notifyInteractiveAnimationSequenceEnd: no interactive effect playing.' );

this.aStartedEffectList[ this.aStartedEffectIndexMap[ nNodeId ] ].end();
--this.nTotalInteractivePlayingEffects;
};

SlideShow.prototype.nextEffect = function()
{
if( !this.isEnabled() )
return false;

if( this.isTransitionPlaying() )
{
this.skipTransition();
return true;
}

if( this.isAnyEffectPlaying() )
{
this.skipAllPlayingEffects();
return true;
}

if( !this.aNextEffectEventArray )
return false;

if( this.nCurrentEffect >= this.aNextEffectEventArray.size() )
return false;

this.notifyNextEffectStart();

this.aNextEffectEventArray.at( this.nCurrentEffect ).fire();
++this.nCurrentEffect;
this.update();
return true;
};

SlideShow.prototype.skipTransition  = function()
{
if( this.bIsSkipping || this.bIsRewinding )
return;

this.bIsSkipping = true;

this.aActivityQueue.endAll();
this.aTimerEventQueue.forceEmpty();
this.aActivityQueue.endAll();
this.update();
this.bIsSkipping = false;
};

SlideShow.prototype.skipAllPlayingEffects  = function()
{
if( this.bIsSkipping || this.bIsRewinding )
return true;

this.bIsSkipping = true;
for( var i = 0; i < this.aStartedEffectList.length; ++i )
{
var aEffect = this.aStartedEffectList[i];
if( aEffect.isPlaying() )
{
if( aEffect.isMainEffect() )
this.aEventMultiplexer.notifySkipEffectEvent();
else
this.aEventMultiplexer.notifySkipInteractiveEffectEvent( aEffect.getId() );
}
}
this.update();
this.bIsSkipping = false;
return true;
};

SlideShow.prototype.skipNextEffect = function()
{
if( this.bIsSkipping || this.bIsRewinding )
return true;

assert( !this.isAnyEffectPlaying(),
'SlideShow.skipNextEffect' );

if( !this.aNextEffectEventArray )
return false;

if( this.nCurrentEffect >= this.aNextEffectEventArray.size() )
return false;

this.notifyNextEffectStart();

this.bIsSkipping = true;
this.aNextEffectEventArray.at( this.nCurrentEffect ).fire();
this.aEventMultiplexer.notifySkipEffectEvent();
++this.nCurrentEffect;
this.update();
this.bIsSkipping = false;
return true;
};

SlideShow.prototype.skipPlayingOrNextEffect = function()
{
if( this.isTransitionPlaying() )
{
this.skipTransition();
return true;
}

if( this.isAnyEffectPlaying() )
return this.skipAllPlayingEffects();
else
return this.skipNextEffect();
};


SlideShow.prototype.skipAllEffects = function()
{
if( this.bIsSkippingAll )
return true;

this.bIsSkippingAll = true;

if( this.isTransitionPlaying() )
{
this.skipTransition();
}

if( this.isAnyEffectPlaying() )
{
this.skipAllPlayingEffects();
}
else if( !this.aNextEffectEventArray
|| ( this.nCurrentEffect >= this.aNextEffectEventArray.size() ) )
{
this.bIsSkippingAll = false;
return false;
}

while( this.nCurrentEffect < this.aNextEffectEventArray.size() )
{
this.skipNextEffect();
}
this.bIsSkippingAll = false;
return true;
};

SlideShow.prototype.rewindTransition = function()
{
if( this.bIsSkipping || this.bIsRewinding )
return;

this.bIsRewinding = true;
this.aActivityQueue.endAll();
this.update();
this.bIsRewinding = false;
};

SlideShow.prototype.rewindEffect = function()
{
if( this.bIsSkipping || this.bIsRewinding )
return;

if( !this.hasAnyEffectStarted() )
{
this.rewindToPreviousSlide();
return;
}

this.bIsRewinding = true;

var nFirstPlayingEffectIndex = undefined;

var i = 0;
for( ; i < this.aStartedEffectList.length; ++i )
{
var aEffect = this.aStartedEffectList[i];
if( aEffect.isPlaying() )
{
nFirstPlayingEffectIndex = i;
break;
}
}

if( nFirstPlayingEffectIndex !== undefined )
{
i = this.aStartedEffectList.length - 1;
for( ; i >= nFirstPlayingEffectIndex; --i )
{
aEffect = this.aStartedEffectList[i];
if( aEffect.isPlaying() )
{
if( aEffect.isMainEffect() )
{
this.aEventMultiplexer.notifyRewindCurrentEffectEvent();
if( this.nCurrentEffect > 0 )
--this.nCurrentEffect;
}
else
{
this.aEventMultiplexer.notifyRewindRunningInteractiveEffectEvent( aEffect.getId() );
}
}
else if( aEffect.isEnded() )
{
if( aEffect.isMainEffect() )
{
this.aEventMultiplexer.notifyRewindLastEffectEvent();
if( this.nCurrentEffect > 0 )
--this.nCurrentEffect;
}
else
{
this.aEventMultiplexer.notifyRewindEndedInteractiveEffectEvent( aEffect.getId() );
}
}
}
this.update();

i = this.aStartedEffectList.length - 1;
for( ; i >= nFirstPlayingEffectIndex; --i )
{
aEffect = this.aStartedEffectList.pop();
if( !aEffect.isMainEffect() )
delete this.aStartedEffectIndexMap[ aEffect.getId() ];
}
}
else  // there is no playing effect
{
aEffect = this.aStartedEffectList.pop();
if( !aEffect.isMainEffect() )
delete this.aStartedEffectIndexMap[ aEffect.getId() ];
if( aEffect.isEnded() )  // Well that is almost an assertion.
{
if( aEffect.isMainEffect() )
{
this.aEventMultiplexer.notifyRewindLastEffectEvent();
if( this.nCurrentEffect > 0 )
--this.nCurrentEffect;
}
else
{
this.aEventMultiplexer.notifyRewindEndedInteractiveEffectEvent( aEffect.getId() );
}
}
this.update();
}

this.bIsRewinding = false;
};

SlideShow.prototype.rewindToPreviousSlide = function()
{
if( this.isTransitionPlaying() )
{
this.rewindTransition();
return;
}
if( this.isAnyEffectPlaying() )
return;
var nNewSlide = nCurSlide - 1;
this.displaySlide( nNewSlide, true );
this.skipAllEffects();
};

SlideShow.prototype.rewindAllEffects = function()
{
if( !this.hasAnyEffectStarted() )
{
this.rewindToPreviousSlide();
return;
}

while( this.hasAnyEffectStarted() )
{
this.rewindEffect();
}
};

SlideShow.prototype.exitSlideShowInApp = function()
{
var ua = navigator.userAgent;
if (ua.indexOf(' AppleWebKit/') !== -1 &&
ua.indexOf(' Mobile/') !== -1 &&
window.webkit !== undefined &&
window.webkit.messageHandlers !== undefined &&
window.webkit.messageHandlers.lool !== undefined)
window.webkit.messageHandlers.lool.postMessage('EXITSLIDESHOW', '*');
}

SlideShow.prototype.displaySlide = function( nNewSlide, bSkipSlideTransition )
{
var aMetaDoc = theMetaDoc;
var nSlides = aMetaDoc.nNumberOfSlides;
if( nNewSlide < 0 && nSlides > 0 )
nNewSlide = nSlides - 1;
else if( nNewSlide >= nSlides ) {
nNewSlide = 0;
this.exitSlideShowInApp();
}

if( ( currentMode === INDEX_MODE ) && ( nNewSlide === nCurSlide ) )
{
aMetaDoc.getCurrentSlide().show();
return;
}

if( this.isTransitionPlaying() )
{
this.skipTransition();
}

var nOldSlide = nCurSlide;
if( nOldSlide !== undefined )
{
var oldMetaSlide = aMetaDoc.aMetaSlideSet[nOldSlide];
if( this.isEnabled() )
{
if( oldMetaSlide.aSlideAnimationsHandler.isAnimated() )
{
oldMetaSlide.aSlideAnimationsHandler.end( bSkipSlideTransition );

this.dispose();
}
}
}

this.notifySlideStart( nNewSlide, nOldSlide );

if( this.isEnabled() && !bSkipSlideTransition  )
{
if ( ( ( nOldSlide !== undefined ) &&
( ( nNewSlide > nOldSlide ) ||
( ( nNewSlide == 0) && ( nOldSlide == (aMetaDoc.nNumberOfSlides - 1) ) ) ) ) ||
(  ( nOldSlide === undefined ) &&  ( nNewSlide == 0) )  // for transition on first slide
)
{

var aOldMetaSlide = null;
if( nOldSlide === undefined ) // for transition on first slide
{
aOldMetaSlide = aMetaDoc.theMetaDummySlide;
}
else
{
aOldMetaSlide = aMetaDoc.aMetaSlideSet[nOldSlide];
}
var aNewMetaSlide = aMetaDoc.aMetaSlideSet[nNewSlide];

var aSlideTransitionHandler = aNewMetaSlide.aTransitionHandler;
if( aSlideTransitionHandler && aSlideTransitionHandler.isValid() )
{
var sRef = 'url(#' + aPresentationClipPathShrinkId + ')';
aOldMetaSlide.slideElement.setAttribute( 'clip-path', sRef );

if( nOldSlide > nNewSlide )
{
this.aSlideViewElement = document.createElementNS( NSS['svg'], 'use' );
setNSAttribute( 'xlink', this.aSlideViewElement, 'href', '#' + aOldMetaSlide.slideContainerId );
aNewMetaSlide.aVisibilityStatusElement.parentNode.insertBefore( this.aSlideViewElement, aNewMetaSlide.aVisibilityStatusElement );
aOldMetaSlide.hide();
}

var aLeavingSlide = aOldMetaSlide;
var aEnteringSlide = aNewMetaSlide;
var aTransitionEndEvent = makeEvent( bind2( this.notifyTransitionEnd, this, nNewSlide ) );

var aTransitionActivity =
this.createSlideTransition( aSlideTransitionHandler, aLeavingSlide,
aEnteringSlide, aTransitionEndEvent );

if( aTransitionActivity )
{
this.bIsTransitionRunning = true;
this.aActivityQueue.addActivity( aTransitionActivity );
this.update();
}
else
{
this.notifyTransitionEnd( nNewSlide );
}
}
else
{
this.notifyTransitionEnd( nNewSlide );
}
}
else
{
this.notifyTransitionEnd( nNewSlide );
}
}
else
{
this.notifyTransitionEnd( nNewSlide );
}

};

SlideShow.prototype.update = function()
{
this.aTimer.holdTimer();

this.aTimerEventQueue.process();
this.aActivityQueue.process();

this.aFrameSynchronization.synchronize();

this.aActivityQueue.processDequeued();

this.aTimer.releaseTimer();

var bActivitiesLeft = ( ! this.aActivityQueue.isEmpty() );
var bTimerEventsLeft = ( ! this.aTimerEventQueue.isEmpty() );
var bEventsLeft = ( bActivitiesLeft || bTimerEventsLeft );


if( bEventsLeft )
{
var nNextTimeout;
if( bActivitiesLeft )
{
nNextTimeout = MINIMUM_TIMEOUT;
this.aFrameSynchronization.activate();
}
else
{
nNextTimeout = this.aTimerEventQueue.nextTimeout();
if( nNextTimeout < MINIMUM_TIMEOUT )
nNextTimeout = MINIMUM_TIMEOUT;
else if( nNextTimeout > MAXIMUM_TIMEOUT )
nNextTimeout = MAXIMUM_TIMEOUT;
this.aFrameSynchronization.deactivate();
}

this.bIsIdle = false;
window.setTimeout( 'aSlideShow.update()', nNextTimeout * 1000 );
}
else
{
this.bIsIdle = true;
}
};

SlideShow.prototype.dispose = function()
{
this.aTimerEventQueue.clear();
this.aActivityQueue.clear();
this.aNextEffectEventArray = null;
this.aEventMultiplexer = null;
};

SlideShow.prototype.getContext = function()
{
return this.aContext;
};

var aSlideShow = null;


function SlideShowContext( aTimerEventQueue, aEventMultiplexer, aNextEffectEventArray, aInteractiveAnimationSequenceMap, aActivityQueue)
{
this.aTimerEventQueue = aTimerEventQueue;
this.aEventMultiplexer = aEventMultiplexer;
this.aNextEffectEventArray = aNextEffectEventArray;
this.aInteractiveAnimationSequenceMap = aInteractiveAnimationSequenceMap;
this.aActivityQueue = aActivityQueue;
this.bIsSkipping = false;
}


function FrameSynchronization( nFrameDuration )
{
this.nFrameDuration = nFrameDuration;
this.aTimer = new ElapsedTime();
this.nNextFrameTargetTime = 0.0;
this.bIsActive = false;

this.markCurrentFrame();
}


FrameSynchronization.prototype.markCurrentFrame = function()
{
this.nNextFrameTargetTime = this.aTimer.getElapsedTime() + this.nFrameDuration;
};

FrameSynchronization.prototype.synchronize = function()
{
if( this.bIsActive )
{
while( this.aTimer.getElapsedTime() < this.nNextFrameTargetTime )
;
}

this.markCurrentFrame();

};

FrameSynchronization.prototype.activate = function()
{
this.bIsActive = true;
};

FrameSynchronization.prototype.deactivate = function()
{
this.bIsActive = false;
};


function NextEffectEventArray()
{
this.aEventArray = [];
}


NextEffectEventArray.prototype.size = function()
{
return this.aEventArray.length;
};

NextEffectEventArray.prototype.at = function( nIndex )
{
return this.aEventArray[ nIndex ];
};

NextEffectEventArray.prototype.appendEvent = function( aEvent )
{
var nSize = this.size();
for( var i = 0; i < nSize; ++i )
{
if( this.aEventArray[i].getId() == aEvent.getId() )
{
aNextEffectEventArrayDebugPrinter.print( 'NextEffectEventArray.appendEvent: event(' + aEvent.getId() + ') already present' );
return false;
}
}
this.aEventArray.push( aEvent );
aNextEffectEventArrayDebugPrinter.print( 'NextEffectEventArray.appendEvent: event(' + aEvent.getId() + ') appended' );
return true;
};

NextEffectEventArray.prototype.clear = function( )
{
this.aEventArray = [];
};


function TimerEventQueue( aTimer )
{
this.aTimer = aTimer;
this.aEventSet = new PriorityQueue( EventEntry.compare );
}


TimerEventQueue.prototype.addEvent = function( aEvent )
{
this.DBG( 'TimerEventQueue.addEvent event(' + aEvent.getId() + ') appended.' );
if( !aEvent )
{
log( 'TimerEventQueue.addEvent: null event' );
return false;
}

var nTime = aEvent.getActivationTime( this.aTimer.getElapsedTime() );
var aEventEntry = new EventEntry( aEvent, nTime );
this.aEventSet.push( aEventEntry );

return true;
};

TimerEventQueue.prototype.forceEmpty = function()
{
this.process_(true);
};


TimerEventQueue.prototype.process = function()
{
this.process_(false);
};

TimerEventQueue.prototype.process_ = function( bFireAllEvents )
{
var nCurrentTime = this.aTimer.getElapsedTime();

while( !this.isEmpty() && ( bFireAllEvents || ( this.aEventSet.top().nActivationTime <= nCurrentTime ) ) )
{
var aEventEntry = this.aEventSet.top();
this.aEventSet.pop();

var aEvent = aEventEntry.aEvent;
if( aEvent.isCharged() )
aEvent.fire();
}
};

TimerEventQueue.prototype.isEmpty = function()
{
return this.aEventSet.isEmpty();
};

TimerEventQueue.prototype.nextTimeout = function()
{
var nTimeout = Number.MAX_VALUE;
var nCurrentTime = this.aTimer.getElapsedTime();
if( !this.isEmpty() )
nTimeout = this.aEventSet.top().nActivationTime - nCurrentTime;
return nTimeout;
};

TimerEventQueue.prototype.clear = function()
{
this.DBG( 'TimerEventQueue.clear invoked' );
this.aEventSet.clear();
};

TimerEventQueue.prototype.getTimer = function()
{
return this.aTimer;
};

TimerEventQueue.prototype.DBG = function( sMessage, nTime )
{
aTimerEventQueueDebugPrinter.print( sMessage, nTime );
};


TimerEventQueue.prototype.insert = function( aEventEntry )
{
var nHoleIndex = this.aEventSet.length;
var nParent = Math.floor( ( nHoleIndex - 1 ) / 2 );

while( ( nHoleIndex > 0 ) && this.aEventSet[ nParent ].compare( aEventEntry ) )
{
this.aEventSet[ nHoleIndex ] = this.aEventSet[ nParent ];
nHoleIndex = nParent;
nParent = Math.floor( ( nHoleIndex - 1 ) / 2 );
}
this.aEventSet[ nHoleIndex ] = aEventEntry;
};


function EventEntry( aEvent, nTime )
{
this.aEvent = aEvent;
this.nActivationTime = nTime;
}


EventEntry.compare = function( aLhsEventEntry, aRhsEventEntry )
{
if ( aLhsEventEntry.nActivationTime > aRhsEventEntry.nActivationTime )
{
return -1;
}
else if ( aLhsEventEntry.nActivationTime < aRhsEventEntry.nActivationTime )
{
return 1;
}
else
{
return 0;
}
};


function ActivityQueue( aTimer )
{
this.aTimer = aTimer;
this.aCurrentActivityWaitingSet = [];
this.aCurrentActivityReinsertSet = [];
this.aDequeuedActivitySet = [];
}


ActivityQueue.prototype.dispose = function()
{
var nSize = this.aCurrentActivityWaitingSet.length;
var i;
for( i = 0; i < nSize; ++i )
this.aCurrentActivityWaitingSet[i].dispose();

nSize = this.aCurrentActivityReinsertSet.length;
for( i = 0; i < nSize; ++i )
this.aCurrentActivityReinsertSet[i].dispose();
};

ActivityQueue.prototype.addActivity = function( aActivity )
{
if( !aActivity )
{
log( 'ActivityQueue.addActivity: activity is not valid' );
return false;
}

this.aCurrentActivityWaitingSet.push( aActivity );
aActivityQueueDebugPrinter.print( 'ActivityQueue.addActivity: activity appended' );
return true;
};

ActivityQueue.prototype.process = function()
{
var nSize = this.aCurrentActivityWaitingSet.length;
var nLag = 0.0;
for( var i = 0; i < nSize; ++i )
{
nLag = Math.max( nLag,this.aCurrentActivityWaitingSet[i].calcTimeLag()  );
}

if( nLag > 0.0 )
this.aTimer.adjustTimer( -nLag, true );


while( this.aCurrentActivityWaitingSet.length != 0 )
{
var aActivity = this.aCurrentActivityWaitingSet.shift();
var bReinsert = false;

bReinsert = aActivity.perform();

if( bReinsert )
{
this.aCurrentActivityReinsertSet.push( aActivity );
}
else
{
this.aDequeuedActivitySet.push( aActivity );
}
}

if( this.aCurrentActivityReinsertSet.length != 0 )
{
this.aCurrentActivityWaitingSet = this.aCurrentActivityReinsertSet;
this.aCurrentActivityReinsertSet = [];
}
};

ActivityQueue.prototype.processDequeued = function()
{
var nSize = this.aDequeuedActivitySet.length;
for( var i = 0; i < nSize; ++i )
this.aDequeuedActivitySet[i].dequeued();

this.aDequeuedActivitySet = [];
};

ActivityQueue.prototype.isEmpty = function()
{
return ( ( this.aCurrentActivityWaitingSet.length == 0 ) &&
( this.aCurrentActivityReinsertSet.length == 0 ) );
};

ActivityQueue.prototype.clear = function()
{
aActivityQueueDebugPrinter.print( 'ActivityQueue.clear invoked' );
var nSize = this.aCurrentActivityWaitingSet.length;
var i;
for( i = 0; i < nSize; ++i )
this.aCurrentActivityWaitingSet[i].dequeued();
this.aCurrentActivityWaitingSet = [];

nSize = this.aCurrentActivityReinsertSet.length;
for( i = 0; i < nSize; ++i )
this.aCurrentActivityReinsertSet[i].dequeued();
this.aCurrentActivityReinsertSet = [];
};

ActivityQueue.prototype.endAll = function()
{
aActivityQueueDebugPrinter.print( 'ActivityQueue.endAll invoked' );
var nSize = this.aCurrentActivityWaitingSet.length;
var i;
for( i = 0; i < nSize; ++i )
this.aCurrentActivityWaitingSet[i].end();
this.aCurrentActivityWaitingSet = [];

nSize = this.aCurrentActivityReinsertSet.length;
for( i = 0; i < nSize; ++i )
this.aCurrentActivityReinsertSet[i].end();
this.aCurrentActivityReinsertSet = [];
};

ActivityQueue.prototype.getTimer = function()
{
return this.aTimer;
};

ActivityQueue.prototype.size = function()
{
return ( this.aCurrentActivityWaitingSet.length +
this.aCurrentActivityReinsertSet.length +
this.aDequeuedActivitySet.length );
};


function ElapsedTime( aTimeBase )
{
this.aTimeBase = aTimeBase;
this.nLastQueriedTime = 0.0;
this.nStartTime = this.getCurrentTime();
this.nFrozenTime = 0.0;
this.bInPauseMode = false;
this.bInHoldMode = false;
}


ElapsedTime.prototype.getTimeBase = function()
{
return this.aTimeBase;
};

ElapsedTime.prototype.reset = function()
{
this.nLastQueriedTime = 0.0;
this.nStartTime = this.getCurrentTime();
this.nFrozenTime = 0.0;
this.bInPauseMode = false;
this.bInHoldMode = false;
};

ElapsedTime.prototype.getElapsedTime = function()
{
this.nLastQueriedTime = this.getElapsedTimeImpl();
return this.nLastQueriedTime;
};

ElapsedTime.prototype.pauseTimer = function()
{
this.nFrozenTime = this.getElapsedTimeImpl();
this.bInPauseMode = true;
};

ElapsedTime.prototype.continueTimer = function()
{
this.bInPauseMode = false;

var nPauseDuration = this.getElapsedTimeImpl() - this.nFrozenTime;

this.nStartTime += nPauseDuration;
};

ElapsedTime.prototype.adjustTimer = function( nOffset, bLimitToLastQueriedTime )
{
if( bLimitToLastQueriedTime == undefined )
bLimitToLastQueriedTime = true;

this.nStartTime -= nOffset;

if( this.bInHoldMode || this.bInPauseMode )
this.nFrozenTime += nOffset;
};

ElapsedTime.prototype.holdTimer = function()
{
this.nFrozenTime = this.getElapsedTimeImpl();
this.bInHoldMode = true;
};

ElapsedTime.prototype.releaseTimer = function()
{
this.bInHoldMode = false;
};

ElapsedTime.prototype.getSystemTime = function()
{
return ( getCurrentSystemTime() / 1000.0 );
};

ElapsedTime.prototype.getCurrentTime = function()
{
var nCurrentTime;
if ( !this.aTimeBase )
{
nCurrentTime = this.getSystemTime();
}
else
{
nCurrentTime = this.aTimeBase.getElapsedTimeImpl();
}

assert( ( typeof( nCurrentTime ) === typeof( 0 ) ) && isFinite( nCurrentTime ),
'ElapsedTime.getCurrentTime: assertion failed: nCurrentTime == ' + nCurrentTime );


return nCurrentTime;
};

ElapsedTime.prototype.getElapsedTimeImpl = function()
{
if( this.bInHoldMode || this.bInPauseMode )
{
return this.nFrozenTime;
}

var nCurTime = this.getCurrentTime();
return ( nCurTime - this.nStartTime );
};


/*****
* @libreofficeend
*
* Several parts of the above code are the result of the porting,
* started on August 2011, of the C++ code included in the source files
* placed under the folder '/slideshow/source' and subfolders.
* @source https://cgit.freedesktop.org/libreoffice/core/tree/slideshow/source
*
*/

]]>
 </script>
</svg>